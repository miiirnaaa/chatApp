/*! For license information please see main.6252fb20.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var A=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),S=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var M,U=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function B(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function V(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case w:return"Portal";case _:return"Profiler";case x:return"StrictMode";case C:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function W(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function Z(e,t){Y(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&W(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ae=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ee=null,xe=null;function _e(e){if(e=mi(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=gi(t),we(e.stateNode,e.type,t))}}function Ie(e){Ee?xe?xe.push(e):xe=[e]:Ee=e}function Se(){if(Ee){var e=Ee,t=xe;if(xe=Ee=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Te(e,t){return e(t)}function Ce(){}var Ne=!1;function Re(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Te(e,t,n)}finally{Ne=!1,(null!==Ee||null!==xe)&&(Ce(),Se())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=gi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(l)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(le){Oe=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Ue=null,Fe=!1,je=null,Be={onError:function(e){Me=!0,Ue=e}};function Ve(e,t,n,r,i,a,o,u,s){Me=!1,Ue=null,Le.apply(Be,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(a(188))}function Qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,We=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Je=i.unstable_requestPaint,Ye=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var gt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var At,bt,wt,Et,xt,_t=!1,It=[],St=null,Tt=null,Ct=null,Nt=new Map,Rt=new Map,Dt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":St=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Ct=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=mi(t))&&bt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=vi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void xt(e.priority,(function(){wt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=mi(n))&&bt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Ae=r,n.target.dispatchEvent(r),Ae=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function jt(){_t=!1,null!==St&&Ut(St)&&(St=null),null!==Tt&&Ut(Tt)&&(Tt=null),null!==Ct&&Ut(Ct)&&(Ct=null),Nt.forEach(Ft),Rt.forEach(Ft)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jt)))}function Vt(e){function t(t){return Bt(t,e)}if(0<It.length){Bt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==St&&Bt(St,e),null!==Tt&&Bt(Tt,e),null!==Ct&&Bt(Ct,e),Nt.forEach(t),Rt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Dt.shift()}var zt=A.ReactCurrentBatchConfig;function qt(e,t,n,r){var i=gt,a=zt.transition;zt.transition=null;try{gt=1,Qt(e,t,n,r)}finally{gt=i,zt.transition=a}}function Ht(e,t,n,r){var i=gt,a=zt.transition;zt.transition=null;try{gt=4,Qt(e,t,n,r)}finally{gt=i,zt.transition=a}}function Qt(e,t,n,r){var i=Gt(e,t,n,r);if(null===i)zr(e,t,r,Kt,n),Pt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return St=Lt(St,e,t,n,r,i),!0;case"dragenter":return Tt=Lt(Tt,e,t,n,r,i),!0;case"mouseover":return Ct=Lt(Ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Nt.set(a,Lt(Nt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Lt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Pt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=mi(i);if(null!==a&&At(a),null===(a=Gt(e,t,n,r))&&zr(e,t,r,Kt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else zr(e,t,r,null,n)}var Kt=null;function Gt(e,t,n,r){if(Kt=null,null!==(e=vi(e=be(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Wt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Yt=null;function Zt(){if(Yt)return Yt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Yt=i.slice(e,1<t?1-t:void 0)}function $t(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function en(){return!0}function tn(){return!1}function nn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?en:tn,this.isPropagationStopped=tn,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=en)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=en)},persist:function(){},isPersistent:en}),t}var rn,an,on,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sn=nn(un),cn=U({},un,{view:0,detail:0}),ln=nn(cn),fn=U({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(rn=e.screenX-on.screenX,an=e.screenY-on.screenY):an=rn=0,on=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),hn=nn(fn),dn=nn(U({},fn,{dataTransfer:0})),pn=nn(U({},cn,{relatedTarget:0})),vn=nn(U({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=U({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=nn(mn),gn=nn(U({},un,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},An={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=bn[e])&&!!t[e]}function En(){return wn}var xn=U({},cn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=$t(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?An[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?$t(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?$t(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=nn(xn),In=nn(U({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Sn=nn(U({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Tn=nn(U({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Cn=U({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=nn(Cn),Rn=[9,13,27,32],Dn=l&&"CompositionEvent"in window,On=null;l&&"documentMode"in document&&(On=document.documentMode);var Pn=l&&"TextEvent"in window&&!On,Ln=l&&(!Dn||On&&8<On&&11>=On),Mn=String.fromCharCode(32),Un=!1;function Fn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function qn(e,t,n,r){Ie(r),0<(t=Hr(t,"onChange")).length&&(n=new sn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Qn=null;function Kn(e){Mr(e,0)}function Gn(e){if(G(yi(e)))return e}function Wn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Yn="oninput"in document;if(!Yn){var Zn=document.createElement("div");Zn.setAttribute("oninput","return;"),Yn="function"===typeof Zn.oninput}Jn=Yn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function $n(){Hn&&(Hn.detachEvent("onpropertychange",er),Qn=Hn=null)}function er(e){if("value"===e.propertyName&&Gn(Qn)){var t=[];qn(t,Qn,e,be(e)),Re(Kn,t)}}function tr(e,t,n){"focusin"===e?($n(),Qn=n,(Hn=t).attachEvent("onpropertychange",er)):"focusout"===e&&$n()}function nr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Qn)}function rr(e,t){if("click"===e)return Gn(t)}function ir(e,t){if("input"===e||"change"===e)return Gn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function or(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function cr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?cr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function lr(){for(var e=window,t=W();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=W((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=lr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=sr(n,a);var o=sr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dr=l&&"documentMode"in document&&11>=document.documentMode,pr=null,vr=null,mr=null,yr=!1;function gr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==pr||pr!==W(r)||("selectionStart"in(r=pr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&or(mr,r)||(mr=r,0<(r=Hr(vr,"onSelect")).length&&(t=new sn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ar={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},br={},wr={};function Er(e){if(br[e])return br[e];if(!Ar[e])return e;var t,n=Ar[e];for(t in n)if(n.hasOwnProperty(t)&&t in wr)return br[e]=n[t];return e}l&&(wr=document.createElement("div").style,"AnimationEvent"in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),"TransitionEvent"in window||delete Ar.transitionend.transition);var xr=Er("animationend"),_r=Er("animationiteration"),Ir=Er("animationstart"),Sr=Er("transitionend"),Tr=new Map,Cr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Tr.set(e,t),s(t,[e])}for(var Rr=0;Rr<Cr.length;Rr++){var Dr=Cr[Rr];Nr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Nr(xr,"onAnimationEnd"),Nr(_r,"onAnimationIteration"),Nr(Ir,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Sr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Ve.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Ue;Me=!1,Ue=null,Fe||(Fe=!0,je=l)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Lr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Lr(i,u,c),a=s}}}if(Fe)throw e=je,Fe=!1,je=null,e}function Ur(e,t){var n=t[hi];void 0===n&&(n=t[hi]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var jr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[jr]){e[jr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Pr.has(t)||Fr(t,!1,e),Fr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[jr]||(t[jr]=!0,Fr("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Wt(t)){case 1:var i=qt;break;case 4:i=Ht;break;default:i=Qt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function zr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=vi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Re((function(){var r=a,i=be(n),o=[];e:{var u=Tr.get(e);if(void 0!==u){var s=sn,c=e;switch(e){case"keypress":if(0===$t(n))break e;case"keydown":case"keyup":s=_n;break;case"focusin":c="focus",s=pn;break;case"focusout":c="blur",s=pn;break;case"beforeblur":case"afterblur":s=pn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=dn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Sn;break;case xr:case _r:case Ir:s=vn;break;case Sr:s=Tn;break;case"scroll":s=ln;break;case"wheel":s=Nn;break;case"copy":case"cut":case"paste":s=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=In}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=De(p,h))&&l.push(qr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===Ae||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[fi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=hn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=In,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:yi(s),d=null==c?u:yi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,vi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Qr(d))p++;for(d=0,v=h;v;v=Qr(v))d++;for(;0<p-d;)l=Qr(l),p--;for(;0<d-p;)h=Qr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Qr(l),h=Qr(h)}l=null}else l=null;null!==s&&Kr(o,u,s,l,!1),null!==c&&null!==f&&Kr(o,f,c,l,!0)}if("select"===(s=(u=r?yi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Wn;else if(zn(u))if(Xn)m=ir;else{m=nr;var y=tr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=rr);switch(m&&(m=m(e,r))?qn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?yi(r):window,e){case"focusin":(zn(y)||"true"===y.contentEditable)&&(pr=y,vr=r,mr=null);break;case"focusout":mr=vr=pr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,gr(o,n,i);break;case"selectionchange":if(dr)break;case"keydown":case"keyup":gr(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Fn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Ln&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=Zt()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(y=Hr(r,k)).length&&(k=new gn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=jn(n))&&(k.data=g))),(g=Pn?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Un=!0,Mn);case"textInput":return(e=t.data)===Mn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Fn(e,t)?(e=Zt(),Yt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new gn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Mr(o,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(qr(e,a,i)),null!=(a=De(e,t))&&r.push(qr(e,a,i))),e=e.return}return r}function Qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=De(n,a))&&o.unshift(qr(n,s,u)):i||null!=(s=De(n,a))&&o.push(qr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Gr=/\r\n?/g,Wr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Gr,"\n").replace(Wr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Yr(){}var Zr=null;function $r(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ei="function"===typeof setTimeout?setTimeout:void 0,ti="function"===typeof clearTimeout?clearTimeout:void 0,ni="function"===typeof Promise?Promise:void 0,ri="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ni?function(e){return ni.resolve(null).then(e).catch(ii)}:ei;function ii(e){setTimeout((function(){throw e}))}function ai(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function oi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var si=Math.random().toString(36).slice(2),ci="__reactFiber$"+si,li="__reactProps$"+si,fi="__reactContainer$"+si,hi="__reactEvents$"+si,di="__reactListeners$"+si,pi="__reactHandles$"+si;function vi(e){var t=e[ci];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[ci]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[ci])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function mi(e){return!(e=e[ci]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function gi(e){return e[li]||null}var ki=[],Ai=-1;function bi(e){return{current:e}}function wi(e){0>Ai||(e.current=ki[Ai],ki[Ai]=null,Ai--)}function Ei(e,t){Ai++,ki[Ai]=e.current,e.current=t}var xi={},_i=bi(xi),Ii=bi(!1),Si=xi;function Ti(e,t){var n=e.type.contextTypes;if(!n)return xi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ci(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ni(){wi(Ii),wi(_i)}function Ri(e,t,n){if(_i.current!==xi)throw Error(a(168));Ei(_i,t),Ei(Ii,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return U({},n,r)}function Oi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xi,Si=_i.current,Ei(_i,e),Ei(Ii,Ii.current),!0}function Pi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Di(e,t,Si),r.__reactInternalMemoizedMergedChildContext=e,wi(Ii),wi(_i),Ei(_i,e)):wi(Ii),Ei(Ii,n)}var Li=null,Mi=!1,Ui=!1;function Fi(e){null===Li?Li=[e]:Li.push(e)}function ji(){if(!Ui&&null!==Li){Ui=!0;var e=0,t=gt;try{var n=Li;for(gt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Li=null,Mi=!1}catch(i){throw null!==Li&&(Li=Li.slice(e+1)),Ge($e,ji),i}finally{gt=t,Ui=!1}}return null}var Bi=A.ReactCurrentBatchConfig;function Vi(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var zi=bi(null),qi=null,Hi=null,Qi=null;function Ki(){Qi=Hi=qi=null}function Gi(e){var t=zi.current;wi(zi),e._currentValue=t}function Wi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Xi(e,t){qi=e,Qi=Hi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yu=!0),e.firstContext=null)}function Ji(e){var t=e._currentValue;if(Qi!==e)if(e={context:e,memoizedValue:t,next:null},null===Hi){if(null===qi)throw Error(a(308));Hi=e,qi.dependencies={lanes:0,firstContext:e}}else Hi=Hi.next=e;return t}var Yi=null,Zi=!1;function $i(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ea(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ta(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function na(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==gs&&0!==(1&e.mode)&&0===(2&ys)?(null===(e=n.interleaved)?(t.next=t,null===Yi?Yi=[n]:Yi.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function ra(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function ia(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function aa(e,t,n,r){var i=e.updateQueue;Zi=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=U({},f,h);break e;case 2:Zi=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);_s|=o,e.lanes=o,e.memoizedState=f}}function oa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ua=(new r.Component).refs;function sa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ca={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=zs(),i=qs(e),a=ta(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),na(e,a),null!==(t=Hs(e,i,r))&&ra(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=zs(),i=qs(e),a=ta(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),na(e,a),null!==(t=Hs(e,i,r))&&ra(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=zs(),r=qs(e),i=ta(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),na(e,i),null!==(t=Hs(e,r,n))&&ra(t,e,r)}};function la(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!or(n,r)||!or(i,a))}function fa(e,t,n){var r=!1,i=xi,a=t.contextType;return"object"===typeof a&&null!==a?a=Ji(a):(i=Ci(t)?Si:_i.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ti(e,i):xi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ca,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ca.enqueueReplaceState(t,t.state,null)}function da(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ua,$i(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ji(a):(a=Ci(t)?Si:_i.current,i.context=Ti(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(sa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ca.enqueueReplaceState(i,i.state,null),aa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var pa=[],va=0,ma=null,ya=0,ga=[],ka=0,Aa=null,ba=1,wa="";function Ea(e,t){pa[va++]=ya,pa[va++]=ma,ma=e,ya=t}function xa(e,t,n){ga[ka++]=ba,ga[ka++]=wa,ga[ka++]=Aa,Aa=e;var r=ba;e=wa;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ba=1<<32-ot(t)+i|n<<i|r,wa=a+e}else ba=1<<a|n<<i|r,wa=e}function _a(e){null!==e.return&&(Ea(e,1),xa(e,1,0))}function Ia(e){for(;e===ma;)ma=pa[--va],pa[va]=null,ya=pa[--va],pa[va]=null;for(;e===Aa;)Aa=ga[--ka],ga[ka]=null,wa=ga[--ka],ga[ka]=null,ba=ga[--ka],ga[ka]=null}var Sa=null,Ta=null,Ca=!1,Na=null;function Ra(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Da(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Sa=e,Ta=oi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Sa=e,Ta=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Aa?{id:ba,overflow:wa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Sa=e,Ta=null,!0);default:return!1}}function Oa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Pa(e){if(Ca){var t=Ta;if(t){var n=t;if(!Da(e,t)){if(Oa(e))throw Error(a(418));t=oi(n.nextSibling);var r=Sa;t&&Da(e,t)?Ra(r,n):(e.flags=-4097&e.flags|2,Ca=!1,Sa=e)}}else{if(Oa(e))throw Error(a(418));e.flags=-4097&e.flags|2,Ca=!1,Sa=e}}}function La(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Sa=e}function Ma(e){if(e!==Sa)return!1;if(!Ca)return La(e),Ca=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!$r(e.type,e.memoizedProps)),t&&(t=Ta)){if(Oa(e)){for(e=Ta;e;)e=oi(e.nextSibling);throw Error(a(418))}for(;t;)Ra(e,t),t=oi(t.nextSibling)}if(La(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ta=oi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ta=null}}else Ta=Sa?oi(e.stateNode.nextSibling):null;return!0}function Ua(){Ta=Sa=null,Ca=!1}function Fa(e){null===Na?Na=[e]:Na.push(e)}function ja(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ba(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Va(e){return(0,e._init)(e._payload)}function za(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=wc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ic(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&Va(a)===t.type)?((r=i(t,n.props)).ref=ja(e,t,n),r.return=e,r):((r=Ec(n.type,n.key,n.props,null,e.mode,r)).ref=ja(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Sc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=xc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ic(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Ec(t.type,t.key,t.props,null,e.mode,n)).ref=ja(e,null,t),n.return=e,n;case w:return(t=Sc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=xc(t,e.mode,n,null)).return=e,t;Ba(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?c(e,t,n,r):null;case w:return n.key===i?l(e,t,n,r):null;case D:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ba(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ba(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),Ca&&Ea(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return Ca&&Ea(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),Ca&&Ea(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),Ca&&Ea(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return Ca&&Ea(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),Ca&&Ea(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case b:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===E){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Va(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=ja(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===E?((a=xc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Ec(o.type,o.key,o.props,null,r.mode,s)).ref=ja(r,a,o),s.return=r,r=s)}return u(r);case w:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Sc(o,r.mode,s)).return=r,r=a}return u(r);case D:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Ba(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Ic(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var qa=za(!0),Ha=za(!1),Qa={},Ka=bi(Qa),Ga=bi(Qa),Wa=bi(Qa);function Xa(e){if(e===Qa)throw Error(a(174));return e}function Ja(e,t){switch(Ei(Wa,t),Ei(Ga,e),Ei(Ka,Qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}wi(Ka),Ei(Ka,t)}function Ya(){wi(Ka),wi(Ga),wi(Wa)}function Za(e){Xa(Wa.current);var t=Xa(Ka.current),n=se(t,e.type);t!==n&&(Ei(Ga,e),Ei(Ka,n))}function $a(e){Ga.current===e&&(wi(Ka),wi(Ga))}var eo=bi(0);function to(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var no=[];function ro(){for(var e=0;e<no.length;e++)no[e]._workInProgressVersionPrimary=null;no.length=0}var io=A.ReactCurrentDispatcher,ao=A.ReactCurrentBatchConfig,oo=0,uo=null,so=null,co=null,lo=!1,fo=!1,ho=0,po=0;function vo(){throw Error(a(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function yo(e,t,n,r,i,o){if(oo=o,uo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,io.current=null===e||null===e.memoizedState?$o:eu,e=n(r,i),fo){o=0;do{if(fo=!1,ho=0,25<=o)throw Error(a(301));o+=1,co=so=null,t.updateQueue=null,io.current=tu,e=n(r,i)}while(fo)}if(io.current=Zo,t=null!==so&&null!==so.next,oo=0,co=so=uo=null,lo=!1,t)throw Error(a(300));return e}function go(){var e=0!==ho;return ho=0,e}function ko(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===co?uo.memoizedState=co=e:co=co.next=e,co}function Ao(){if(null===so){var e=uo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===co?uo.memoizedState:co.next;if(null!==t)co=t,so=e;else{if(null===e)throw Error(a(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===co?uo.memoizedState=co=e:co=co.next=e}return co}function bo(e,t){return"function"===typeof t?t(e):t}function wo(e){var t=Ao(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=so,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((oo&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,uo.lanes|=f,_s|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ar(r,t.memoizedState)||(yu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,uo.lanes|=o,_s|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Eo(e){var t=Ao(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ar(o,t.memoizedState)||(yu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function xo(){}function _o(e,t){var n=uo,r=Ao(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,yu=!0),r=r.queue,Mo(To.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==co&&1&co.memoizedState.tag){if(n.flags|=2048,Ro(9,So.bind(null,n,r,i,t),void 0,null),null===gs)throw Error(a(349));0!==(30&oo)||Io(n,t,i)}return i}function Io(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function So(e,t,n,r){t.value=n,t.getSnapshot=r,Co(t)&&Hs(e,1,-1)}function To(e,t,n){return n((function(){Co(t)&&Hs(e,1,-1)}))}function Co(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function No(e){var t=ko();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:e},t.queue=e,e=e.dispatch=Go.bind(null,uo,e),[t.memoizedState,e]}function Ro(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Do(){return Ao().memoizedState}function Oo(e,t,n,r){var i=ko();uo.flags|=e,i.memoizedState=Ro(1|t,n,void 0,void 0===r?null:r)}function Po(e,t,n,r){var i=Ao();r=void 0===r?null:r;var a=void 0;if(null!==so){var o=so.memoizedState;if(a=o.destroy,null!==r&&mo(r,o.deps))return void(i.memoizedState=Ro(t,n,a,r))}uo.flags|=e,i.memoizedState=Ro(1|t,n,a,r)}function Lo(e,t){return Oo(8390656,8,e,t)}function Mo(e,t){return Po(2048,8,e,t)}function Uo(e,t){return Po(4,2,e,t)}function Fo(e,t){return Po(4,4,e,t)}function jo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Po(4,4,jo.bind(null,t,e),n)}function Vo(){}function zo(e,t){var n=Ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qo(e,t){var n=Ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ho(e,t){var n=gt;gt=0!==n&&4>n?n:4,e(!0);var r=ao.transition;ao.transition={};try{e(!1),t()}finally{gt=n,ao.transition=r}}function Qo(){return Ao().memoizedState}function Ko(e,t,n){var r=qs(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Wo(e)?Xo(t,n):(Jo(e,t,n),null!==(e=Hs(e,r,n=zs()))&&Yo(e,t,r))}function Go(e,t,n){var r=qs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wo(e))Xo(t,i);else{Jo(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ar(u,o))return}catch(s){}null!==(e=Hs(e,r,n=zs()))&&Yo(e,t,r)}}function Wo(e){var t=e.alternate;return e===uo||null!==t&&t===uo}function Xo(e,t){fo=lo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Jo(e,t,n){null!==gs&&0!==(1&e.mode)&&0===(2&ys)?(null===(e=t.interleaved)?(n.next=n,null===Yi?Yi=[t]:Yi.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function Yo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Zo={readContext:Ji,useCallback:vo,useContext:vo,useEffect:vo,useImperativeHandle:vo,useInsertionEffect:vo,useLayoutEffect:vo,useMemo:vo,useReducer:vo,useRef:vo,useState:vo,useDebugValue:vo,useDeferredValue:vo,useTransition:vo,useMutableSource:vo,useSyncExternalStore:vo,useId:vo,unstable_isNewReconciler:!1},$o={readContext:Ji,useCallback:function(e,t){return ko().memoizedState=[e,void 0===t?null:t],e},useContext:Ji,useEffect:Lo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oo(4194308,4,jo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oo(4,2,e,t)},useMemo:function(e,t){var n=ko();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ko();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ko.bind(null,uo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ko().memoizedState=e},useState:No,useDebugValue:Vo,useDeferredValue:function(e){var t=No(e),n=t[0],r=t[1];return Lo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){var e=No(!1),t=e[0];return e=Ho.bind(null,e[1]),ko().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=uo,i=ko();if(Ca){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===gs)throw Error(a(349));0!==(30&oo)||Io(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Lo(To.bind(null,r,o,e),[e]),r.flags|=2048,Ro(9,So.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=ko(),t=gs.identifierPrefix;if(Ca){var n=wa;t=":"+t+"R"+(n=(ba&~(1<<32-ot(ba)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},eu={readContext:Ji,useCallback:zo,useContext:Ji,useEffect:Mo,useImperativeHandle:Bo,useInsertionEffect:Uo,useLayoutEffect:Fo,useMemo:qo,useReducer:wo,useRef:Do,useState:function(){return wo(bo)},useDebugValue:Vo,useDeferredValue:function(e){var t=wo(bo),n=t[0],r=t[1];return Mo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){return[wo(bo)[0],Ao().memoizedState]},useMutableSource:xo,useSyncExternalStore:_o,useId:Qo,unstable_isNewReconciler:!1},tu={readContext:Ji,useCallback:zo,useContext:Ji,useEffect:Mo,useImperativeHandle:Bo,useInsertionEffect:Uo,useLayoutEffect:Fo,useMemo:qo,useReducer:Eo,useRef:Do,useState:function(){return Eo(bo)},useDebugValue:Vo,useDeferredValue:function(e){var t=Eo(bo),n=t[0],r=t[1];return Mo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){return[Eo(bo)[0],Ao().memoizedState]},useMutableSource:xo,useSyncExternalStore:_o,useId:Qo,unstable_isNewReconciler:!1};function nu(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ru(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var iu,au,ou,uu="function"===typeof WeakMap?WeakMap:Map;function su(e,t,n){(n=ta(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ds||(Ds=!0,Os=r),ru(0,t)},n}function cu(e,t,n){(n=ta(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ru(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ru(0,t),"function"!==typeof r&&(null===Ps?Ps=new Set([this]):Ps.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function lu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new uu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=pc.bind(null,e,t,n),t.then(e,e))}function fu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function hu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ta(-1,1)).tag=2,na(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function du(e,t){if(!Ca)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function vu(e,t,n){var r=t.pendingProps;switch(Ia(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pu(t),null;case 1:case 17:return Ci(t.type)&&Ni(),pu(t),null;case 3:return r=t.stateNode,Ya(),wi(Ii),wi(_i),ro(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ma(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Na&&(Xs(Na),Na=null))),pu(t),null;case 5:$a(t);var i=Xa(Wa.current);if(n=t.type,null!==e&&null!=t.stateNode)au(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return pu(t),null}if(e=Xa(Ka.current),Ma(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ci]=t,r[li]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Ur(Or[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":J(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":K(r),$(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Yr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[ci]=t,e[li]=r,iu(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Ur(Or[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":J(e,r),i=X(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=U({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":K(e),$(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Yr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return pu(t),null;case 6:if(e&&null!=t.stateNode)ou(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Xa(Wa.current),Xa(Ka.current),Ma(t)){if(r=t.stateNode,n=t.memoizedProps,r[ci]=t,(o=r.nodeValue!==n)&&null!==(e=Sa))switch(s=0!==(1&e.mode),e.tag){case 3:Jr(r.nodeValue,n,s);break;case 5:!0!==e.memoizedProps[void 0]&&Jr(r.nodeValue,n,s)}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ci]=t,t.stateNode=r}return pu(t),null;case 13:if(wi(eo),r=t.memoizedState,Ca&&null!==Ta&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Ta;r;)r=oi(r.nextSibling);return Ua(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Ma(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[ci]=t}else Ua(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return pu(t),null}return null!==Na&&(Xs(Na),Na=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Ma(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&eo.current)?0===Es&&(Es=3):ic())),null!==t.updateQueue&&(t.flags|=4),pu(t),null);case 4:return Ya(),null===e&&Br(t.stateNode.containerInfo),pu(t),null;case 10:return Gi(t.type._context),pu(t),null;case 19:if(wi(eo),null===(o=t.memoizedState))return pu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)du(o,!1);else{if(0!==Es||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=to(e))){for(t.flags|=128,du(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(eo,1&eo.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>Rs&&(t.flags|=128,r=!0,du(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=to(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),du(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!Ca)return pu(t),null}else 2*Ye()-o.renderingStartTime>Rs&&1073741824!==n&&(t.flags|=128,r=!0,du(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=eo.current,Ei(eo,r?1&n|2:1&n),t):(pu(t),null);case 22:case 23:return ec(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&bs)&&(pu(t),6&t.subtreeFlags&&(t.flags|=8192)):pu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}iu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},au=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Xa(Ka.current);var a,o=null;switch(n){case"input":i=X(e,i),r=X(e,r),o=[];break;case"select":i=U({},i,{value:void 0}),r=U({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Yr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},ou=function(e,t,n,r){n!==r&&(t.flags|=4)};var mu=A.ReactCurrentOwner,yu=!1;function gu(e,t,n,r){t.child=null===e?Ha(t,null,n,r):qa(t,e.child,n,r)}function ku(e,t,n,r,i){n=n.render;var a=t.ref;return Xi(t,i),r=yo(e,t,n,r,a,i),n=go(),null===e||yu?(Ca&&n&&_a(t),t.flags|=1,gu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ju(e,t,i))}function Au(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||bc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ec(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,bu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:or)(o,r)&&e.ref===t.ref)return ju(e,t,i)}return t.flags|=1,(e=wc(a,r)).ref=t.ref,e.return=t,t.child=e}function bu(e,t,n,r,i){if(null!==e&&or(e.memoizedProps,r)&&e.ref===t.ref){if(yu=!1,0===(e.lanes&i))return t.lanes=e.lanes,ju(e,t,i);0!==(131072&e.flags)&&(yu=!0)}return xu(e,t,n,r,i)}function wu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},Ei(ws,bs),bs|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,Ei(ws,bs),bs|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:n,Ei(ws,bs),bs|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(ws,bs),bs|=r;return gu(e,t,i,n),t.child}function Eu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xu(e,t,n,r,i){var a=Ci(n)?Si:_i.current;return a=Ti(t,a),Xi(t,i),n=yo(e,t,n,r,a,i),r=go(),null===e||yu?(Ca&&r&&_a(t),t.flags|=1,gu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ju(e,t,i))}function _u(e,t,n,r,i){if(Ci(n)){var a=!0;Oi(t)}else a=!1;if(Xi(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),fa(t,n,r),da(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ji(c):c=Ti(t,c=Ci(n)?Si:_i.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ha(t,o,r,c),Zi=!1;var h=t.memoizedState;o.state=h,aa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ii.current||Zi?("function"===typeof l&&(sa(t,n,l,r),s=t.memoizedState),(u=Zi||la(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ea(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Vi(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ji(s):s=Ti(t,s=Ci(n)?Si:_i.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ha(t,o,r,s),Zi=!1,h=t.memoizedState,o.state=h,aa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ii.current||Zi?("function"===typeof d&&(sa(t,n,d,r),p=t.memoizedState),(c=Zi||la(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Iu(e,t,n,r,a,i)}function Iu(e,t,n,r,i,a){Eu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Pi(t,n,!1),ju(e,t,a);r=t.stateNode,mu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=qa(t,e.child,null,a),t.child=qa(t,null,u,a)):gu(e,t,u,a),t.memoizedState=r.state,i&&Pi(t,n,!0),t.child}function Su(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),Ja(e,t.containerInfo)}function Tu(e,t,n,r,i){return Ua(),Fa(i),t.flags|=256,gu(e,t,n,r),t.child}var Cu={dehydrated:null,treeContext:null,retryLane:0};function Nu(e){return{baseLanes:e,cachePool:null}}function Ru(e,t,n){var r,i=t.pendingProps,o=eo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(eo,1&o),null===e)return Pa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,u?(i=t.mode,u=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=o):u=_c(o,i,0,null),e=xc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Nu(n),t.memoizedState=Cu,e):Du(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(s)return 256&t.flags?(t.flags&=-257,Lu(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(u=i.fallback,o=t.mode,i=_c({mode:"visible",children:i.children},o,0,null),(u=xc(u,o,n,null)).flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,0!==(1&t.mode)&&qa(t,e.child,null,n),t.child.memoizedState=Nu(n),t.memoizedState=Cu,u);if(0===(1&t.mode))t=Lu(e,t,n,null);else if("$!"===r.data)t=Lu(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),yu||i){if(null!==(i=gs)){switch(n&-n){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}0!==(i=0!==(u&(i.suspendedLanes|n))?0:u)&&i!==o.retryLane&&(o.retryLane=i,Hs(e,i,-1))}ic(),t=Lu(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=mc.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Ta=oi(r.nextSibling),Sa=t,Ca=!0,Na=null,null!==n&&(ga[ka++]=ba,ga[ka++]=wa,ga[ka++]=Aa,ba=n.id,wa=n.overflow,Aa=t),(t=Du(t,t.pendingProps.children)).flags|=4096);return t}return u?(i=Pu(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Nu(n):{baseLanes:o.baseLanes|n,cachePool:null},u.childLanes=e.childLanes&~n,t.memoizedState=Cu,i):(n=Ou(e,t,i.children,n),t.memoizedState=null,n)}return u?(i=Pu(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Nu(n):{baseLanes:o.baseLanes|n,cachePool:null},u.childLanes=e.childLanes&~n,t.memoizedState=Cu,i):(n=Ou(e,t,i.children,n),t.memoizedState=null,n)}function Du(e,t){return(t=_c({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ou(e,t,n,r){var i=e.child;return e=i.sibling,n=wc(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Pu(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,u={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=u,t.deletions=null):(n=wc(e,u)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=wc(o,r):(r=xc(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Lu(e,t,n,r){return null!==r&&Fa(r),qa(t,e.child,null,n),(e=Du(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Mu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Wi(e.return,t,n)}function Uu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Fu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(gu(e,t,r.children,n),0!==(2&(r=eo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Mu(e,n,t);else if(19===e.tag)Mu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(eo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===to(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Uu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===to(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Uu(t,!0,n,null,a);break;case"together":Uu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ju(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),_s|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=wc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=wc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Bu(e,t){switch(Ia(t),t.tag){case 1:return Ci(t.type)&&Ni(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ya(),wi(Ii),wi(_i),ro(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return $a(t),null;case 13:if(wi(eo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Ua()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return wi(eo),null;case 4:return Ya(),null;case 10:return Gi(t.type._context),null;case 22:case 23:return ec(),null;default:return null}}var Vu=!1,zu=!1,qu="function"===typeof WeakSet?WeakSet:Set,Hu=null;function Qu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){dc(e,t,r)}else n.current=null}function Ku(e,t,n){try{n()}catch(r){dc(e,t,r)}}var Gu=!1;function Wu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Ku(t,n,a)}i=i.next}while(i!==r)}}function Xu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ju(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function Yu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&Ku(t,n,a),r=r.next}while(r!==e)}break;case 1:if(Qu(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){dc(t,n,o)}break;case 5:Qu(t,n);break;case 4:is(e,t,n)}}function Zu(e){var t=e.alternate;null!==t&&(e.alternate=null,Zu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ci],delete t[li],delete t[hi],delete t[di],delete t[pi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $u(e){return 5===e.tag||3===e.tag||4===e.tag}function es(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||$u(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ts(e){e:{for(var t=e.return;null!==t;){if($u(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(he(t,""),n.flags&=-33),rs(e,n=es(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,ns(e,n=es(e),t);break;default:throw Error(a(161))}}function ns(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Yr));else if(4!==r&&null!==(e=e.child))for(ns(e,t,n),e=e.sibling;null!==e;)ns(e,t,n),e=e.sibling}function rs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(rs(e,t,n),e=e.sibling;null!==e;)rs(e,t,n),e=e.sibling}function is(e,t,n){for(var r,i,o=t,u=!1;;){if(!u){u=o.return;e:for(;;){if(null===u)throw Error(a(160));switch(r=u.stateNode,u.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}u=u.return}u=!0}if(5===o.tag||6===o.tag){e:for(var s=e,c=o,l=n,f=c;;)if(Yu(s,f,l),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break e;for(;null===f.sibling;){if(null===f.return||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(s=r,c=o.stateNode,8===s.nodeType?s.parentNode.removeChild(c):s.removeChild(c)):r.removeChild(o.stateNode)}else if(18===o.tag)i?(s=r,c=o.stateNode,8===s.nodeType?ai(s.parentNode,c):1===s.nodeType&&ai(s,c),Vt(s)):ai(r,o.stateNode);else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(Yu(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(u=!1)}o.sibling.return=o.return,o=o.sibling}}function as(e,t){switch(t.tag){case 0:case 11:case 14:case 15:return Wu(3,t,t.return),Xu(3,t),void Wu(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for("input"===e&&"radio"===r.type&&null!=r.name&&Y(n,r),ke(e,i),t=ke(e,r),i=0;i<o.length;i+=2){var u=o[i],s=o[i+1];"style"===u?me(n,s):"dangerouslySetInnerHTML"===u?fe(n,s):"children"===u?he(n,s):k(n,u,s,t)}switch(e){case"input":Z(n,r);break;case"textarea":ae(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ne(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ne(n,!!r.multiple,r.defaultValue,!0):ne(n,!!r.multiple,r.multiple?[]:"",!1))}n[li]=r}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void(null!==e&&e.memoizedState.isDehydrated&&Vt(t.stateNode.containerInfo));case 13:case 19:return void os(t)}throw Error(a(163))}function os(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new qu),t.forEach((function(t){var r=yc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function us(e,t,n){Hu=e,ss(e,t,n)}function ss(e,t,n){for(var r=0!==(1&e.mode);null!==Hu;){var i=Hu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Vu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||zu;u=Vu;var c=zu;if(Vu=o,(zu=s)&&!c)for(Hu=i;null!==Hu;)s=(o=Hu).child,22===o.tag&&null!==o.memoizedState?fs(i):null!==s?(s.return=o,Hu=s):fs(i);for(;null!==a;)Hu=a,ss(a,t,n),a=a.sibling;Hu=i,Vu=u,zu=c}cs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Hu=a):cs(e)}}function cs(e){for(;null!==Hu;){var t=Hu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:zu||Xu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!zu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Vi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&oa(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}oa(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Vt(h)}}}break;default:throw Error(a(163))}zu||512&t.flags&&Ju(t)}catch(d){dc(t,t.return,d)}}if(t===e){Hu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Hu=n;break}Hu=t.return}}function ls(e){for(;null!==Hu;){var t=Hu;if(t===e){Hu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Hu=n;break}Hu=t.return}}function fs(e){for(;null!==Hu;){var t=Hu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Xu(4,t)}catch(s){dc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){dc(t,i,s)}}var a=t.return;try{Ju(t)}catch(s){dc(t,a,s)}break;case 5:var o=t.return;try{Ju(t)}catch(s){dc(t,o,s)}}}catch(s){dc(t,t.return,s)}if(t===e){Hu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Hu=u;break}Hu=t.return}}var hs,ds=Math.ceil,ps=A.ReactCurrentDispatcher,vs=A.ReactCurrentOwner,ms=A.ReactCurrentBatchConfig,ys=0,gs=null,ks=null,As=0,bs=0,ws=bi(0),Es=0,xs=null,_s=0,Is=0,Ss=0,Ts=null,Cs=null,Ns=0,Rs=1/0,Ds=!1,Os=null,Ps=null,Ls=!1,Ms=null,Us=0,Fs=0,js=null,Bs=-1,Vs=0;function zs(){return 0!==(6&ys)?Ye():-1!==Bs?Bs:Bs=Ye()}function qs(e){return 0===(1&e.mode)?1:0!==(2&ys)&&0!==As?As&-As:null!==Bi.transition?(0===Vs&&(e=ct,0===(4194240&(ct<<=1))&&(ct=64),Vs=e),Vs):0!==(e=gt)?e:e=void 0===(e=window.event)?16:Wt(e.type)}function Hs(e,t,n){if(50<Fs)throw Fs=0,js=null,Error(a(185));var r=Qs(e,t);return null===r?null:(mt(r,t,n),0!==(2&ys)&&r===gs||(r===gs&&(0===(2&ys)&&(Is|=t),4===Es&&Js(r,As)),Ks(r,n),1===t&&0===ys&&0===(1&e.mode)&&(Rs=Ye()+500,Mi&&ji())),r)}function Qs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Ks(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===gs?As:0);if(0===r)null!==n&&We(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&We(n),1===t)0===e.tag?function(e){Mi=!0,Fi(e)}(Ys.bind(null,e)):Fi(Ys.bind(null,e)),ri((function(){0===ys&&ji()})),n=null;else{switch(kt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=gc(n,Gs.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Gs(e,t){if(Bs=-1,Vs=0,0!==(6&ys))throw Error(a(327));var n=e.callbackNode;if(fc()&&e.callbackNode!==n)return null;var r=ht(e,e===gs?As:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ac(e,r);else{t=r;var i=ys;ys|=2;var o=rc();for(gs===e&&As===t||(Rs=Ye()+500,tc(e,t));;)try{uc();break}catch(s){nc(e,s)}Ki(),ps.current=o,ys=i,null!==ks?t=0:(gs=null,As=0,t=Es)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=Ws(e,i))),1===t)throw n=xs,tc(e,0),Js(e,r),Ks(e,Ye()),n;if(6===t)Js(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ar(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ac(e,r))&&(0!==(o=pt(e))&&(r=o,t=Ws(e,o))),1===t))throw n=xs,tc(e,0),Js(e,r),Ks(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:lc(e,Cs);break;case 3:if(Js(e,r),(130023424&r)===r&&10<(t=Ns+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){zs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ei(lc.bind(null,e,Cs),t);break}lc(e,Cs);break;case 4:if(Js(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ds(r/1960))-r)){e.timeoutHandle=ei(lc.bind(null,e,Cs),r);break}lc(e,Cs);break;default:throw Error(a(329))}}}return Ks(e,Ye()),e.callbackNode===n?Gs.bind(null,e):null}function Ws(e,t){var n=Ts;return e.current.memoizedState.isDehydrated&&(tc(e,t).flags|=256),2!==(e=ac(e,t))&&(t=Cs,Cs=n,null!==t&&Xs(t)),e}function Xs(e){null===Cs?Cs=e:Cs.push.apply(Cs,e)}function Js(e,t){for(t&=~Ss,t&=~Is,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function Ys(e){if(0!==(6&ys))throw Error(a(327));fc();var t=ht(e,0);if(0===(1&t))return Ks(e,Ye()),null;var n=ac(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=Ws(e,r))}if(1===n)throw n=xs,tc(e,0),Js(e,t),Ks(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,lc(e,Cs),Ks(e,Ye()),null}function Zs(e,t){var n=ys;ys|=1;try{return e(t)}finally{0===(ys=n)&&(Rs=Ye()+500,Mi&&ji())}}function $s(e){null!==Ms&&0===Ms.tag&&0===(6&ys)&&fc();var t=ys;ys|=1;var n=ms.transition,r=gt;try{if(ms.transition=null,gt=1,e)return e()}finally{gt=r,ms.transition=n,0===(6&(ys=t))&&ji()}}function ec(){bs=ws.current,wi(ws)}function tc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ti(n)),null!==ks)for(n=ks.return;null!==n;){var r=n;switch(Ia(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ni();break;case 3:Ya(),wi(Ii),wi(_i),ro();break;case 5:$a(r);break;case 4:Ya();break;case 13:case 19:wi(eo);break;case 10:Gi(r.type._context);break;case 22:case 23:ec()}n=n.return}if(gs=e,ks=e=wc(e.current,null),As=bs=t,Es=0,xs=null,Ss=Is=_s=0,Cs=Ts=null,null!==Yi){for(t=0;t<Yi.length;t++)if(null!==(r=(n=Yi[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Yi=null}return e}function nc(e,t){for(;;){var n=ks;try{if(Ki(),io.current=Zo,lo){for(var r=uo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}lo=!1}if(oo=0,co=so=uo=null,fo=!1,ho=0,vs.current=null,null===n||null===n.return){Es=1,xs=t,ks=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=As,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=fu(u);if(null!==p){p.flags&=-257,hu(p,u,s,0,t),1&p.mode&&lu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){lu(o,l,t),ic();break e}c=Error(a(426))}else if(Ca&&1&s.mode){var y=fu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),hu(y,u,s,0,t),Fa(c);break e}}o=c,4!==Es&&(Es=2),null===Ts?Ts=[o]:Ts.push(o),c=nu(c,s),s=u;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,ia(s,su(0,c,t));break e;case 1:o=c;var g=s.type,k=s.stateNode;if(0===(128&s.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ps||!Ps.has(k)))){s.flags|=65536,t&=-t,s.lanes|=t,ia(s,cu(s,o,t));break e}}s=s.return}while(null!==s)}cc(n)}catch(A){t=A,ks===n&&null!==n&&(ks=n=n.return);continue}break}}function rc(){var e=ps.current;return ps.current=Zo,null===e?Zo:e}function ic(){0!==Es&&3!==Es&&2!==Es||(Es=4),null===gs||0===(268435455&_s)&&0===(268435455&Is)||Js(gs,As)}function ac(e,t){var n=ys;ys|=2;var r=rc();for(gs===e&&As===t||tc(e,t);;)try{oc();break}catch(i){nc(e,i)}if(Ki(),ys=n,ps.current=r,null!==ks)throw Error(a(261));return gs=null,As=0,Es}function oc(){for(;null!==ks;)sc(ks)}function uc(){for(;null!==ks&&!Xe();)sc(ks)}function sc(e){var t=hs(e.alternate,e,bs);e.memoizedProps=e.pendingProps,null===t?cc(e):ks=t,vs.current=null}function cc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=vu(n,t,bs)))return void(ks=n)}else{if(null!==(n=Bu(n,t)))return n.flags&=32767,void(ks=n);if(null===e)return Es=6,void(ks=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(ks=t);ks=t=e}while(null!==t);0===Es&&(Es=5)}function lc(e,t){var n=gt,r=ms.transition;try{ms.transition=null,gt=1,function(e,t,n){do{fc()}while(null!==Ms);if(0!==(6&ys))throw Error(a(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===gs&&(ks=gs=null,As=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Ls||(Ls=!0,gc(tt,(function(){return fc(),null}))),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=ms.transition,ms.transition=null;var u=gt;gt=1;var s=ys;ys|=4,vs.current=null,function(e,t){if(fr(e=lr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zr={focusedElem:e,selectionRange:n},Hu=t;null!==Hu;)if(e=(t=Hu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Hu=e;else for(;null!==Hu;){t=Hu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:Vi(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var A=t.stateNode.containerInfo;if(1===A.nodeType)A.textContent="";else if(9===A.nodeType){var b=A.body;null!=b&&(b.textContent="")}break;default:throw Error(a(163))}}catch(w){dc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Hu=e;break}Hu=t.return}v=Gu,Gu=!1}(e,r),function(e,t){for(Hu=t;null!==Hu;){var n=(t=Hu).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{is(e,i,t);var a=i.alternate;null!==a&&(a.return=null),i.return=null}catch(x){dc(i,t,x)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,Hu=n;else for(;null!==Hu;){t=Hu;try{var o=t.flags;if(32&o&&he(t.stateNode,""),512&o){var u=t.alternate;if(null!==u){var s=u.ref;null!==s&&("function"===typeof s?s(null):s.current=null)}}if(8192&o)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;null!==c&&null!==c.memoizedState||(Ns=Ye())}break;case 22:var l=null!==t.memoizedState,f=t.alternate,h=null!==f&&null!==f.memoizedState;e:{i=l;for(var d=null,p=r=n=t;;){if(5===p.tag){if(null===d){d=p;var v=p.stateNode;if(i){var m=v.style;"function"===typeof m.setProperty?m.setProperty("display","none","important"):m.display="none"}else{var y=p.stateNode,g=p.memoizedProps.style,k=void 0!==g&&null!==g&&g.hasOwnProperty("display")?g.display:null;y.style.display=ve("display",k)}}}else if(6===p.tag)null===d&&(p.stateNode.nodeValue=i?"":p.memoizedProps);else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}if(l&&!h&&0!==(1&n.mode)){Hu=n;for(var A=n.child;null!==A;){for(n=Hu=A;null!==Hu;){var b=(r=Hu).child;switch(r.tag){case 0:case 11:case 14:case 15:Wu(4,r,r.return);break;case 1:Qu(r,r.return);var w=r.stateNode;if("function"===typeof w.componentWillUnmount){var E=r.return;try{w.props=r.memoizedProps,w.state=r.memoizedState,w.componentWillUnmount()}catch(x){dc(r,E,x)}}break;case 5:Qu(r,r.return);break;case 22:if(null!==r.memoizedState){ls(n);continue}}null!==b?(b.return=r,Hu=b):ls(n)}A=A.sibling}}}switch(4102&o){case 2:ts(t),t.flags&=-3;break;case 6:ts(t),t.flags&=-3,as(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,as(t.alternate,t);break;case 4:as(t.alternate,t)}}catch(x){dc(t,t.return,x)}if(null!==(n=t.sibling)){n.return=t.return,Hu=n;break}Hu=t.return}}}(e,r),hr(Zr),Zr=null,e.current=r,us(r,e,i),Je(),ys=s,gt=u,ms.transition=o}else e.current=r;if(Ls&&(Ls=!1,Ms=e,Us=i),0===(o=e.pendingLanes)&&(Ps=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),Ks(e,Ye()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(Ds)throw Ds=!1,e=Os,Os=null,e;0!==(1&Us)&&0!==e.tag&&fc(),0!==(1&(o=e.pendingLanes))?e===js?Fs++:(Fs=0,js=e):Fs=0,ji()}(e,t,n)}finally{ms.transition=r,gt=n}return null}function fc(){if(null!==Ms){var e=kt(Us),t=ms.transition,n=gt;try{if(ms.transition=null,gt=16>e?16:e,null===Ms)var r=!1;else{if(e=Ms,Ms=null,Us=0,0!==(6&ys))throw Error(a(331));var i=ys;for(ys|=4,Hu=e.current;null!==Hu;){var o=Hu,u=o.child;if(0!==(16&Hu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Hu=l;null!==Hu;){var f=Hu;switch(f.tag){case 0:case 11:case 15:Wu(8,f,o)}var h=f.child;if(null!==h)h.return=f,Hu=h;else for(;null!==Hu;){var d=(f=Hu).sibling,p=f.return;if(Zu(f),f===l){Hu=null;break}if(null!==d){d.return=p,Hu=d;break}Hu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Hu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Hu=u;else e:for(;null!==Hu;){if(0!==(2048&(o=Hu).flags))switch(o.tag){case 0:case 11:case 15:Wu(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Hu=g;break e}Hu=o.return}}var k=e.current;for(Hu=k;null!==Hu;){var A=(u=Hu).child;if(0!==(2064&u.subtreeFlags)&&null!==A)A.return=u,Hu=A;else e:for(u=k;null!==Hu;){if(0!==(2048&(s=Hu).flags))try{switch(s.tag){case 0:case 11:case 15:Xu(9,s)}}catch(w){dc(s,s.return,w)}if(s===u){Hu=null;break e}var b=s.sibling;if(null!==b){b.return=s.return,Hu=b;break e}Hu=s.return}}if(ys=i,ji(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(w){}r=!0}return r}finally{gt=n,ms.transition=t}}return!1}function hc(e,t,n){na(e,t=su(0,t=nu(n,t),1)),t=zs(),null!==(e=Qs(e,1))&&(mt(e,1,t),Ks(e,t))}function dc(e,t,n){if(3===e.tag)hc(e,e,n);else for(;null!==t;){if(3===t.tag){hc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ps||!Ps.has(r))){na(t,e=cu(t,e=nu(n,e),1)),e=zs(),null!==(t=Qs(t,1))&&(mt(t,1,e),Ks(t,e));break}}t=t.return}}function pc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=zs(),e.pingedLanes|=e.suspendedLanes&n,gs===e&&(As&n)===n&&(4===Es||3===Es&&(130023424&As)===As&&500>Ye()-Ns?tc(e,0):Ss|=n),Ks(e,t)}function vc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=zs();null!==(e=Qs(e,t))&&(mt(e,t,n),Ks(e,n))}function mc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),vc(e,n)}function yc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),vc(e,n)}function gc(e,t){return Ge(e,t)}function kc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new kc(e,t,n,r)}function bc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function wc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ec(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)bc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return xc(n.children,i,o,t);case x:u=8,i|=8;break;case _:return(e=Ac(12,n,t,2|i)).elementType=_,e.lanes=o,e;case C:return(e=Ac(13,n,t,i)).elementType=C,e.lanes=o,e;case N:return(e=Ac(19,n,t,i)).elementType=N,e.lanes=o,e;case O:return _c(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:u=10;break e;case S:u=9;break e;case T:u=11;break e;case R:u=14;break e;case D:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ac(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function xc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function _c(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={},e}function Ic(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Sc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Tc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Cc(e,t,n,r,i,a,o,u,s){return e=new Tc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ac(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},$i(a),e}function Nc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Rc(e){if(!e)return xi;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ci(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ci(n))return Di(e,n,t)}return t}function Dc(e,t,n,r,i,a,o,u,s){return(e=Cc(n,r,!0,e,0,a,0,u,s)).context=Rc(null),n=e.current,(a=ta(r=zs(),i=qs(n))).callback=void 0!==t&&null!==t?t:null,na(n,a),e.current.lanes=i,mt(e,i,r),Ks(e,r),e}function Oc(e,t,n,r){var i=t.current,a=zs(),o=qs(i);return n=Rc(n),null===t.context?t.context=n:t.pendingContext=n,(t=ta(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),na(i,t),null!==(e=Hs(i,o,a))&&ra(e,i,o),o}function Pc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Lc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Mc(e,t){Lc(e,t),(e=e.alternate)&&Lc(e,t)}hs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)yu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return yu=!1,function(e,t,n){switch(t.tag){case 3:Su(t),Ua();break;case 5:Za(t);break;case 1:Ci(t.type)&&Oi(t);break;case 4:Ja(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(zi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(eo,1&eo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ru(e,t,n):(Ei(eo,1&eo.current),null!==(e=ju(e,t,n))?e.sibling:null);Ei(eo,1&eo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Fu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(eo,eo.current),r)break;return null;case 22:case 23:return t.lanes=0,wu(e,t,n)}return ju(e,t,n)}(e,t,n);yu=0!==(131072&e.flags)}else yu=!1,Ca&&0!==(1048576&t.flags)&&xa(t,ya,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Ti(t,_i.current);Xi(t,n),i=yo(null,t,r,e,i,n);var o=go();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ci(r)?(o=!0,Oi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,$i(t),i.updater=ca,t.stateNode=i,i._reactInternals=t,da(t,r,e,n),t=Iu(null,t,r,!0,o,n)):(t.tag=0,Ca&&o&&_a(t),gu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return bc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===R)return 14}return 2}(r),e=Vi(r,e),i){case 0:t=xu(null,t,r,e,n);break e;case 1:t=_u(null,t,r,e,n);break e;case 11:t=ku(null,t,r,e,n);break e;case 14:t=Au(null,t,r,Vi(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:Vi(r,i),n);case 1:return r=t.type,i=t.pendingProps,_u(e,t,r,i=t.elementType===r?i:Vi(r,i),n);case 3:e:{if(Su(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ea(e,t),aa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Tu(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Tu(e,t,r,n,i=Error(a(424)));break e}for(Ta=oi(t.stateNode.containerInfo.firstChild),Sa=t,Ca=!0,Na=null,n=Ha(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Ua(),r===i){t=ju(e,t,n);break e}gu(e,t,r,n)}t=t.child}return t;case 5:return Za(t),null===e&&Pa(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,$r(r,i)?u=null:null!==o&&$r(r,o)&&(t.flags|=32),Eu(e,t),gu(e,t,u,n),t.child;case 6:return null===e&&Pa(t),null;case 13:return Ru(e,t,n);case 4:return Ja(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=qa(t,null,r,n):gu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ku(e,t,r,i=t.elementType===r?i:Vi(r,i),n);case 7:return gu(e,t,t.pendingProps,n),t.child;case 8:case 12:return gu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ei(zi,r._currentValue),r._currentValue=u,null!==o)if(ar(o.value,u)){if(o.children===i.children&&!Ii.current){t=ju(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=ta(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Wi(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Wi(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}gu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Xi(t,n),r=r(i=Ji(i)),t.flags|=1,gu(e,t,r,n),t.child;case 14:return i=Vi(r=t.type,t.pendingProps),Au(e,t,r,i=Vi(r.type,i),n);case 15:return bu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Vi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ci(r)?(e=!0,Oi(t)):e=!1,Xi(t,n),fa(t,r,i),da(t,r,i,n),Iu(null,t,r,!0,e,n);case 19:return Fu(e,t,n);case 22:return wu(e,t,n)}throw Error(a(156,t.tag))};var Uc="function"===typeof reportError?reportError:function(e){console.error(e)};function Fc(e){this._internalRoot=e}function jc(e){this._internalRoot=e}function Bc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Vc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function zc(){}function qc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Pc(o);u.call(e)}}Oc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Pc(o);a.call(e)}}var o=Dc(t,r,e,0,null,!1,0,"",zc);return e._reactRootContainer=o,e[fi]=o.current,Br(8===e.nodeType?e.parentNode:e),$s(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Pc(s);u.call(e)}}var s=Cc(e,0,!1,null,0,!1,0,"",zc);return e._reactRootContainer=s,e[fi]=s.current,Br(8===e.nodeType?e.parentNode:e),$s((function(){Oc(t,s,n,r)})),s}(n,t,e,i,r);return Pc(o)}jc.prototype.render=Fc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Oc(e,t,null,null)},jc.prototype.unmount=Fc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;$s((function(){Oc(null,e,null,null)})),t[fi]=null}},jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Mt(e)}},At=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),Ks(t,Ye()),0===(6&ys)&&(Rs=Ye()+500,ji()))}break;case 13:var r=zs();$s((function(){return Hs(e,1,r)})),Mc(e,1)}},bt=function(e){13===e.tag&&(Hs(e,134217728,zs()),Mc(e,134217728))},wt=function(e){if(13===e.tag){var t=zs(),n=qs(e);Hs(e,n,t),Mc(e,n)}},Et=function(){return gt},xt=function(e,t){var n=gt;try{return gt=e,t()}finally{gt=n}},we=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=gi(r);if(!i)throw Error(a(90));G(r),Z(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=Zs,Ce=$s;var Hc={usingClientEntryPoint:!1,Events:[mi,yi,gi,Ie,Se,Zs]},Qc={findFiberByHostInstance:vi,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},Kc={bundleType:Qc.bundleType,version:Qc.version,rendererPackageName:Qc.rendererPackageName,rendererConfig:Qc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Qe(e))?null:e.stateNode},findFiberByHostInstance:Qc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gc.isDisabled&&Gc.supportsFiber)try{it=Gc.inject(Kc),at=Gc}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Bc(t))throw Error(a(200));return Nc(e,t,null,n)},t.createRoot=function(e,t){if(!Bc(e))throw Error(a(299));var n=!1,r="",i=Uc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Cc(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Fc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Qe(t))?null:e.stateNode},t.flushSync=function(e){return $s(e)},t.hydrate=function(e,t,n){if(!Vc(t))throw Error(a(200));return qc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Bc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Uc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Dc(t,null,e,1,null!=n?n:null,i,0,o,u),e[fi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new jc(t)},t.render=function(e,t,n){if(!Vc(t))throw Error(a(200));return qc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Vc(e))throw Error(a(40));return!!e._reactRootContainer&&($s((function(){qc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=Zs,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Vc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return qc(e,t,n,!1,r)},t.version="18.0.0-fc46dba67-20220329"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var A=k.prototype=new g;A.constructor=k,v(A,y.prototype),A.isPureReactComponent=!0;var b=Array.isArray,w=Object.prototype.hasOwnProperty,E={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,i)&&!x.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:E.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+T(s,0):a,b(o)?(i="",null!=e&&(i=e.replace(S,"$&/")+"/"),C(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",b(e))for(var c=0;c<e.length;c++){var l=a+T(u=e[c],c);s+=C(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=C(u=u.value,t,i,l=a+T(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},O={transition:null},P={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:O,ReactCurrentOwner:E};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)w.call(t,c)&&!x.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.0.0-fc46dba67-20220329"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(R){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new T(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=_(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};s(k,a,(function(){return this}));var A=Object.getPrototypeOf,b=A&&A(A(C([])));b&&b!==n&&r.call(b,a)&&(k=b);var w=g.prototype=m.prototype=Object.create(k);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function _(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,_(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function C(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return y.prototype=g,s(w,"constructor",g),s(g,"constructor",y),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},E(x.prototype),s(x.prototype,o,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(w),s(w,u,"Generator"),s(w,a,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function A(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function b(e){if(m=!1,A(e),!v)if(null!==r(c))v=!0,O(w);else{var t=r(l);null!==t&&P(b,t.startTime-e)}}function w(e,n){v=!1,m&&(m=!1,g(I),I=-1),p=!0;var a=d;try{for(A(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!C());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),A(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&P(b,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,x=!1,_=null,I=-1,S=5,T=-1;function C(){return!(t.unstable_now()-T<S)}function N(){if(null!==_){var e=t.unstable_now();T=e;var n=!0;try{n=_(!0,e)}finally{n?E():(x=!1,_=null)}}else x=!1}if("function"===typeof k)E=function(){k(N)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,D=R.port2;R.port1.onmessage=N,E=function(){D.postMessage(null)}}else E=function(){y(N,0)};function O(e){_=e,x||(x=!0,E())}function P(e,n){I=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(I),I=-1):m=!0,P(b,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,O(w))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="./",function(){"use strict";var e=n(791),t=n.t(e,2),r=n(250);function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function a(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e}function o(){return o="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=a(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},o.apply(this,arguments)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}function l(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function h(e,t){if(t&&("object"===f(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}function d(e){var t=l();return function(){var n,r=i(e);if(t){var a=i(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h(this,n)}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){if(e){if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function m(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=v(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function y(e){if(Array.isArray(e))return e}function g(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function k(e,t){return y(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||v(e,t)||g()}function A(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){A(a,r,i,o,u,"next",e)}function u(e){A(a,r,i,o,u,"throw",e)}o(void 0)}))}}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t,n){return t&&E(e.prototype,t),n&&E(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function I(e){return function(e){if(Array.isArray(e))return p(e)}(e)||_(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=n(757),C=n.n(T);function N(e,t,n){return N=l()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&s(i,n.prototype),i},N.apply(null,arguments)}function R(e){var t="function"===typeof Map?new Map:void 0;return R=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return N(e,arguments,i(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),s(n,e)},R(e)}var D=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},O={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(D(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new P;var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},P=function(e){c(n,e);var t=d(n);function n(){var e;return w(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return x(n)}(R(Error)),L=function(e){return function(e){var t=D(e);return O.encodeByteArray(t,!0)}(e).replace(/\./g,"")},M=function(e){try{return O.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var U=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},F=function(){try{return U()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&M(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},j=function(e){var t,n;return null===(n=null===(t=F())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},B=function(e){var t=j(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},V=function(){var e;return null===(e=F())||void 0===e?void 0:e.config},z=function(e){var t;return null===(t=F())||void 0===t?void 0:t["_".concat(e)]},q=function(){function e(){var t=this;w(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return x(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function H(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[L(JSON.stringify({alg:"none",type:"JWT"})),L(JSON.stringify(a)),""].join(".")}function Q(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function K(){var e,t=null===(e=F())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function G(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function W(){try{return"object"===typeof indexedDB}catch(e){return!1}}function X(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}}))}var J=function(e){c(n,e);var t=d(n);function n(e,r,i){var a;return w(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(u(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(u(a),Y.prototype.create),a}return x(n)}(R(Error)),Y=function(){function e(t,n,r){w(this,e),this.service=t,this.serviceName=n,this.errors=r}return x(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Z(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new J(n,a,t);return o}}]),e}();function Z(e,t){return e.replace($,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var $=/\{\$([^}]+)}/g;function ee(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function te(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(ne(u)&&ne(s)){if(!te(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function ne(e){return null!==e&&"object"===typeof e}function re(e){for(var t=[],n=function(){var e=k(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function ie(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=k(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function ae(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var oe=function(){function e(t,n){var r=this;w(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return x(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=m(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=ue),void 0===r.error&&(r.error=ue),void 0===r.complete&&(r.complete=ue);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function ue(){}var se=144e5;function ce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(se,r+i)}function le(e){return e&&e._delegate?e._delegate:e}var fe=function(){function e(t,n,r){w(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return x(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),he="[DEFAULT]",de=function(){function e(t,n){w(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return x(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new q;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:he})}catch(s){}var t,n=m(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=k(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=b(T.mark((function e(){var t;return T.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(I(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),I(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=m(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=k(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=m(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(bb){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===he?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(bb){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he;return this.component?this.component.multipleInstances?e:he:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var pe,ve,me=function(){function e(t){w(this,e),this.name=t,this.providers=new Map}return x(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new de(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),ye=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ve||(ve={}));var ge={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},ke=ve.INFO,Ae=(S(pe={},ve.DEBUG,"log"),S(pe,ve.VERBOSE,"log"),S(pe,ve.INFO,"info"),S(pe,ve.WARN,"warn"),S(pe,ve.ERROR,"error"),pe),be=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Ae[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},we=function(){function e(t){w(this,e),this.name=t,this._logLevel=ke,this._logHandler=be,this._userLogHandler=null,ye.push(this)}return x(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in ve))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?ge[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ve.DEBUG].concat(t)),this._logHandler.apply(this,[this,ve.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ve.VERBOSE].concat(t)),this._logHandler.apply(this,[this,ve.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ve.INFO].concat(t)),this._logHandler.apply(this,[this,ve.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ve.WARN].concat(t)),this._logHandler.apply(this,[this,ve.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ve.ERROR].concat(t)),this._logHandler.apply(this,[this,ve.ERROR].concat(t))}}]),e}();function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _e,Ie;var Se=new WeakMap,Te=new WeakMap,Ce=new WeakMap,Ne=new WeakMap,Re=new WeakMap;var De={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Te.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ce.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Le(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Oe(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ie||(Ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Me(this),n),Le(Se.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Le(e.apply(Me(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Me(this),t].concat(r));return Ce.set(a,t.sort?t.sort():[t]),Le(a)}}function Pe(e){return"function"===typeof e?Oe(e):(e instanceof IDBTransaction&&function(e){if(!Te.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Te.set(e,t)}}(e),t=e,(_e||(_e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,De):e);var t}function Le(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Le(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Se.set(t,e)})).catch((function(){})),Re.set(t,e),t}(e);if(Ne.has(e))return Ne.get(e);var t=Pe(e);return t!==e&&(Ne.set(e,t),Re.set(t,e)),t}var Me=function(e){return Re.get(e)};var Ue,Fe,je=["get","getKey","getAll","getAllKeys","count"],Be=["put","add","delete","clear"],Ve=new Map;function ze(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Ve.get(t))return Ve.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Be.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||je.includes(n))){var a=function(){var e=b(T.mark((function e(t){var a,o,u,s,c,l,f=arguments;return T.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Ve.set(t,a),a}}}De=function(e){return xe(xe({},e),{},{get:function(t,n,r){return ze(t,n)||e.get(t,n,r)},has:function(t,n){return!!ze(t,n)||e.has(t,n)}})}(De);var qe=function(){function e(t){w(this,e),this.container=t}return x(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var He="@firebase/app",Qe="0.9.8",Ke=new we("@firebase/app"),Ge="[DEFAULT]",We=(S(Ue={},He,"fire-core"),S(Ue,"@firebase/app-compat","fire-core-compat"),S(Ue,"@firebase/analytics","fire-analytics"),S(Ue,"@firebase/analytics-compat","fire-analytics-compat"),S(Ue,"@firebase/app-check","fire-app-check"),S(Ue,"@firebase/app-check-compat","fire-app-check-compat"),S(Ue,"@firebase/auth","fire-auth"),S(Ue,"@firebase/auth-compat","fire-auth-compat"),S(Ue,"@firebase/database","fire-rtdb"),S(Ue,"@firebase/database-compat","fire-rtdb-compat"),S(Ue,"@firebase/functions","fire-fn"),S(Ue,"@firebase/functions-compat","fire-fn-compat"),S(Ue,"@firebase/installations","fire-iid"),S(Ue,"@firebase/installations-compat","fire-iid-compat"),S(Ue,"@firebase/messaging","fire-fcm"),S(Ue,"@firebase/messaging-compat","fire-fcm-compat"),S(Ue,"@firebase/performance","fire-perf"),S(Ue,"@firebase/performance-compat","fire-perf-compat"),S(Ue,"@firebase/remote-config","fire-rc"),S(Ue,"@firebase/remote-config-compat","fire-rc-compat"),S(Ue,"@firebase/storage","fire-gcs"),S(Ue,"@firebase/storage-compat","fire-gcs-compat"),S(Ue,"@firebase/firestore","fire-fst"),S(Ue,"@firebase/firestore-compat","fire-fst-compat"),S(Ue,"fire-js","fire-js"),S(Ue,"firebase","fire-js-all"),Ue),Xe=new Map,Je=new Map;function Ye(e,t){try{e.container.addComponent(t)}catch(n){Ke.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ze(e){var t=e.name;if(Je.has(t))return Ke.debug("There were multiple attempts to register component ".concat(t,".")),!1;Je.set(t,e);var n,r=m(Xe.values());try{for(r.s();!(n=r.n()).done;){Ye(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function $e(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var et=(S(Fe={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),S(Fe,"bad-app-name","Illegal App name: '{$appName}"),S(Fe,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),S(Fe,"app-deleted","Firebase App named '{$appName}' already deleted"),S(Fe,"no-options","Need to provide options, when not being deployed to hosting via source."),S(Fe,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),S(Fe,"invalid-log-argument","First argument to `onLog` must be null or a function."),S(Fe,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),S(Fe,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),S(Fe,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),S(Fe,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Fe),tt=new Y("app","Firebase",et),nt=function(){function e(t,n,r){var i=this;w(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fe("app",(function(){return i}),"PUBLIC"))}return x(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw tt.create("app-deleted",{appName:this._name})}}]),e}(),rt="9.20.0";function it(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:Ge,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw tt.create("bad-app-name",{appName:String(a)});if(n||(n=V()),!n)throw tt.create("no-options");var o=Xe.get(a);if(o){if(te(n,o.options)&&te(i,o.config))return o;throw tt.create("duplicate-app",{appName:a})}var u,s=new me(a),c=m(Je.values());try{for(c.s();!(u=c.n()).done;){var l=u.value;s.addComponent(l)}}catch(h){c.e(h)}finally{c.f()}var f=new nt(n,i,s);return Xe.set(a,f),f}function at(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=Xe.get(e);if(!t&&e===Ge)return it();if(!t)throw tt.create("no-app",{appName:e});return t}function ot(e,t,n){var r,i=null!==(r=We[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ke.warn(u.join(" "))}Ze(new fe("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var ut="firebase-heartbeat-store",st=null;function ct(){return st||(st=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Le(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Le(u.result),e.oldVersion,e.newVersion,Le(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(ut)}}).catch((function(e){throw tt.create("idb-open",{originalErrorMessage:e.message})}))),st}function lt(e){return ft.apply(this,arguments)}function ft(){return ft=b(T.mark((function e(t){var n,r;return T.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ct();case 3:return n=e.sent,e.abrupt("return",n.transaction(ut).objectStore(ut).get(pt(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof J?Ke.warn(e.t0.message):(r=tt.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Ke.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),ft.apply(this,arguments)}function ht(e,t){return dt.apply(this,arguments)}function dt(){return dt=b(T.mark((function e(t,n){var r,i,a,o;return T.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ct();case 3:return r=e.sent,i=r.transaction(ut,"readwrite"),a=i.objectStore(ut),e.next=8,a.put(n,pt(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof J?Ke.warn(e.t0.message):(o=tt.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Ke.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),dt.apply(this,arguments)}function pt(e){return"".concat(e.name,"!").concat(e.options.appId)}var vt=function(){function e(t){var n=this;w(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new kt(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return x(e,[{key:"triggerHeartbeat",value:function(){var e=b(T.mark((function e(){var t,n,r;return T.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=mt(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=b(T.mark((function e(){var t,n,r,i,a;return T.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=mt(),n=yt(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=L(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function mt(){return(new Date).toISOString().substring(0,10)}function yt(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=m(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),At(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),At(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var gt,kt=function(){function e(t){w(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return x(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=b(T.mark((function e(){return T.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(W()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",X().then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=b(T.mark((function e(){var t;return T.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,lt(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=b(T.mark((function e(t){var n,r;return T.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ht(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=b(T.mark((function e(t){var n,r;return T.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ht(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(I(r.heartbeats),I(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function At(e){return L(JSON.stringify({version:2,heartbeats:e})).length}gt="",Ze(new fe("platform-logger",(function(e){return new qe(e)}),"PRIVATE")),Ze(new fe("heartbeat",(function(e){return new vt(e)}),"PRIVATE")),ot(He,Qe,gt),ot(He,Qe,"esm2017"),ot("fire-js","");function bt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var wt;Object.create;function Et(){return S({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var xt=Et,_t=new Y("auth","Firebase",Et()),It=new we("@firebase/auth");function St(e){if(It.logLevel<=ve.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];It.warn.apply(It,["Auth (".concat(rt,"): ").concat(e)].concat(n))}}function Tt(e){if(It.logLevel<=ve.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];It.error.apply(It,["Auth (".concat(rt,"): ").concat(e)].concat(n))}}function Ct(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Dt.apply(void 0,[e].concat(n))}function Nt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Dt.apply(void 0,[e].concat(n))}function Rt(e,t,n){var r=Object.assign(Object.assign({},xt()),S({},t,n));return new Y("auth","Firebase",r).create(t,{appName:e.name})}function Dt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=I(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(I(o)))}return _t.create.apply(_t,[e].concat(n))}function Ot(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Dt.apply(void 0,[t].concat(r))}}function Pt(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Tt(t),new Error(t)}function Lt(e,t){e||Pt(t)}function Mt(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ut(){return"http:"===Ft()||"https:"===Ft()}function Ft(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var jt=function(){function e(t,n){w(this,e),this.shortDelay=t,this.longDelay=n,Lt(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Q())||"object"===typeof navigator&&"ReactNative"===navigator.product}return x(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Ut()||G()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Bt(e,t){Lt(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Vt=function(){function e(){w(this,e)}return x(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Pt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Pt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Pt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),zt=(S(wt={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),S(wt,"MISSING_CUSTOM_TOKEN","internal-error"),S(wt,"INVALID_IDENTIFIER","invalid-email"),S(wt,"MISSING_CONTINUE_URI","internal-error"),S(wt,"INVALID_PASSWORD","wrong-password"),S(wt,"MISSING_PASSWORD","missing-password"),S(wt,"EMAIL_EXISTS","email-already-in-use"),S(wt,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),S(wt,"INVALID_IDP_RESPONSE","invalid-credential"),S(wt,"INVALID_PENDING_TOKEN","invalid-credential"),S(wt,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),S(wt,"MISSING_REQ_TYPE","internal-error"),S(wt,"EMAIL_NOT_FOUND","user-not-found"),S(wt,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),S(wt,"EXPIRED_OOB_CODE","expired-action-code"),S(wt,"INVALID_OOB_CODE","invalid-action-code"),S(wt,"MISSING_OOB_CODE","internal-error"),S(wt,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),S(wt,"INVALID_ID_TOKEN","invalid-user-token"),S(wt,"TOKEN_EXPIRED","user-token-expired"),S(wt,"USER_NOT_FOUND","user-token-expired"),S(wt,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),S(wt,"INVALID_CODE","invalid-verification-code"),S(wt,"INVALID_SESSION_INFO","invalid-verification-id"),S(wt,"INVALID_TEMPORARY_PROOF","invalid-credential"),S(wt,"MISSING_SESSION_INFO","missing-verification-id"),S(wt,"SESSION_EXPIRED","code-expired"),S(wt,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),S(wt,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),S(wt,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),S(wt,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),S(wt,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),S(wt,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),S(wt,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),S(wt,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),S(wt,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),S(wt,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),S(wt,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),S(wt,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),S(wt,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),S(wt,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),S(wt,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),S(wt,"MISSING_CLIENT_TYPE","missing-client-type"),S(wt,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),S(wt,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),S(wt,"INVALID_REQ_TYPE","invalid-req-type"),wt),qt=new jt(3e4,6e4);function Ht(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Qt(e,t,n,r){return Kt.apply(this,arguments)}function Kt(){return Kt=b(C().mark((function e(t,n,r,i){var a,o=arguments;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Gt(t,a,b(C().mark((function e(){var a,o,u,s;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=re(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Vt.fetch()(Yt(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Kt.apply(this,arguments)}function Gt(e,t,n){return Wt.apply(this,arguments)}function Wt(){return Wt=b(C().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},zt),n),e.prev=2,a=new Zt(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw $t(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=k(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw $t(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw $t(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw $t(t,"user-disabled",u);case 29:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw Rt(t,d,h);case 34:Ct(t,d);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof J)){e.next=41;break}throw e.t0;case 41:Ct(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Wt.apply(this,arguments)}function Xt(e,t,n,r){return Jt.apply(this,arguments)}function Jt(){return Jt=b(C().mark((function e(t,n,r,i){var a,o,u=arguments;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Qt(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Ct(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Jt.apply(this,arguments)}function Yt(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Bt(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Zt=function(){function e(t){var n=this;w(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Nt(n.auth,"network-request-failed"))}),qt.get())}))}return x(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function $t(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Nt(e,t,r);return i.customData._tokenResponse=n,i}function en(e,t){return tn.apply(this,arguments)}function tn(){return tn=b(C().mark((function e(t,n){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qt(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),tn.apply(this,arguments)}function nn(e,t){return rn.apply(this,arguments)}function rn(){return rn=b(C().mark((function e(t,n){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qt(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),rn.apply(this,arguments)}function an(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function on(){return on=b(C().mark((function e(t){var n,r,i,a,o,u,s=arguments;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=le(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Ot((a=sn(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:an(un(a.auth_time)),issuedAtTime:an(un(a.iat)),expirationTime:an(un(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),on.apply(this,arguments)}function un(e){return 1e3*Number(e)}function sn(e){var t=k(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Tt("JWT malformed, contained fewer than 3 sections"),null;try{var a=M(r);return a?JSON.parse(a):(Tt("Failed to decode base64 JWT payload"),null)}catch(o){return Tt("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function cn(e,t){return ln.apply(this,arguments)}function ln(){return ln=b(C().mark((function e(t,n){var r=arguments;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof J&&fn(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),ln.apply(this,arguments)}function fn(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var hn=function(){function e(t){w(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return x(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(b(C().mark((function t(){return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=b(C().mark((function e(){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),dn=function(){function e(t,n){w(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return x(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=an(this.lastLoginAt),this.creationTime=an(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function pn(e){return vn.apply(this,arguments)}function vn(){return vn=b(C().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,cn(t,nn(r,{idToken:i}));case 6:Ot(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?gn(o.providerUserInfo):[],s=yn(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new dn(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),vn.apply(this,arguments)}function mn(){return(mn=b(C().mark((function e(t){var n;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=le(t),e.next=3,pn(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yn(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(I(n),I(t))}function gn(e){return e.map((function(e){var t=e.providerId,n=bt(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function kn(e,t){return An.apply(this,arguments)}function An(){return An=b(C().mark((function e(t,n){var r;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gt(t,{},b(C().mark((function e(){var r,i,a,o,u,s;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=re({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Yt(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Vt.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),An.apply(this,arguments)}var bn=function(){function e(){w(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return x(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Ot(e.idToken,"internal-error"),Ot("undefined"!==typeof e.idToken,"internal-error"),Ot("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=sn(e);return Ot(t,"internal-error"),Ot("undefined"!==typeof t.exp,"internal-error"),Ot("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=b(C().mark((function e(t){var n,r=arguments;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Ot(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=b(C().mark((function e(t,n){var r,i,a,o;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kn(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Pt("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Ot("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Ot("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Ot("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function wn(e,t){Ot("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var En=function(){function e(t){w(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=bt(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?I(a.providerData):[],this.metadata=new dn(a.createdAt||void 0,a.lastLoginAt||void 0)}return x(e,[{key:"getIdToken",value:function(){var e=b(C().mark((function e(t){var n;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cn(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Ot(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return on.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return mn.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Ot(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){Ot(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=b(C().mark((function e(t){var n,r,i=arguments;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,pn(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=b(C().mark((function e(){var t;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,cn(this,en(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,A=n.emailVerified,b=n.isAnonymous,w=n.providerData,E=n.stsTokenManager;Ot(k&&E,t,"internal-error");var x=bn.fromJSON(this.name,E);Ot("string"===typeof k,t,"internal-error"),wn(f,t.name),wn(h,t.name),Ot("boolean"===typeof A,t,"internal-error"),Ot("boolean"===typeof b,t,"internal-error"),wn(d,t.name),wn(p,t.name),wn(v,t.name),wn(m,t.name),wn(y,t.name),wn(g,t.name);var _=new e({uid:k,auth:t,email:h,emailVerified:A,displayName:f,isAnonymous:b,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:x,createdAt:y,lastLoginAt:g});return w&&Array.isArray(w)&&(_.providerData=w.map((function(e){return Object.assign({},e)}))),m&&(_._redirectEventId=m),_}},{key:"_fromIdTokenResponse",value:function(){var t=b(C().mark((function t(n,r){var i,a,o,u=arguments;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new bn).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,pn(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),xn=new Map;function _n(e){Lt(e instanceof Function,"Expected a class definition");var t=xn.get(e);return t?(Lt(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,xn.set(e,t),t)}var In=function(){function e(){w(this,e),this.type="NONE",this.storage={}}return x(e,[{key:"_isAvailable",value:function(){var e=b(C().mark((function e(){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=b(C().mark((function e(t,n){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=b(C().mark((function e(t){var n;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=b(C().mark((function e(t){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();In.type="NONE";var Sn=In;function Tn(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Cn=function(){function e(t,n,r){w(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Tn(this.userKey,a.apiKey,o),this.fullPersistenceKey=Tn("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return x(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=b(C().mark((function e(){var t;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?En._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=b(C().mark((function e(t){var n;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=b(C().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(_n(Sn),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=b(C().mark((function e(t){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||_n(Sn),u=Tn(i,n.config.apiKey,n.name),s=null,c=m(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=En._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=b(C().mark((function e(t){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Nn(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Pn(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Rn(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Mn(t))return"Blackberry";if(Un(t))return"Webos";if(Dn(t))return"Safari";if((t.includes("chrome/")||On(t))&&!t.includes("edge/"))return"Chrome";if(Ln(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Rn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q();return/firefox\//i.test(e)}function Dn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function On(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q();return/crios\//i.test(e)}function Pn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q();return/iemobile/i.test(e)}function Ln(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q();return/android/i.test(e)}function Mn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q();return/blackberry/i.test(e)}function Un(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q();return/webos/i.test(e)}function Fn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function jn(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q();return Fn(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Bn(){return function(){var e=Q();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Vn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q();return Fn(e)||Ln(e)||Un(e)||Mn(e)||/windows phone/i.test(e)||Pn(e)}function zn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Nn(Q());break;case"Worker":t="".concat(Nn(Q()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(rt,"/").concat(r)}function qn(e,t){return Hn.apply(this,arguments)}function Hn(){return Hn=b(C().mark((function e(t,n){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qt(t,"GET","/v2/recaptchaConfig",Ht(t,n)));case 1:case"end":return e.stop()}}),e)}))),Hn.apply(this,arguments)}function Qn(e){return void 0!==e&&void 0!==e.enterprise}var Kn=x((function e(t){if(w(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function Gn(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Nt("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Wn(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Xn="https://www.google.com/recaptcha/enterprise.js?render=",Jn=function(){function e(t){w(this,e),this.type="recaptcha-enterprise",this.auth=tr(t)}return x(e,[{key:"verify",value:function(){var e=b(C().mark((function e(){var t,n,r,i,a,o=this,u=arguments;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;Qn(i)?i.enterprise.ready((function(){try{i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(e){r(e)}))}catch(a){r(a)}})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=b(C().mark((function e(t){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=b(C().mark((function e(n,r){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:qn(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new Kn(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=u.length>0&&void 0!==u[0]?u[0]:"verify",n=u.length>1&&void 0!==u[1]&&u[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&Qn(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));Gn(Xn+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Yn(e,t,n){return Zn.apply(this,arguments)}function Zn(){return Zn=b(C().mark((function e(t,n,r){var i,a,o,u,s=arguments;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.length>3&&void 0!==s[3]&&s[3],a=new Jn(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return u=Object.assign({},n),i?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),Zn.apply(this,arguments)}var $n=function(){function e(t){w(this,e),this.auth=t,this.queue=[]}return x(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=b(C().mark((function e(t){var n,r,i,a,o,u,s;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=m(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=m(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),er=function(){function e(t,n,r,i){w(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nr(this),this.idTokenSubscription=new nr(this),this.beforeStateQueue=new $n(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_t,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return x(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=_n(t)),this._initializationPromise=this.queue(b(C().mark((function r(){var i,a;return C().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Cn.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=b(C().mark((function e(){var t;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=b(C().mark((function e(t){var n,r,i,a,o,u,s;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Ot(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=b(C().mark((function e(t){var n;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=b(C().mark((function e(t){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pn(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=b(C().mark((function e(){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=b(C().mark((function e(t){var n;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?le(t):null)&&Ot(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=b(C().mark((function e(t){var n,r=this,i=arguments;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Ot(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(b(C().mark((function e(){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=b(C().mark((function e(){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(b(C().mark((function n(){return C().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(_n(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=b(C().mark((function e(){var t,n;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qn(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new Kn(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new Jn(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Y("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=b(C().mark((function e(t,n){var r;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=b(C().mark((function e(t){var n;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Ot(n=t&&_n(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Cn.create(this,[_n(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=b(C().mark((function e(t){var n,r;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(b(C().mark((function e(){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=b(C().mark((function e(t){var n=this;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(b(C().mark((function e(){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Ot(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=b(C().mark((function e(t){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Ot(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zn(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=b(C().mark((function e(){var t,n,r,i;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=S({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=b(C().mark((function e(){var t,n;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&St("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function tr(e){return le(e)}var nr=function(){function e(t){var n=this;w(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new oe(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return x(e,[{key:"next",get:function(){return Ot(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function rr(e,t){var n=$e(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(te(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;Ct(r,"already-initialized")}return n.initialize({options:t})}function ir(e,t,n){var r=tr(e);Ot(r._canInitEmulator,r,"emulator-config-failed"),Ot(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=ar(t),o=function(e){var t=ar(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:or(r.substr(a.length+1))}}var o=k(r.split(":"),2);return{host:o[0],port:or(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ar(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function or(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var ur=function(){function e(t,n){w(this,e),this.providerId=t,this.signInMethod=n}return x(e,[{key:"toJSON",value:function(){return Pt("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Pt("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Pt("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Pt("not implemented")}}]),e}();function sr(e,t){return cr.apply(this,arguments)}function cr(){return cr=b(C().mark((function e(t,n){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qt(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),cr.apply(this,arguments)}function lr(e,t){return fr.apply(this,arguments)}function fr(){return fr=b(C().mark((function e(t,n){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xt(t,"POST","/v1/accounts:signInWithPassword",Ht(t,n)));case 1:case"end":return e.stop()}}),e)}))),fr.apply(this,arguments)}function hr(e,t){return dr.apply(this,arguments)}function dr(){return dr=b(C().mark((function e(t,n){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xt(t,"POST","/v1/accounts:signInWithEmailLink",Ht(t,n)));case 1:case"end":return e.stop()}}),e)}))),dr.apply(this,arguments)}function pr(e,t){return vr.apply(this,arguments)}function vr(){return vr=b(C().mark((function e(t,n){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xt(t,"POST","/v1/accounts:signInWithEmailLink",Ht(t,n)));case 1:case"end":return e.stop()}}),e)}))),vr.apply(this,arguments)}var mr=function(e){c(n,e);var t=d(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return w(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return x(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=b(C().mark((function e(t){var n,r,i;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,Yn(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",lr(t,i));case 11:return e.abrupt("return",lr(t,r).catch(function(){var e=b(C().mark((function e(n){var i;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Yn(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",lr(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",hr(t,{email:this._email,oobCode:this._password}));case 13:Ct(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=b(C().mark((function e(t,n){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",sr(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",pr(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Ct(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(ur);function yr(e,t){return gr.apply(this,arguments)}function gr(){return gr=b(C().mark((function e(t,n){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xt(t,"POST","/v1/accounts:signInWithIdp",Ht(t,n)));case 1:case"end":return e.stop()}}),e)}))),gr.apply(this,arguments)}var kr=function(e){c(n,e);var t=d(n);function n(){var e;return w(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return x(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return yr(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,yr(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,yr(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=re(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ct("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=bt(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(ur);function Ar(e,t){return br.apply(this,arguments)}function br(){return br=b(C().mark((function e(t,n){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qt(t,"POST","/v1/accounts:sendVerificationCode",Ht(t,n)));case 1:case"end":return e.stop()}}),e)}))),br.apply(this,arguments)}function wr(){return wr=b(C().mark((function e(t,n){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xt(t,"POST","/v1/accounts:signInWithPhoneNumber",Ht(t,n)));case 1:case"end":return e.stop()}}),e)}))),wr.apply(this,arguments)}function Er(){return Er=b(C().mark((function e(t,n){var r;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xt(t,"POST","/v1/accounts:signInWithPhoneNumber",Ht(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw $t(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Er.apply(this,arguments)}var xr=S({},"USER_NOT_FOUND","user-not-found");function _r(){return _r=b(C().mark((function e(t,n){var r;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Xt(t,"POST","/v1/accounts:signInWithPhoneNumber",Ht(t,r),xr));case 2:case"end":return e.stop()}}),e)}))),_r.apply(this,arguments)}var Ir=function(e){c(n,e);var t=d(n);function n(e){var r;return w(this,n),(r=t.call(this,"phone","phone")).params=e,r}return x(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return wr.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Er.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return _r.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(ur);var Sr=function(){function e(t){var n,r,i,a,o,u;w(this,e);var s=ie(ae(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Ot(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return x(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=ie(ae(e)).link,n=t?ie(ae(t)).deep_link_id:null,r=ie(ae(e)).deep_link_id;return(r?ie(ae(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(bb){return null}}}]),e}();var Tr=function(){function e(){w(this,e),this.providerId=e.PROVIDER_ID}return x(e,null,[{key:"credential",value:function(e,t){return mr._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Sr.parseLink(t);return Ot(n,"argument-error"),mr._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Tr.PROVIDER_ID="password",Tr.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Tr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Cr=function(){function e(t){w(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return x(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Nr=function(e){c(n,e);var t=d(n);function n(){var e;return w(this,n),(e=t.apply(this,arguments)).scopes=[],e}return x(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return I(this.scopes)}}]),n}(Cr),Rr=function(e){c(n,e);var t=d(n);function n(){return w(this,n),t.call(this,"facebook.com")}return x(n,null,[{key:"credential",value:function(e){return kr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(bb){return null}}}]),n}(Nr);Rr.FACEBOOK_SIGN_IN_METHOD="facebook.com",Rr.PROVIDER_ID="facebook.com";var Dr=function(e){c(n,e);var t=d(n);function n(){var e;return w(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return x(n,null,[{key:"credential",value:function(e,t){return kr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(bb){return null}}}]),n}(Nr);Dr.GOOGLE_SIGN_IN_METHOD="google.com",Dr.PROVIDER_ID="google.com";var Or=function(e){c(n,e);var t=d(n);function n(){return w(this,n),t.call(this,"github.com")}return x(n,null,[{key:"credential",value:function(e){return kr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(bb){return null}}}]),n}(Nr);Or.GITHUB_SIGN_IN_METHOD="github.com",Or.PROVIDER_ID="github.com";var Pr=function(e){c(n,e);var t=d(n);function n(){return w(this,n),t.call(this,"twitter.com")}return x(n,null,[{key:"credential",value:function(e,t){return kr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(bb){return null}}}]),n}(Nr);function Lr(e,t){return Mr.apply(this,arguments)}function Mr(){return Mr=b(C().mark((function e(t,n){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xt(t,"POST","/v1/accounts:signUp",Ht(t,n)));case 1:case"end":return e.stop()}}),e)}))),Mr.apply(this,arguments)}Pr.TWITTER_SIGN_IN_METHOD="twitter.com",Pr.PROVIDER_ID="twitter.com";var Ur=function(){function e(t){w(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return x(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=b(C().mark((function t(n,r,i){var a,o,u,s,c=arguments;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,En._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Fr(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=b(C().mark((function t(n,r,i){var a;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Fr(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Fr(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var jr=function(e){c(n,e);var t=d(n);function n(e,r,i,a){var o,s;return w(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(u(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return x(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(J);function Br(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw jr._fromErrorAndOperation(e,n,t,r);throw n}))}function Vr(e,t){return zr.apply(this,arguments)}function zr(){return zr=b(C().mark((function e(t,n){var r,i,a=arguments;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=cn,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Ur._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),zr.apply(this,arguments)}function qr(e,t){return Hr.apply(this,arguments)}function Hr(){return Hr=b(C().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,cn(t,Br(i,a,n,t),r);case 6:return Ot((o=e.sent).idToken,i,"internal-error"),Ot(u=sn(o.idToken),i,"internal-error"),s=u.sub,Ot(t.uid===s,i,"user-mismatch"),e.abrupt("return",Ur._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Ct(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Hr.apply(this,arguments)}function Qr(e,t){return Kr.apply(this,arguments)}function Kr(){return Kr=b(C().mark((function e(t,n){var r,i,a,o,u=arguments;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Br(t,i,n);case 4:return a=e.sent,e.next=7,Ur._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Kr.apply(this,arguments)}function Gr(e,t){return Wr.apply(this,arguments)}function Wr(){return Wr=b(C().mark((function e(t,n){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qr(tr(t),n));case 1:case"end":return e.stop()}}),e)}))),Wr.apply(this,arguments)}function Xr(e,t,n){return Jr.apply(this,arguments)}function Jr(){return Jr=b(C().mark((function e(t,n,r){var i,a,o,u,s,c,l;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=tr(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,Yn(a,o,"signUpPassword");case 5:s=e.sent,u=Lr(a,s),e.next=10;break;case 9:u=Lr(a,o).catch(function(){var e=b(C().mark((function e(t){var n;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,Yn(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",Lr(a,n));case 8:return e.abrupt("return",Promise.reject(t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,u.catch((function(e){return Promise.reject(e)}));case 12:return c=e.sent,e.next=15,Ur._fromIdTokenResponse(a,"signIn",c);case 15:return l=e.sent,e.next=18,a._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),Jr.apply(this,arguments)}function Yr(e,t,n){return Gr(le(e),Tr.credential(t,n))}function Zr(e,t){return $r.apply(this,arguments)}function $r(){return $r=b(C().mark((function e(t,n){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qt(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),$r.apply(this,arguments)}function ei(e,t){return ti.apply(this,arguments)}function ti(){return(ti=b(C().mark((function e(t,n){var r,i,a,o,u,s,c;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=le(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,cn(a,Zr(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ni(e,t,n,r){return le(e).onIdTokenChanged(t,n,r)}function ri(e,t,n){return le(e).beforeAuthStateChanged(t,n)}function ii(e,t){return Qt(e,"POST","/v2/accounts/mfaEnrollment:start",Ht(e,t))}function ai(e,t){return Qt(e,"POST","/v2/accounts/mfaEnrollment:start",Ht(e,t))}function oi(e,t){return Qt(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ht(e,t))}new WeakMap;var ui="__sak",si=function(){function e(t,n){w(this,e),this.storageRetriever=t,this.type=n}return x(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(ui,"1"),this.storage.removeItem(ui),Promise.resolve(!0)):Promise.resolve(!1)}catch(bb){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var ci=function(e){c(n,e);var t=d(n);function n(){var e;return w(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Q();return Dn(e)||Fn(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Vn(),e._shouldAllowMigration=!0,e}return x(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Bn()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=b(C().mark((function e(t,r){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(i(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=b(C().mark((function e(t){var r;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(i(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=b(C().mark((function e(t){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(i(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(si);ci.type="LOCAL";var li=ci,fi=function(e){c(n,e);var t=d(n);function n(){return w(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return x(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(si);fi.type="SESSION";var hi=fi;function di(e){return Promise.all(e.map(function(){var e=b(C().mark((function e(t){var n;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var pi=function(){function e(t){w(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return x(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=b(C().mark((function e(t){var n,r,i,a,o,u,s,c;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=b(C().mark((function e(t){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,di(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function vi(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}pi.receivers=[];var mi=function(){function e(t){w(this,e),this.target=t,this.handlers=new Set}return x(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=b(C().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=vi("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function yi(){return window}function gi(e){yi().location.href=e}function ki(){return"undefined"!==typeof yi().WorkerGlobalScope&&"function"===typeof yi().importScripts}function Ai(){return bi.apply(this,arguments)}function bi(){return(bi=b(C().mark((function e(){var t;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function wi(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Ei="firebaseLocalStorageDb",xi="firebaseLocalStorage",_i="fbase_key",Ii=function(){function e(t){w(this,e),this.request=t}return x(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Si(e,t){return e.transaction([xi],t?"readwrite":"readonly").objectStore(xi)}function Ti(){var e=indexedDB.deleteDatabase(Ei);return new Ii(e).toPromise()}function Ci(){var e=indexedDB.open(Ei,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(xi,{keyPath:_i})}catch(r){n(r)}})),e.addEventListener("success",b(C().mark((function n(){var r;return C().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(xi)){n.next=12;break}return r.close(),n.next=5,Ti();case 5:return n.t0=t,n.next=8,Ci();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Ni(e,t,n){return Ri.apply(this,arguments)}function Ri(){return Ri=b(C().mark((function e(t,n,r){var i,a;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Si(t,!0).put((S(i={},_i,n),S(i,"value",r),i)),e.abrupt("return",new Ii(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Ri.apply(this,arguments)}function Di(e,t){return Oi.apply(this,arguments)}function Oi(){return Oi=b(C().mark((function e(t,n){var r,i;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Si(t,!1).get(n),e.next=3,new Ii(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Oi.apply(this,arguments)}function Pi(e,t){var n=Si(e,!0).delete(t);return new Ii(n).toPromise()}var Li=function(){function e(){w(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return x(e,[{key:"_openDb",value:function(){var e=b(C().mark((function e(){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Ci();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=b(C().mark((function e(t){var n,r;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=b(C().mark((function e(){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ki()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=b(C().mark((function e(){var t=this;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=pi._getInstance(ki()?self:null),this.receiver._subscribe("keyChanged",function(){var e=b(C().mark((function e(n,r){var i;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=b(C().mark((function e(t,n){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=b(C().mark((function e(){var t,n,r;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ai();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new mi(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=b(C().mark((function e(t){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&wi()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=b(C().mark((function e(){var t;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Ci();case 5:return t=e.sent,e.next=8,Ni(t,ui,"1");case 8:return e.next=10,Pi(t,ui);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=b(C().mark((function e(t){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=b(C().mark((function e(t,n){var r=this;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(b(C().mark((function e(){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Ni(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=b(C().mark((function e(t){var n;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Di(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=b(C().mark((function e(t){var n=this;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(b(C().mark((function e(){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Pi(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=b(C().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Si(e,!1).getAll();return new Ii(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=m(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(b(C().mark((function t(){return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Li.type="LOCAL";var Mi=Li;function Ui(e,t){return Qt(e,"POST","/v2/accounts/mfaSignIn:start",Ht(e,t))}function Fi(e,t){return Qt(e,"POST","/v2/accounts/mfaSignIn:finalize",Ht(e,t))}Wn("rcb"),new jt(3e4,6e4);var ji="recaptcha";function Bi(e,t,n){return Vi.apply(this,arguments)}function Vi(){return Vi=b(C().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Ot("string"===typeof a,t,"argument-error"),Ot(r.type===ji,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Ot("enroll"===u.type,t,"internal-error"),e.next=13,ii(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Ot("signin"===u.type,t,"internal-error"),Ot(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Ui(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Ar(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Vi.apply(this,arguments)}var zi=function(){function e(t){w(this,e),this.providerId=e.PROVIDER_ID,this.auth=tr(t)}return x(e,[{key:"verifyPhoneNumber",value:function(e,t){return Bi(this.auth,e,le(t))}}],[{key:"credential",value:function(e,t){return Ir._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Ir._fromTokenResponse(n,r):null}}]),e}();function qi(e,t){return t?_n(t):(Ot(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}zi.PROVIDER_ID="phone",zi.PHONE_SIGN_IN_METHOD="phone";var Hi=function(e){c(n,e);var t=d(n);function n(e){var r;return w(this,n),(r=t.call(this,"custom","custom")).params=e,r}return x(n,[{key:"_getIdTokenResponse",value:function(e){return yr(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return yr(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return yr(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(ur);function Qi(e){return Qr(e.auth,new Hi(e),e.bypassAuthState)}function Ki(e){var t=e.auth,n=e.user;return Ot(n,t,"internal-error"),qr(n,new Hi(e),e.bypassAuthState)}function Gi(e){return Wi.apply(this,arguments)}function Wi(){return Wi=b(C().mark((function e(t){var n,r;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Ot(r=t.user,n,"internal-error"),e.abrupt("return",Vr(r,new Hi(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Wi.apply(this,arguments)}var Xi=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];w(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return x(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=b(C().mark((function t(n,r){return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=b(C().mark((function e(t){var n,r,i,a,o,u,s;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Qi;case"linkViaPopup":case"linkViaRedirect":return Gi;case"reauthViaPopup":case"reauthViaRedirect":return Ki;default:Ct(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Lt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Lt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Ji=new jt(2e3,1e4);var Yi=function(e){c(n,e);var t=d(n);function n(e,r,i,a,o){var s;return w(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=u(s),s}return x(n,[{key:"executeNotNull",value:function(){var e=b(C().mark((function e(){var t;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Ot(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=b(C().mark((function e(){var t,n=this;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Lt(1===this.filter.length,"Popup operations only handle one event"),t=vi(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Nt(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Nt(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Nt(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Ji.get())}()}}]),n}(Xi);Yi.currentPopupAction=null;var Zi=new Map,$i=function(e){c(n,e);var t=d(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return w(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return x(n,[{key:"execute",value:function(){var e=b(C().mark((function e(){var t,r;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Zi.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,ea(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,o(i(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Zi.set(this.auth._key(),t);case 21:return this.bypassAuthState||Zi.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=b(C().mark((function e(t){var r;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",o(i(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",o(i(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=b(C().mark((function e(){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Xi);function ea(e,t){return ta.apply(this,arguments)}function ta(){return ta=b(C().mark((function e(t,n){var r,i,a;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ia(n),i=ra(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),ta.apply(this,arguments)}function na(e,t){Zi.set(e._key(),t)}function ra(e){return _n(e._redirectPersistence)}function ia(e){return Tn("pendingRedirect",e.config.apiKey,e.name)}function aa(e,t){return oa.apply(this,arguments)}function oa(){return oa=b(C().mark((function e(t,n){var r,i,a,o,u,s=arguments;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=tr(t),a=qi(i,n),o=new $i(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),oa.apply(this,arguments)}var ua=function(){function e(t){w(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return x(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ca(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!ca(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Nt(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(sa(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(sa(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function sa(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function ca(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function la(e){return fa.apply(this,arguments)}function fa(){return fa=b(C().mark((function e(t){var n,r=arguments;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Qt(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),fa.apply(this,arguments)}var ha=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,da=/^https?/;function pa(){return pa=b(C().mark((function e(t){var n,r,i,a,o;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,la(t);case 4:n=e.sent,r=n.authorizedDomains,i=m(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!va(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Ct(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),pa.apply(this,arguments)}function va(e){var t=Mt(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!da.test(r))return!1;if(ha.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var ma=new jt(3e4,6e4);function ya(){var e=yi().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=I(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var ga=null;function ka(e){return ga=ga||function(e){return new Promise((function(t,n){var r,i,a;function o(){ya(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){ya(),n(Nt(e,"network-request-failed"))},timeout:ma.get()})}if(null===(i=null===(r=yi().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=yi().gapi)||void 0===a?void 0:a.load)){var u=Wn("iframefcb");return yi()[u]=function(){gapi.load?o():n(Nt(e,"network-request-failed"))},Gn("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw ga=null,e}))}(e),ga}var Aa=new jt(5e3,15e3),ba={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wa=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ea(e){var t=e.config;Ot(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Bt(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:rt},i=wa.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(re(r).slice(1))}function xa(e){return _a.apply(this,arguments)}function _a(){return _a=b(C().mark((function e(t){var n,r;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ka(t);case 2:return n=e.sent,Ot(r=yi().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Ea(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ba,dontclear:!0},(function(e){return new Promise(function(){var n=b(C().mark((function n(r,i){var a,o,u;return C().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){yi().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Nt(t,"network-request-failed"),o=yi().setTimeout((function(){i(a)}),Aa.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),_a.apply(this,arguments)}var Ia={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Sa="_blank",Ta="http://localhost",Ca=function(){function e(t){w(this,e),this.window=t,this.associatedEvent=null}return x(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Na(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Ia),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Q().toLowerCase();n&&(u=On(c)?Sa:n),Rn(c)&&(t=t||Ta,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=k(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(jn(c)&&"_self"!==u)return Ra(t||"",u),new Ca(null);var f=window.open(t||"",u,l);Ot(f,e,"popup-blocked");try{f.focus()}catch(h){}return new Ca(f)}function Ra(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Da=encodeURIComponent("fac");function Oa(e,t,n,r,i,a){return Pa.apply(this,arguments)}function Pa(){return Pa=b(C().mark((function e(t,n,r,i,a,o){var u,s,c,l,f,h,d,p,v,m,y,g,A;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ot(t.config.authDomain,t,"auth-domain-config-required"),Ot(t.config.apiKey,t,"invalid-api-key"),u={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:rt,eventId:a},n instanceof Cr)for(n.setDefaultLanguage(t.languageCode),u.providerId=n.providerId||"",ee(n.getCustomParameters())||(u.customParameters=JSON.stringify(n.getCustomParameters())),s=0,c=Object.entries(o||{});s<c.length;s++)l=k(c[s],2),f=l[0],h=l[1],u[f]=h;for(n instanceof Nr&&(d=n.getScopes().filter((function(e){return""!==e}))).length>0&&(u.scopes=d.join(",")),t.tenantId&&(u.tid=t.tenantId),p=u,v=0,m=Object.keys(p);v<m.length;v++)y=m[v],void 0===p[y]&&delete p[y];return e.next=10,t._getAppCheckToken();case 10:return g=e.sent,A=g?"#".concat(Da,"=").concat(encodeURIComponent(g)):"",e.abrupt("return","".concat(La(t),"?").concat(re(p).slice(1)).concat(A));case 13:case"end":return e.stop()}}),e)}))),Pa.apply(this,arguments)}function La(e){var t=e.config;return t.emulator?Bt(t,"emulator/auth/handler"):"https://".concat(t.authDomain,"/").concat("__/auth/handler")}var Ma="webStorageSupport",Ua=function(){function e(){w(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hi,this._completeRedirectFn=aa,this._overrideRedirectResult=na}return x(e,[{key:"_openPopup",value:function(){var e=b(C().mark((function e(t,n,r,i){var a,o;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Lt(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,Oa(t,n,r,Mt(),i);case 3:return o=e.sent,e.abrupt("return",Na(t,o,vi()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=b(C().mark((function e(t,n,r,i){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,Oa(t,n,r,Mt(),i);case 4:return gi(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Lt(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=b(C().mark((function e(t){var n,r;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xa(t);case 2:return n=e.sent,r=new ua(t),n.register("authEvent",(function(e){return Ot(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Ma,{type:Ma},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Ct(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return pa.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Vn()||Dn()||Fn()}}]),e}(),Fa=Ua,ja=function(){function e(t){w(this,e),this.factorId=t}return x(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Pt("unexpected MultiFactorSessionType")}}}]),e}(),Ba=function(e){c(n,e);var t=d(n);function n(e){var r;return w(this,n),(r=t.call(this,"phone")).credential=e,r}return x(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Qt(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ht(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Qt(e,"POST","/v2/accounts/mfaSignIn:finalize",Ht(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(ja);(function(){function e(){w(this,e)}return x(e,null,[{key:"assertion",value:function(e){return Ba._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var Va=function(){function e(){w(this,e)}return x(e,null,[{key:"assertionForEnrollment",value:function(e,t){return za._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return za._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=b(C().mark((function e(t){var n,r;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ot("undefined"!==typeof(n=t).auth,"internal-error"),e.next=4,ai(n.auth,{idToken:n.credential,totpEnrollmentInfo:{}});case 4:return r=e.sent,e.abrupt("return",qa._fromStartTotpMfaEnrollmentResponse(r,n.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();Va.FACTOR_ID="totp";var za=function(e){c(n,e);var t=d(n);function n(e,r,i){var a;return w(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return x(n,[{key:"_finalizeEnroll",value:function(){var e=b(C().mark((function e(t,n,r){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ot("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",oi(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=b(C().mark((function e(t,n){var r;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ot(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",Fi(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(ja),qa=function(){function e(t,n,r,i,a,o,u){w(this,e),this.sessionInfo=o,this.auth=u,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return x(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(Ha(e)||Ha(t))&&(r=!0),r&&(Ha(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),Ha(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function Ha(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var Qa="@firebase/auth",Ka="0.23.0",Ga=function(){function e(t){w(this,e),this.auth=t,this.internalListeners=new Map}return x(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=b(C().mark((function e(t){var n;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Ot(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Wa,Xa=z("authIdTokenMaxAge")||300,Ja=null,Ya=function(e){return function(){var t=b(C().mark((function t(n){var r,i,a;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=n,!t.t0){t.next=5;break}return t.next=4,n.getIdTokenResult();case 4:t.t0=t.sent;case 5:if(r=t.t0,!((i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&i>Xa)){t.next=9;break}return t.abrupt("return");case 9:if(a=null===r||void 0===r?void 0:r.token,Ja!==a){t.next=12;break}return t.abrupt("return");case 12:return Ja=a,t.next=15,fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};Wa="Browser",Ze(new fe("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,u=o.apiKey,s=o.authDomain;Ot(u&&!u.includes(":"),"invalid-api-key",{appName:r.name}),Ot(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:r.name});var c={apiKey:u,authDomain:s,clientPlatform:Wa,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zn(Wa)},l=new er(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_n);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Ze(new fe("auth-internal",(function(e){return function(e){return new Ga(e)}(tr(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),ot(Qa,Ka,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Wa)),ot(Qa,Ka,"esm2017");ot("firebase","9.20.0","app");var Za,$a;var eo=new WeakMap,to=new WeakMap,no=new WeakMap,ro=new WeakMap,io=new WeakMap;var ao={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return to.get(e);if("objectStoreNames"===t)return e.objectStoreNames||no.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return so(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function oo(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?($a||($a=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(co(this),n),so(eo.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return so(e.apply(co(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[co(this),t].concat(r));return no.set(a,t.sort?t.sort():[t]),so(a)}}function uo(e){return"function"===typeof e?oo(e):(e instanceof IDBTransaction&&function(e){if(!to.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));to.set(e,t)}}(e),t=e,(Za||(Za=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,ao):e);var t}function so(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(so(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&eo.set(t,e)})).catch((function(){})),io.set(t,e),t}(e);if(ro.has(e))return ro.get(e);var t=uo(e);return t!==e&&(ro.set(e,t),io.set(t,e)),t}var co=function(e){return io.get(e)};var lo,fo=["get","getKey","getAll","getAllKeys","count"],ho=["put","add","delete","clear"],po=new Map;function vo(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(po.get(t))return po.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=ho.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||fo.includes(n))){var a=function(){var e=b(T.mark((function e(t){var a,o,u,s,c,l,f=arguments;return T.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return po.set(t,a),a}}}!function(e){ao=e(ao)}((function(e){return xe(xe({},e),{},{get:function(t,n,r){return vo(t,n)||e.get(t,n,r)},has:function(t,n){return!!vo(t,n)||e.has(t,n)}})}));var mo="@firebase/installations",yo="0.6.4",go=1e4,ko="w:".concat(yo),Ao="FIS_v2",bo=36e5,wo=(S(lo={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),S(lo,"not-registered","Firebase Installation is not registered."),S(lo,"installation-not-found","Firebase Installation not found."),S(lo,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),S(lo,"app-offline","Could not process request. Application offline."),S(lo,"delete-pending-registration","Can't delete installation while there is a pending registration request."),lo),Eo=new Y("installations","Installations",wo);function xo(e){return e instanceof J&&e.code.includes("request-failed")}function _o(e){var t=e.projectId;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function Io(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function So(e,t){return To.apply(this,arguments)}function To(){return(To=b(T.mark((function e(t,n){var r,i;return T.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent,i=r.error,e.abrupt("return",Eo.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Co(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function No(e,t){var n=t.refreshToken,r=Co(e);return r.append("Authorization",function(e){return"".concat(Ao," ").concat(e)}(n)),r}function Ro(e){return Do.apply(this,arguments)}function Do(){return Do=b(T.mark((function e(t){var n;return T.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",t());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),Do.apply(this,arguments)}function Oo(e,t){return Po.apply(this,arguments)}function Po(){return(Po=b(T.mark((function e(t,n){var r,i,a,o,u,s,c,l,f,h,d,p;return T.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=n.fid,o=_o(r),u=Co(r),!(s=i.getImmediate({optional:!0}))){e.next=10;break}return e.next=8,s.getHeartbeatsHeader();case 8:(c=e.sent)&&u.append("x-firebase-client",c);case 10:return l={fid:a,authVersion:Ao,appId:r.appId,sdkVersion:ko},f={method:"POST",headers:u,body:JSON.stringify(l)},e.next=14,Ro((function(){return fetch(o,f)}));case 14:if(!(h=e.sent).ok){e.next=23;break}return e.next=18,h.json();case 18:return d=e.sent,p={fid:d.fid||a,registrationStatus:2,refreshToken:d.refreshToken,authToken:Io(d.authToken)},e.abrupt("return",p);case 23:return e.next=25,So("Create Installation",h);case 25:throw e.sent;case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lo(e){return new Promise((function(t){setTimeout(t,e)}))}var Mo=/^[cdef][\w-]{21}$/;function Uo(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,I(t))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return Mo.test(t)?t:""}catch(bb){return""}}function Fo(e){return"".concat(e.appName,"!").concat(e.appId)}var jo=new Map;function Bo(e,t){var n=Fo(e);Vo(n,t),function(e,t){var n=qo();n&&n.postMessage({key:e,fid:t});Ho()}(n,t)}function Vo(e,t){var n=jo.get(e);if(n){var r,i=m(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(a){i.e(a)}finally{i.f()}}}var zo=null;function qo(){return!zo&&"BroadcastChannel"in self&&((zo=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){Vo(e.data.key,e.data.fid)}),zo}function Ho(){0===jo.size&&zo&&(zo.close(),zo=null)}var Qo="firebase-installations-store",Ko=null;function Go(){return Ko||(Ko=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=so(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(so(u.result),e.oldVersion,e.newVersion,so(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-installations-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Qo)}})),Ko}function Wo(e,t){return Xo.apply(this,arguments)}function Xo(){return Xo=b(T.mark((function e(t,n){var r,i,a,o,u;return T.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fo(t),e.next=3,Go();case 3:return i=e.sent,a=i.transaction(Qo,"readwrite"),o=a.objectStore(Qo),e.next=8,o.get(r);case 8:return u=e.sent,e.next=11,o.put(n,r);case 11:return e.next=13,a.done;case 13:return u&&u.fid===n.fid||Bo(t,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)}))),Xo.apply(this,arguments)}function Jo(e){return Yo.apply(this,arguments)}function Yo(){return Yo=b(T.mark((function e(t){var n,r,i;return T.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fo(t),e.next=3,Go();case 3:return r=e.sent,i=r.transaction(Qo,"readwrite"),e.next=7,i.objectStore(Qo).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)}))),Yo.apply(this,arguments)}function Zo(e,t){return $o.apply(this,arguments)}function $o(){return $o=b(T.mark((function e(t,n){var r,i,a,o,u,s;return T.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fo(t),e.next=3,Go();case 3:return i=e.sent,a=i.transaction(Qo,"readwrite"),o=a.objectStore(Qo),e.next=8,o.get(r);case 8:if(u=e.sent,void 0!==(s=n(u))){e.next=15;break}return e.next=13,o.delete(r);case 13:e.next=17;break;case 15:return e.next=17,o.put(s,r);case 17:return e.next=19,a.done;case 19:return!s||u&&u.fid===s.fid||Bo(t,s.fid),e.abrupt("return",s);case 21:case"end":return e.stop()}}),e)}))),$o.apply(this,arguments)}function eu(e){return tu.apply(this,arguments)}function tu(){return(tu=b(T.mark((function e(t){var n,r;return T.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zo(t.appConfig,(function(e){var r=nu(e),i=ru(t,r);return n=i.registrationPromise,i.installationEntry}));case 2:if(""!==(r=e.sent).fid){e.next=8;break}return e.next=6,n;case 6:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 8:return e.abrupt("return",{installationEntry:r,registrationPromise:n});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nu(e){return su(e||{fid:Uo(),registrationStatus:0})}function ru(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(Eo.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return iu.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:au(e)}:{installationEntry:t}}function iu(){return(iu=b(T.mark((function e(t,n){var r;return T.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Oo(t,n);case 3:return r=e.sent,e.abrupt("return",Wo(t.appConfig,r));case 7:if(e.prev=7,e.t0=e.catch(0),!xo(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,Jo(t.appConfig);case 12:e.next=16;break;case 14:return e.next=16,Wo(t.appConfig,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function au(e){return ou.apply(this,arguments)}function ou(){return(ou=b(T.mark((function e(t){var n,r,i,a;return T.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uu(t.appConfig);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,Lo(100);case 6:return e.next=8,uu(t.appConfig);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,eu(t);case 14:if(r=e.sent,i=r.installationEntry,!(a=r.registrationPromise)){e.next=21;break}return e.abrupt("return",a);case 21:return e.abrupt("return",i);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uu(e){return Zo(e,(function(e){if(!e)throw Eo.create("installation-not-found");return su(e)}))}function su(e){return 1===(t=e).registrationStatus&&t.registrationTime+go<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function cu(e,t){return lu.apply(this,arguments)}function lu(){return(lu=b(T.mark((function e(t,n){var r,i,a,o,u,s,c,l,f,h,d;return T.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=fu(r,n),o=No(r,n),!(u=i.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,u.getHeartbeatsHeader();case 7:(s=e.sent)&&o.append("x-firebase-client",s);case 9:return c={installation:{sdkVersion:ko,appId:r.appId}},l={method:"POST",headers:o,body:JSON.stringify(c)},e.next=13,Ro((function(){return fetch(a,l)}));case 13:if(!(f=e.sent).ok){e.next=22;break}return e.next=17,f.json();case 17:return h=e.sent,d=Io(h),e.abrupt("return",d);case 22:return e.next=24,So("Generate Auth Token",f);case 24:throw e.sent;case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fu(e,t){var n=t.fid;return"".concat(_o(e),"/").concat(n,"/authTokens:generate")}function hu(e){return du.apply(this,arguments)}function du(){return du=b(T.mark((function e(t){var n,r,i,a,o=arguments;return T.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.next=3,Zo(t.appConfig,(function(e){if(!ku(e))throw Eo.create("not-registered");var i=e.authToken;if(!n&&Au(i))return e;if(1===i.requestStatus)return r=pu(t,n),e;if(!navigator.onLine)throw Eo.create("app-offline");var a=bu(e);return r=yu(t,a),a}));case 3:if(i=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i.authToken;case 11:return a=e.t0,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),du.apply(this,arguments)}function pu(e,t){return vu.apply(this,arguments)}function vu(){return(vu=b(T.mark((function e(t,n){var r,i;return T.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mu(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,Lo(100);case 6:return e.next=8,mu(t.appConfig);case 8:r=e.sent,e.next=3;break;case 11:if(0!==(i=r.authToken).requestStatus){e.next=16;break}return e.abrupt("return",hu(t,n));case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mu(e){return Zo(e,(function(e){if(!ku(e))throw Eo.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+go<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function yu(e,t){return gu.apply(this,arguments)}function gu(){return(gu=b(T.mark((function e(t,n){var r,i,a;return T.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,cu(t,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,Wo(t.appConfig,i);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),!xo(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,Jo(t.appConfig);case 15:e.next=20;break;case 17:return a=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,Wo(t.appConfig,a);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function ku(e){return void 0!==e&&2===e.registrationStatus}function Au(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+bo}(e)}function bu(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function wu(){return(wu=b(T.mark((function e(t){var n,r,i,a;return T.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,eu(n);case 3:return r=e.sent,i=r.installationEntry,(a=r.registrationPromise)?a.catch(console.error):hu(n).catch(console.error),e.abrupt("return",i.fid);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Eu(){return Eu=b(T.mark((function e(t){var n,r,i,a=arguments;return T.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],r=t,e.next=4,xu(r);case 4:return e.next=6,hu(r,n);case 6:return i=e.sent,e.abrupt("return",i.token);case 8:case"end":return e.stop()}}),e)}))),Eu.apply(this,arguments)}function xu(e){return _u.apply(this,arguments)}function _u(){return(_u=b(T.mark((function e(t){var n,r;return T.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eu(t);case 2:if(n=e.sent,!(r=n.registrationPromise)){e.next=7;break}return e.next=7,r;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Iu(e){return Eo.create("missing-app-config-values",{valueName:e})}var Su,Tu="installations",Cu=function(e){var t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Iu("App Configuration");if(!e.name)throw Iu("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw Iu(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:$e(t,"heartbeat"),_delete:function(){return Promise.resolve()}}},Nu=function(e){var t=$e(e.getProvider("app").getImmediate(),Tu).getImmediate(),n={getId:function(){return function(e){return wu.apply(this,arguments)}(t)},getToken:function(e){return function(e){return Eu.apply(this,arguments)}(t,e)}};return n};Ze(new fe(Tu,Cu,"PUBLIC")),Ze(new fe("installations-internal",Nu,"PRIVATE")),ot(mo,yo),ot(mo,yo,"esm2017");var Ru="analytics",Du=6e4,Ou="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Pu="https://www.googletagmanager.com/gtag/js",Lu=new we("@firebase/analytics"),Mu=(S(Su={},"already-exists","A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId."),S(Su,"already-initialized","initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance."),S(Su,"already-initialized-settings","Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect."),S(Su,"interop-component-reg-failed","Firebase Analytics Interop Component failed to instantiate: {$reason}"),S(Su,"invalid-analytics-context","Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),S(Su,"indexeddb-unavailable","IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),S(Su,"fetch-throttle","The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}."),S(Su,"config-fetch-failed","Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}"),S(Su,"no-api-key",'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.'),S(Su,"no-app-id",'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'),S(Su,"invalid-gtag-resource","Trusted Types detected an invalid gtag resource: {$gtagURL}."),Su),Uu=new Y("analytics","Analytics",Mu);function Fu(e){if(!e.startsWith(Pu)){var t=Uu.create("invalid-gtag-resource",{gtagURL:e});return Lu.warn(t.message),""}return e}function ju(e){return Promise.all(e.map((function(e){return e.catch((function(e){return e}))})))}function Bu(e,t){var n=function(e,t){var n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:Fu}),r=document.createElement("script"),i="".concat(Pu,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Vu(e,t,n,r,i,a){return zu.apply(this,arguments)}function zu(){return zu=b(T.mark((function e(t,n,r,i,a,o){var u,s,c;return T.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=i[a],e.prev=1,!u){e.next=7;break}return e.next=5,n[u];case 5:e.next=14;break;case 7:return e.next=9,ju(r);case 9:if(s=e.sent,!(c=s.find((function(e){return e.measurementId===a})))){e.next=14;break}return e.next=14,n[c.appId];case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),Lu.error(e.t0);case 19:t("config",a,o);case 20:case"end":return e.stop()}}),e,null,[[1,16]])}))),zu.apply(this,arguments)}function qu(e,t,n,r,i){return Hu.apply(this,arguments)}function Hu(){return Hu=b(T.mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return T.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=[],!a||!a.send_to){e.next=26;break}return u=a.send_to,Array.isArray(u)||(u=[u]),e.next=7,ju(r);case 7:s=e.sent,c=m(u),e.prev=9,f=function(){var e=l.value,t=s.find((function(t){return t.measurementId===e})),r=t&&n[t.appId];if(!r)return o=[],"break";o.push(r)},c.s();case 12:if((l=c.n()).done){e.next=18;break}if("break"!==f()){e.next=16;break}return e.abrupt("break",18);case 16:e.next=12;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),c.e(e.t0);case 23:return e.prev=23,c.f(),e.finish(23);case 26:return 0===o.length&&(o=Object.values(n)),e.next=29,Promise.all(o);case 29:t("event",i,a||{}),e.next=35;break;case 32:e.prev=32,e.t1=e.catch(0),Lu.error(e.t1);case 35:case"end":return e.stop()}}),e,null,[[0,32],[9,20,23,26]])}))),Hu.apply(this,arguments)}function Qu(e,t,n,r,i){var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(a=window[i]),window[i]=function(e,t,n,r){function i(){return(i=b(T.mark((function i(a,o,u){return T.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,"event"!==a){i.next=6;break}return i.next=4,qu(e,t,n,o,u);case 4:i.next=12;break;case 6:if("config"!==a){i.next=11;break}return i.next=9,Vu(e,t,n,r,o,u);case 9:i.next=12;break;case 11:"consent"===a?e("consent","update",u):e("set",o);case 12:i.next=17;break;case 14:i.prev=14,i.t0=i.catch(0),Lu.error(i.t0);case 17:case"end":return i.stop()}}),i,null,[[0,14]])})))).apply(this,arguments)}return function(e,t,n){return i.apply(this,arguments)}}(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}function Ku(e){for(var t=window.document.getElementsByTagName("script"),n=0,r=Object.values(t);n<r.length;n++){var i=r[n];if(i.src&&i.src.includes(Pu)&&i.src.includes(e))return i}return null}var Gu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;w(this,e),this.throttleMetadata=t,this.intervalMillis=n}return x(e,[{key:"getThrottleMetadata",value:function(e){return this.throttleMetadata[e]}},{key:"setThrottleMetadata",value:function(e,t){this.throttleMetadata[e]=t}},{key:"deleteThrottleMetadata",value:function(e){delete this.throttleMetadata[e]}}]),e}(),Wu=new Gu;function Xu(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function Ju(e){return Yu.apply(this,arguments)}function Yu(){return Yu=b(T.mark((function e(t){var n,r,i,a,o,u,s,c;return T.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appId,i=t.apiKey,a={method:"GET",headers:Xu(i)},o=Ou.replace("{app-id}",r),e.next=5,fetch(o,a);case 5:if(200===(u=e.sent).status||304===u.status){e.next=18;break}return s="",e.prev=8,e.next=11,u.json();case 11:c=e.sent,(null===(n=c.error)||void 0===n?void 0:n.message)&&(s=c.error.message),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(8);case 17:throw Uu.create("config-fetch-failed",{httpStatus:u.status,responseMessage:s});case 18:return e.abrupt("return",u.json());case 19:case"end":return e.stop()}}),e,null,[[8,15]])}))),Yu.apply(this,arguments)}function Zu(e){return $u.apply(this,arguments)}function $u(){return $u=b(T.mark((function e(t){var n,r,i,a,o,u,s,c,l=arguments;return T.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:Wu,r=l.length>2?l[2]:void 0,i=t.options,a=i.appId,o=i.apiKey,u=i.measurementId,a){e.next=5;break}throw Uu.create("no-app-id");case 5:if(o){e.next=9;break}if(!u){e.next=8;break}return e.abrupt("return",{measurementId:u,appId:a});case 8:throw Uu.create("no-api-key");case 9:return s=n.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new os,setTimeout(b(T.mark((function e(){return T.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.abort();case 1:case"end":return e.stop()}}),e)}))),void 0!==r?r:Du),e.abrupt("return",es({appId:a,apiKey:o,measurementId:u},s,c,n));case 13:case"end":return e.stop()}}),e)}))),$u.apply(this,arguments)}function es(e,t,n){return ts.apply(this,arguments)}function ts(){return ts=b(T.mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p=arguments;return T.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.throttleEndTimeMillis,a=n.backoffCount,o=p.length>3&&void 0!==p[3]?p[3]:Wu,s=t.appId,c=t.measurementId,e.prev=3,e.next=6,ns(r,i);case 6:e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(3),!c){e.next=13;break}return Lu.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(c)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===e.t0||void 0===e.t0?void 0:e.t0.message,"]")),e.abrupt("return",{appId:s,measurementId:c});case 13:throw e.t0;case 14:return e.prev=14,e.next=17,Ju(t);case 17:return l=e.sent,o.deleteThrottleMetadata(s),e.abrupt("return",l);case 22:if(e.prev=22,e.t1=e.catch(14),rs(f=e.t1)){e.next=33;break}if(o.deleteThrottleMetadata(s),!c){e.next=32;break}return Lu.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(c)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===f||void 0===f?void 0:f.message,"]")),e.abrupt("return",{appId:s,measurementId:c});case 32:throw e.t1;case 33:return h=503===Number(null===(u=null===f||void 0===f?void 0:f.customData)||void 0===u?void 0:u.httpStatus)?ce(a,o.intervalMillis,30):ce(a,o.intervalMillis),d={throttleEndTimeMillis:Date.now()+h,backoffCount:a+1},o.setThrottleMetadata(s,d),Lu.debug("Calling attemptFetch again in ".concat(h," millis")),e.abrupt("return",es(t,d,r,o));case 38:case"end":return e.stop()}}),e,null,[[3,8],[14,22]])}))),ts.apply(this,arguments)}function ns(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((function(){clearTimeout(a),r(Uu.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function rs(e){if(!(e instanceof J)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var is,as,os=function(){function e(){w(this,e),this.listeners=[]}return x(e,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach((function(e){return e()}))}}]),e}();function us(){return(us=b(T.mark((function e(t,n,r,i,a){var o,u;return T.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!a.global){e.next=5;break}return t("event",r,i),e.abrupt("return");case 5:return e.next=7,n;case 7:o=e.sent,u=Object.assign(Object.assign({},i),{send_to:o}),t("event",r,u);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ss(e){as=e}function cs(e){is=e}function ls(){return fs.apply(this,arguments)}function fs(){return(fs=b(T.mark((function e(){return T.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(W()){e.next=5;break}return Lu.warn(Uu.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,X();case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(5),Lu.warn(Uu.create("indexeddb-unavailable",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()}).message),e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,null,[[5,10]])})))).apply(this,arguments)}function hs(){return hs=b(T.mark((function e(t,n,r,i,a,o,u){var s,c,l,f,h,d,p,v;return T.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=Zu(t)).then((function(e){r[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&Lu.warn("The measurement ID in the local Firebase config (".concat(t.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return Lu.error(e)})),n.push(c),l=ls().then((function(e){return e?i.getId():void 0})),e.next=6,Promise.all([c,l]);case 6:return f=e.sent,h=k(f,2),d=h[0],p=h[1],Ku(o)||Bu(o,d.measurementId),as&&(a("consent","default",as),ss(void 0)),a("js",new Date),(v=null!==(s=null===u||void 0===u?void 0:u.config)&&void 0!==s?s:{}).origin="firebase",v.update=!0,null!=p&&(v.firebase_id=p),a("config",d.measurementId,v),is&&(a("set",is),cs(void 0)),e.abrupt("return",d.measurementId);case 20:case"end":return e.stop()}}),e)}))),hs.apply(this,arguments)}var ds,ps,vs=function(){function e(t){w(this,e),this.app=t}return x(e,[{key:"_delete",value:function(){return delete ms[this.app.options.appId],Promise.resolve()}}]),e}(),ms={},ys=[],gs={},ks="dataLayer",As="gtag",bs=!1;function ws(){var e=[];if(G()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"(".concat(t+1,") ").concat(e)})).join(" "),n=Uu.create("invalid-analytics-context",{errorInfo:t});Lu.warn(n.message)}}function Es(e,t,n){ws();var r=e.options.appId;if(!r)throw Uu.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Uu.create("no-api-key");Lu.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=ms[r])throw Uu.create("already-exists",{id:r});if(!bs){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(ks);var i=Qu(ms,ys,gs,ks,As),a=i.wrappedGtag,o=i.gtagCore;ps=a,ds=o,bs=!0}return ms[r]=function(e,t,n,r,i,a,o){return hs.apply(this,arguments)}(e,ys,gs,t,ds,ks,n),new vs(e)}function xs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=$e(e,Ru);if(n.isInitialized()){var r=n.getImmediate();if(te(t,n.getOptions()))return r;throw Uu.create("already-initialized")}var i=n.initialize({options:t});return i}function _s(e,t,n,r){e=le(e),function(e,t,n,r,i){return us.apply(this,arguments)}(ps,ms[e.app.options.appId],t,n,r).catch((function(e){return Lu.error(e)}))}var Is="@firebase/analytics",Ss="0.9.5";Ze(new fe(Ru,(function(e,t){var n=t.options;return Es(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),Ze(new fe("analytics-internal",(function(e){try{var t=e.getProvider(Ru).getImmediate();return{logEvent:function(e,n,r){return _s(t,e,n,r)}}}catch(n){throw Uu.create("interop-component-reg-failed",{reason:n})}}),"PRIVATE")),ot(Is,Ss),ot(Is,Ss,"esm2017");var Ts,Cs="firebasestorage.googleapis.com",Ns=function(e){c(n,e);var t=d(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return w(this,n),(i=t.call(this,Rs(e),"Firebase Storage: ".concat(r," (").concat(Rs(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(u(i),n.prototype),i}return x(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return Rs(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(J);function Rs(e){return"storage/"+e}function Ds(){return new Ns(Ts.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Os(){return new Ns(Ts.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ps(){return new Ns(Ts.CANCELED,"User canceled the upload/download.")}function Ls(){return new Ns(Ts.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ms(e){return new Ns(Ts.INVALID_ARGUMENT,e)}function Us(){return new Ns(Ts.APP_DELETED,"The Firebase app was deleted.")}function Fs(e,t){return new Ns(Ts.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function js(e){throw new Ns(Ts.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Ts||(Ts={}));var Bs,Vs=function(){function e(t,n){w(this,e),this.bucket=t,this.path_=n}return x(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,i;try{r=e.makeFromUrl(t,n)}catch(a){return new e(t,"")}if(""===r.path)return r;throw i=t,new Ns(Ts.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===Cs?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new Ns(Ts.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),zs=function(){function e(t){w(this,e),this.promise_=Promise.reject(t)}return x(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function qs(e){return"string"===typeof e||e instanceof String}function Hs(e){return Qs()&&e instanceof Blob}function Qs(){return"undefined"!==typeof Blob&&!K()}function Ks(e,t,n,r){if(r<t)throw Ms("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Ms("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Gs(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function Ws(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function Xs(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Bs||(Bs={}));var Js=function(){function e(t,n,r,i,a,o,u,s,c,l,f){var h=this,d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];w(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return x(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(s){i(s)}else if(null!==a){var u=Ds();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?Us():Ps());else i(Os())}};this.canceled_?t(0,new Ys(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new Ys(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===Bs.NO_ERROR,a=r.getStatus();if(!n||Xs(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===Bs.ABORT;t(!1,new Ys(!1,null,o))}else{var u=-1!==e.successCodes_.indexOf(a);t(!0,new Ys(u,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),Ys=x((function e(t,n,r){w(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function Zs(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}function $s(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}function ec(e,t){t&&(e["X-Firebase-GMPID"]=t)}function tc(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}function nc(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],u=Ws(e.urlParams),s=e.url+u,c=Object.assign({},e.headers);return ec(c,t),Zs(c,n),$s(c,a),tc(c,r),new Js(s,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}function rc(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function ic(){for(var e=rc(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(Qs())return new Blob(n);throw new Ns(Ts.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function ac(e){if("undefined"===typeof atob)throw t="base-64",new Ns(Ts.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}var oc="raw",uc="base64",sc="base64url",cc="data_url",lc=x((function e(t,n){w(this,e),this.data=t,this.contentType=n||null}));function fc(e,t){switch(e){case oc:return new lc(hc(t));case uc:case sc:return new lc(dc(e,t));case cc:return new lc(function(e){var t=new pc(e);return t.base64?dc(uc,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw Fs(cc,"Malformed data URL.")}return hc(t)}(t.rest)}(t),new pc(t).contentType)}throw Ds()}function hc(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function dc(e,t){switch(e){case uc:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw Fs(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case sc:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw Fs(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=ac(t)}catch(c){if(c.message.includes("polyfill"))throw c;throw Fs(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var pc=x((function e(t){w(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw Fs(cc,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var vc=function(){function e(t,n){w(this,e);var r=0,i="";Hs(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return x(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(Hs(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(Qs()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(ic.apply(null,i))}var a=n.map((function(e){return qs(e)?fc(oc,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var u=new Uint8Array(o),s=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]})),new e(u,!0)}}]),e}();function mc(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function yc(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function gc(e,t){return t}var kc=x((function e(t,n,r,i){w(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||gc})),Ac=null;function bc(){if(Ac)return Ac;var e=[];e.push(new kc("bucket")),e.push(new kc("generation")),e.push(new kc("metageneration")),e.push(new kc("name","fullPath",!0));var t=new kc("name");t.xform=function(e,t){return function(e){return!qs(e)||e.length<2?e:yc(e)}(t)},e.push(t);var n=new kc("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new kc("timeCreated")),e.push(new kc("updated")),e.push(new kc("md5Hash",null,!0)),e.push(new kc("cacheControl",null,!0)),e.push(new kc("contentDisposition",null,!0)),e.push(new kc("contentEncoding",null,!0)),e.push(new kc("contentLanguage",null,!0)),e.push(new kc("contentType",null,!0)),e.push(new kc("metadata","customMetadata",!0)),Ac=e}function wc(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new Vs(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Ec(e,t,n){var r=mc(t);return null===r?null:wc(e,r,n)}function xc(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var _c=x((function e(t,n,r,i){w(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function Ic(e){if(!e)throw Ds()}function Sc(e,t){return function(n,r){var i=Ec(e,r,t);return Ic(null!==i),i}}function Tc(e,t){return function(n,r){var i=Ec(e,r,t);return Ic(null!==i),function(e,t,n,r){var i=mc(t);if(null===i)return null;if(!qs(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return Gs("/b/"+o(i)+"/o/"+o(a),n,r)+Ws({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function Cc(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Ns(Ts.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Ns(Ts.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new Ns(Ts.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Ns(Ts.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function Nc(e){var t=Cc(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new Ns(Ts.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function Rc(e,t,n){var r=Gs(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new _c(r,"GET",Sc(e,n),i);return a.errorHandler=Nc(t),a}function Dc(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Oc(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=Dc(t,r,i),c="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+xc(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+u+"--",f=vc.getBlob(c,r,l);if(null===f)throw Ls();var h={name:s.fullPath},d=Gs(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new _c(d,"POST",Sc(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=Cc(t),v}var Pc=x((function e(t,n,r,i){w(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function Lc(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){Ic(!1)}return Ic(!!n&&-1!==(t||["active"]).indexOf(n)),n}var Mc=262144;function Uc(e,t,n,r,i,a,o,u){var s=new Pc(0,0);if(o?(s.current=o.current,s.total=o.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new Ns(Ts.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var c=s.total-s.current,l=c;i>0&&(l=Math.min(l,i));var f=s.current,h=f+l,d={"X-Goog-Upload-Command":0===l?"finalize":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(s.current)},p=r.slice(f,h);if(null===p)throw Ls();var v=t.maxUploadRetryTime,m=new _c(n,"POST",(function(e,n){var i,o=Lc(e,["active","final"]),u=s.current+l,c=r.size();return i="final"===o?Sc(t,a)(e,n):null,new Pc(u,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=u||null,m.errorHandler=Cc(e),m}var Fc="running",jc="paused",Bc="success",Vc="canceled",zc="error";function qc(e){switch(e){case"running":case"pausing":case"canceling":return Fc;case"paused":return jc;case"success":return Bc;case"canceled":return Vc;default:return zc}}var Hc=x((function e(t,n,r){w(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function Qc(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var Kc=function(){function e(){var t=this;w(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Bs.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=Bs.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=Bs.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return x(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw js("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw js("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw js("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw js("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw js("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),Gc=function(e){c(n,e);var t=d(n);function n(){return w(this,n),t.apply(this,arguments)}return x(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(Kc);function Wc(){return new Gc}var Xc=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;w(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=bc(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){if(r._request=void 0,r._chunkMultiplier=1,e._codeEquals(Ts.CANCELED))r._needToFetchStatus=!0,r.completeTransitions_();else{var t=r.isExponentialBackoffExpired();if(Xs(e.status,[])){if(!t)return r.sleepTime=Math.max(2*r.sleepTime,1e3),r._needToFetchStatus=!0,void r.completeTransitions_();e=Os()}r._error=e,r._transition("error")}},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals(Ts.CANCELED)?r.completeTransitions_():(r._error=e,r._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return x(e,[{key:"isExponentialBackoffExpired",value:function(){return this.sleepTime>this.maxSleepTime}},{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){var e=this;"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((function(){e.pendingTimeout=void 0,e._continueUpload()}),this.sleepTime):this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=k(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=Dc(t,r,i),u={name:o.fullPath},s=Gs(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=xc(o,n),f=e.maxUploadRetryTime,h=new _c(s,"POST",(function(e){var t;Lc(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){Ic(!1)}return Ic(qs(t)),t}),f);return h.urlParams=u,h.headers=c,h.body=l,h.errorHandler=Cc(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,Wc,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new _c(n,"POST",(function(e){var t=Lc(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){Ic(!1)}n||Ic(!1);var i=Number(n);return Ic(!isNaN(i)),new Pc(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=Cc(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,Wc,n,r);e._request=a,a.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=Mc*this._chunkMultiplier,n=new Pc(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=Uc(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(s){return e._error=s,void e._transition("error")}var u=e._ref.storage._makeRequest(o,Wc,i,a,!1);e._request=u,u.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){2*(Mc*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=Rc(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,Wc,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=Oc(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,Wc,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Ps(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=qc(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new Hc(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(qc(this._state)){case Bc:Qc(this._resolve.bind(null,this.snapshot))();break;case Vc:case zc:Qc(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(qc(this._state)){case Fc:case jc:e.next&&Qc(e.next.bind(e,this.snapshot))();break;case Bc:e.complete&&Qc(e.complete.bind(e))();break;default:e.error&&Qc(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),Jc=function(){function e(t,n){w(this,e),this._service=t,this._location=n instanceof Vs?n:Vs.makeFromUrl(n,t.host)}return x(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new Vs(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return yc(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Vs(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new Ns(Ts.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function Yc(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=Gs(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new _c(r,"GET",Tc(e,n),i);return a.errorHandler=Nc(t),a}(e.storage,e._location,bc());return e.storage.makeRequestWithTokens(t,Wc).then((function(e){if(null===e)throw new Ns(Ts.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function Zc(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Vs(e._location.bucket,n);return new Jc(e.storage,r)}function $c(e,t){if(e instanceof rl){var n=e;if(null==n._bucket)throw new Ns(Ts.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new Jc(n,n._bucket);return null!=t?$c(r,t):r}return void 0!==t?Zc(e,t):e}function el(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof rl)return new Jc(e,t);throw Ms("To use ref(service, url), the first argument must be a Storage instance.")}return $c(e,t)}function tl(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:Vs.makeFromBucketSpec(n,e)}function nl(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:H(i,e.app.options.projectId))}var rl=function(){function e(t,n,r,i,a){w(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=Cs,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Vs.makeFromBucketSpec(i,this._host):tl(this._host,this.app.options)}return x(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=Vs.makeFromBucketSpec(this._url,e):this._bucket=tl(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){Ks("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){Ks("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=b(C().mark((function e(){var t,n;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=b(C().mark((function e(){var t,n;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new Jc(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new zs(Us());var o=nc(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=b(C().mark((function e(t,n){var r,i,a,o;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=k(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),il="@firebase/storage",al="0.11.2",ol="storage";function ul(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Xc(e,new vc(t),n)}(e=le(e),t,n)}function sl(e){return Yc(e=le(e))}function cl(e,t){return el(e=le(e),t)}function ll(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};nl(e,t,n,r)}function fl(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new rl(r,i,a,n,rt)}Ze(new fe(ol,fl,"PUBLIC").setMultipleInstances(!0)),ot(il,al,""),ot(il,al,"esm2017");var hl,dl="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},pl={},vl=vl||{},ml=dl||self;function yl(){}function gl(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function kl(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Al="closure_uid_"+(1e9*Math.random()>>>0),bl=0;function wl(e,t,n){return e.call.apply(e.bind,arguments)}function El(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function xl(e,t,n){return(xl=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?wl:El).apply(null,arguments)}function _l(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Il(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Sl(){this.s=this.s,this.o=this.o}Sl.prototype.s=!1,Sl.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Al)&&e[Al]||(e[Al]=++bl))},Sl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Tl=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Cl(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Nl(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(gl(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Rl(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Rl.prototype.h=function(){this.defaultPrevented=!0};var Dl=function(){if(!ml.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ml.addEventListener("test",yl,t),ml.removeEventListener("test",yl,t)}catch(n){}return e}();function Ol(e){return/^[\s\xa0]*$/.test(e)}var Pl=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ll(e,t){return e<t?-1:e>t?1:0}function Ml(){var e=ml.navigator;return e&&(e=e.userAgent)?e:""}function Ul(e){return-1!=Ml().indexOf(e)}function Fl(e){return Fl[" "](e),e}Fl[" "]=yl;var jl,Bl=Ul("Opera"),Vl=Ul("Trident")||Ul("MSIE"),zl=Ul("Edge"),ql=zl||Vl,Hl=Ul("Gecko")&&!(-1!=Ml().toLowerCase().indexOf("webkit")&&!Ul("Edge"))&&!(Ul("Trident")||Ul("MSIE"))&&!Ul("Edge"),Ql=-1!=Ml().toLowerCase().indexOf("webkit")&&!Ul("Edge");function Kl(){var e=ml.document;return e?e.documentMode:void 0}e:{var Gl="",Wl=function(){var e=Ml();return Hl?/rv:([^\);]+)(\)|;)/.exec(e):zl?/Edge\/([\d\.]+)/.exec(e):Vl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ql?/WebKit\/(\S+)/.exec(e):Bl?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Wl&&(Gl=Wl?Wl[1]:""),Vl){var Xl=Kl();if(null!=Xl&&Xl>parseFloat(Gl)){jl=String(Xl);break e}}jl=Gl}var Jl,Yl={};function Zl(){return function(e){var t=Yl;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Pl(String(jl)).split("."),n=Pl("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Ll(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Ll(0==a[2].length,0==o[2].length)||Ll(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(ml.document&&Vl){var $l=Kl();Jl=$l||(parseInt(jl,10)||void 0)}else Jl=void 0;var ef=Jl;function tf(e,t){if(Rl.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Hl){e:{try{Fl(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:nf[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&tf.X.h.call(this)}}Il(tf,Rl);var nf={2:"touch",3:"pen",4:"mouse"};tf.prototype.h=function(){tf.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var rf="closure_listenable_"+(1e6*Math.random()|0),af=0;function of(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++af,this.ba=this.ea=!1}function uf(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function sf(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function cf(e){var t={};for(var n in e)t[n]=e[n];return t}var lf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ff(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<lf.length;a++)n=lf[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function hf(e){this.src=e,this.g={},this.h=0}function df(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Tl(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(uf(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function pf(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}hf.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=pf(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new of(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var vf="closure_lm_"+(1e6*Math.random()|0),mf={};function yf(e,t,n,r,i){if(r&&r.once)return kf(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)yf(e,t[a],n,r,i);return null}return n=If(n),e&&e[rf]?e.N(t,n,kl(r)?!!r.capture:!!r,i):gf(e,t,n,!1,r,i)}function gf(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=kl(i)?!!i.capture:!!i,u=xf(e);if(u||(e[vf]=u=new hf(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Ef;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Dl||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(wf(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function kf(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)kf(e,t[a],n,r,i);return null}return n=If(n),e&&e[rf]?e.O(t,n,kl(r)?!!r.capture:!!r,i):gf(e,t,n,!0,r,i)}function Af(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Af(e,t[a],n,r,i);else r=kl(r)?!!r.capture:!!r,n=If(n),e&&e[rf]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=pf(a=e.g[t],n,r,i))&&(uf(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=xf(e))&&(t=e.g[t.toString()],e=-1,t&&(e=pf(t,n,r,i)),(n=-1<e?t[e]:null)&&bf(n))}function bf(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[rf])df(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(wf(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=xf(t))?(df(n,e),0==n.h&&(n.src=null,t[vf]=null)):uf(e)}}}function wf(e){return e in mf?mf[e]:mf[e]="on"+e}function Ef(e,t){if(e.ba)e=!0;else{t=new tf(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&bf(e),e=n.call(r,t)}return e}function xf(e){return(e=e[vf])instanceof hf?e:null}var _f="__closure_events_fn_"+(1e9*Math.random()>>>0);function If(e){return"function"===typeof e?e:(e[_f]||(e[_f]=function(t){return e.handleEvent(t)}),e[_f])}function Sf(){Sl.call(this),this.i=new hf(this),this.P=this,this.I=null}function Tf(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Rl(t,e);else if(t instanceof Rl)t.target=t.target||e;else{var i=t;ff(t=new Rl(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Cf(o,r,!0,t)&&i}if(i=Cf(o=t.g=e,r,!0,t)&&i,i=Cf(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Cf(o=t.g=n[a],r,!1,t)&&i}function Cf(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&df(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Il(Sf,Sl),Sf.prototype[rf]=!0,Sf.prototype.removeEventListener=function(e,t,n,r){Af(this,e,t,n,r)},Sf.prototype.M=function(){if(Sf.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)uf(n[r]);delete t.g[e],t.h--}}this.I=null},Sf.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Sf.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Nf=ml.JSON.stringify;function Rf(){var e=jf,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Df,Of=function(){function e(){w(this,e),this.h=this.g=null}return x(e,[{key:"add",value:function(e,t){var n=Pf.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Pf=new(function(){function e(t,n){w(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return x(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Lf}),(function(e){return e.reset()})),Lf=function(){function e(){w(this,e),this.next=this.g=this.h=null}return x(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Mf(e){ml.setTimeout((function(){throw e}),0)}function Uf(e,t){Df||function(){var e=ml.Promise.resolve(void 0);Df=function(){e.then(Bf)}}(),Ff||(Df(),Ff=!0),jf.add(e,t)}var Ff=!1,jf=new Of;function Bf(){for(var e;e=Rf();){try{e.h.call(e.g)}catch(n){Mf(n)}var t=Pf;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ff=!1}function Vf(e,t){Sf.call(this),this.h=e||1,this.g=t||ml,this.j=xl(this.lb,this),this.l=Date.now()}function zf(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function qf(e,t,n){if("function"===typeof e)n&&(e=xl(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=xl(e.handleEvent,e)}return 2147483647<Number(t)?-1:ml.setTimeout(e,t||0)}function Hf(e){e.g=qf((function(){e.g=null,e.i&&(e.i=!1,Hf(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Il(Vf,Sf),(hl=Vf.prototype).ca=!1,hl.R=null,hl.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Tf(this,"tick"),this.ca&&(zf(this),this.start()))}},hl.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},hl.M=function(){Vf.X.M.call(this),zf(this),delete this.g};var Qf=function(e){c(n,e);var t=d(n);function n(e,r){var i;return w(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return x(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Hf(this)}},{key:"M",value:function(){o(i(n.prototype),"M",this).call(this),this.g&&(ml.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Sl);function Kf(e){Sl.call(this),this.h=e,this.g={}}Il(Kf,Sl);var Gf=[];function Wf(e,t,n,r){Array.isArray(n)||(n&&(Gf[0]=n.toString()),n=Gf);for(var i=0;i<n.length;i++){var a=yf(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Xf(e){sf(e.g,(function(e,t){this.g.hasOwnProperty(t)&&bf(e)}),e),e.g={}}function Jf(){this.g=!0}function Yf(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Nf(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Kf.prototype.M=function(){Kf.X.M.call(this),Xf(this)},Kf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Jf.prototype.Aa=function(){this.g=!1},Jf.prototype.info=function(){};var Zf={},$f=null;function eh(){return $f=$f||new Sf}function th(e){Rl.call(this,Zf.Pa,e)}function nh(e){var t=eh();Tf(t,new th(t))}function rh(e,t){Rl.call(this,Zf.STAT_EVENT,e),this.stat=t}function ih(e){var t=eh();Tf(t,new rh(t,e))}function ah(e,t){Rl.call(this,Zf.Qa,e),this.size=t}function oh(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ml.setTimeout((function(){e()}),t)}Zf.Pa="serverreachability",Il(th,Rl),Zf.STAT_EVENT="statevent",Il(rh,Rl),Zf.Qa="timingevent",Il(ah,Rl);var uh={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},sh={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function ch(){}function lh(e){return e.h||(e.h=e.i())}function fh(){}ch.prototype.h=null;var hh,dh={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function ph(){Rl.call(this,"d")}function vh(){Rl.call(this,"c")}function mh(){}function yh(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Kf(this),this.O=kh,e=ql?125:void 0,this.T=new Vf(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new gh}function gh(){this.i=null,this.g="",this.h=!1}Il(ph,Rl),Il(vh,Rl),Il(mh,ch),mh.prototype.g=function(){return new XMLHttpRequest},mh.prototype.i=function(){return{}},hh=new mh;var kh=45e3,Ah={},bh={};function wh(e,t,n){e.K=1,e.v=Vh(Mh(t)),e.s=n,e.P=!0,Eh(e,null)}function Eh(e,t){e.F=Date.now(),Sh(e),e.A=Mh(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),ed(n.i,"t",r),e.C=0,n=e.l.H,e.h=new gh,e.g=tp(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Qf(xl(e.La,e,e.g),e.N)),Wf(e.S,e.g,"readystatechange",e.ib),t=e.H?cf(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),nh(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function xh(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function _h(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Ih(e,n))==bh){4==t&&(e.o=4,ih(14),i=!1),Yf(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ah){e.o=4,ih(15),Yf(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Yf(e.j,e.m,r,null),Dh(e,r)}xh(e)&&r!=bh&&r!=Ah&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ih(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Gd(t),t.K=!0,ih(11))):(Yf(e.j,e.m,n,"[Invalid Chunked Response]"),Rh(e),Nh(e))}function Ih(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?bh:(n=Number(t.substring(n,r)),isNaN(n)?Ah:(r+=1)+n>t.length?bh:(t=t.substr(r,n),e.C=r+n,t))}function Sh(e){e.V=Date.now()+e.O,Th(e,e.O)}function Th(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=oh(xl(e.gb,e),t)}function Ch(e){e.B&&(ml.clearTimeout(e.B),e.B=null)}function Nh(e){0==e.l.G||e.I||Jd(e.l,e)}function Rh(e){Ch(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,zf(e.T),Xf(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Dh(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||sd(n.h,e)))if(!e.J&&sd(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Xd(n),jd(n)}Kd(n),ih(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=oh(xl(n.cb,n),6e3));if(1>=ud(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else Zd(n,11)}else if((e.J||n.g==e)&&Xd(n),!Ol(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(cd(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,Bh(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=ep(r,r.H?r.ka:null,r.V),d.J){ld(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(Ch(p),Sh(p)),r.g=d}else Qd(r);0<n.i.length&&Vd(n)}else"stop"!=a[0]&&"close"!=a[0]||Zd(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Zd(n,7):Fd(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}nh()}catch(a){}}function Oh(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(gl(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(gl(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(gl(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(hl=yh.prototype).setTimeout=function(e){this.O=e},hl.ib=function(e){e=e.target;var t=this.L;t&&3==Dd(e)?t.l():this.La(e)},hl.La=function(e){try{if(e==this.g)e:{var t=Dd(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||ql||this.g&&(this.h.h||this.g.fa()||Od(this.g)))){this.I||4!=t||7==n||nh(),Ch(this);var r=this.g.aa();this.Y=r;t:if(xh(this)){var i=Od(this.g);e="";var a=i.length,o=4==Dd(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Rh(this),Nh(this);var u="";break t}this.h.i=new ml.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ol(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,ih(12),Rh(this),Nh(this);break e}Yf(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Dh(this,r)}this.P?(_h(this,t,u),ql&&this.i&&3==t&&(Wf(this.S,this.T,"tick",this.hb),this.T.start())):(Yf(this.j,this.m,u,null),Dh(this,u)),4==t&&Rh(this),this.i&&!this.I&&(4==t?Jd(this.l,this):(this.i=!1,Sh(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,ih(12)):(this.o=0,ih(13)),Rh(this),Nh(this)}}}catch(t){}},hl.hb=function(){if(this.g){var e=Dd(this.g),t=this.g.fa();this.C<t.length&&(Ch(this),_h(this,e,t),this.i&&4!=e&&Sh(this))}},hl.cancel=function(){this.I=!0,Rh(this)},hl.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(nh(),ih(17)),Rh(this),this.o=2,Nh(this)):Th(this,this.V-e)};var Ph=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lh(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Lh){this.h=void 0!==t?t:e.h,Uh(this,e.j),this.s=e.s,this.g=e.g,Fh(this,e.m),this.l=e.l,t=e.i;var n=new Jh;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),jh(this,n),this.o=e.o}else e&&(n=String(e).match(Ph))?(this.h=!!t,Uh(this,n[1]||"",!0),this.s=zh(n[2]||""),this.g=zh(n[3]||"",!0),Fh(this,n[4]),this.l=zh(n[5]||"",!0),jh(this,n[6]||"",!0),this.o=zh(n[7]||"")):(this.h=!!t,this.i=new Jh(null,this.h))}function Mh(e){return new Lh(e)}function Uh(e,t,n){e.j=n?zh(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Fh(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function jh(e,t,n){t instanceof Jh?(e.i=t,function(e,t){t&&!e.j&&(Yh(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Zh(this,t),ed(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=qh(t,Wh)),e.i=new Jh(t,e.h))}function Bh(e,t,n){e.i.set(t,n)}function Vh(e){return Bh(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function zh(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function qh(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Hh),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Hh(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Lh.prototype.toString=function(){var e=[],t=this.j;t&&e.push(qh(t,Qh,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(qh(t,Qh,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(qh(n,"/"==n.charAt(0)?Gh:Kh,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",qh(n,Xh)),e.join("")};var Qh=/[#\/\?@]/g,Kh=/[#\?:]/g,Gh=/[#\?]/g,Wh=/[#\?@]/g,Xh=/#/g;function Jh(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Yh(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Zh(e,t){Yh(e),t=td(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function $h(e,t){return Yh(e),t=td(e,t),e.g.has(t)}function ed(e,t,n){Zh(e,t),0<n.length&&(e.i=null,e.g.set(td(e,t),Cl(n)),e.h+=n.length)}function td(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(hl=Jh.prototype).add=function(e,t){Yh(this),this.i=null,e=td(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},hl.forEach=function(e,t){Yh(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},hl.oa=function(){Yh(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},hl.W=function(e){Yh(this);var t=[];if("string"===typeof e)$h(this,e)&&(t=t.concat(this.g.get(td(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},hl.set=function(e,t){return Yh(this),this.i=null,$h(this,e=td(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},hl.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},hl.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var nd=x((function e(t,n){w(this,e),this.h=t,this.g=n}));function rd(e){this.l=e||ad,ml.PerformanceNavigationTiming?e=0<(e=ml.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ml.g&&ml.g.Ga&&ml.g.Ga()&&ml.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var id,ad=10;function od(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ud(e){return e.h?1:e.g?e.g.size:0}function sd(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function cd(e,t){e.g?e.g.add(t):e.h=t}function ld(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function fd(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=m(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Cl(e.i)}function hd(){}function dd(){this.g=new hd}function pd(e,t,n){var r=n||"";try{Oh(e,(function(e,n){var i=e;kl(e)&&(i=Nf(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function vd(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function md(e){this.l=e.ac||null,this.j=e.jb||!1}function yd(e,t){Sf.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=gd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rd.prototype.cancel=function(){if(this.i=fd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=m(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},hd.prototype.stringify=function(e){return ml.JSON.stringify(e,void 0)},hd.prototype.parse=function(e){return ml.JSON.parse(e,void 0)},Il(md,ch),md.prototype.g=function(){return new yd(this.l,this.j)},md.prototype.i=(id={},function(){return id}),Il(yd,Sf);var gd=0;function kd(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function Ad(e){e.readyState=4,e.l=null,e.j=null,e.A=null,bd(e)}function bd(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(hl=yd.prototype).open=function(e,t){if(this.readyState!=gd)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,bd(this)},hl.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ml).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},hl.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ad(this)),this.readyState=gd},hl.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,bd(this)),this.g&&(this.readyState=3,bd(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof ml.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;kd(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},hl.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ad(this):bd(this),3==this.readyState&&kd(this)}},hl.Va=function(e){this.g&&(this.response=this.responseText=e,Ad(this))},hl.Ua=function(e){this.g&&(this.response=e,Ad(this))},hl.ga=function(){this.g&&Ad(this)},hl.setRequestHeader=function(e,t){this.v.append(e,t)},hl.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},hl.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(yd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var wd=ml.JSON.parse;function Ed(e){Sf.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=xd,this.K=this.L=!1}Il(Ed,Sf);var xd="",_d=/^https?$/i,Id=["POST","PUT"];function Sd(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Td(e),Nd(e)}function Td(e){e.D||(e.D=!0,Tf(e,"complete"),Tf(e,"error"))}function Cd(e){if(e.h&&"undefined"!=typeof vl&&(!e.C[1]||4!=Dd(e)||2!=e.aa()))if(e.v&&4==Dd(e))qf(e.Ha,0,e);else if(Tf(e,"readystatechange"),4==Dd(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Ph)[1]||null;if(!a&&ml.self&&ml.self.location){var o=ml.self.location.protocol;a=o.substr(0,o.length-1)}i=!_d.test(a?a.toLowerCase():"")}t=i}if(t)Tf(e,"complete"),Tf(e,"success");else{e.m=6;try{var u=2<Dd(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.aa()+"]",Td(e)}}finally{Nd(e)}}}function Nd(e,t){if(e.g){Rd(e);var n=e.g,r=e.C[0]?yl:null;e.g=null,e.C=null,t||Tf(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Rd(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ml.clearTimeout(e.A),e.A=null)}function Dd(e){return e.g?e.g.readyState:0}function Od(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case xd:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(gp){return null}}function Pd(e){var t="";return sf(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Ld(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Pd(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Bh(e,t,n))}function Md(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ud(e){this.Ca=0,this.i=[],this.j=new Jf,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Md("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Md("baseRetryDelayMs",5e3,e),this.bb=Md("retryDelaySeedMs",1e4,e),this.$a=Md("forwardChannelMaxRetries",2,e),this.ta=Md("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new rd(e&&e.concurrentRequestLimit),this.Fa=new dd,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Fd(e){if(Bd(e),3==e.G){var t=e.U++,n=Mh(e.F);Bh(n,"SID",e.I),Bh(n,"RID",t),Bh(n,"TYPE","terminate"),qd(e,n),(t=new yh(e,e.j,t,void 0)).K=2,t.v=Vh(Mh(n)),n=!1,ml.navigator&&ml.navigator.sendBeacon&&(n=ml.navigator.sendBeacon(t.v.toString(),"")),!n&&ml.Image&&((new Image).src=t.v,n=!0),n||(t.g=tp(t.l,null),t.g.da(t.v)),t.F=Date.now(),Sh(t)}$d(e)}function jd(e){e.g&&(Gd(e),e.g.cancel(),e.g=null)}function Bd(e){jd(e),e.u&&(ml.clearTimeout(e.u),e.u=null),Xd(e),e.h.cancel(),e.m&&("number"===typeof e.m&&ml.clearTimeout(e.m),e.m=null)}function Vd(e){od(e.h)||e.m||(e.m=!0,Uf(e.Ja,e),e.C=0)}function zd(e,t){var n;n=t?t.m:e.U++;var r=Mh(e.F);Bh(r,"SID",e.I),Bh(r,"RID",n),Bh(r,"AID",e.T),qd(e,r),e.o&&e.s&&Ld(r,e.o,e.s),n=new yh(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Hd(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),cd(e.h,n),wh(n,r,t)}function qd(e,t){e.ia&&sf(e.ia,(function(e,n){Bh(t,n,e)})),e.l&&Oh({},(function(e,n){Bh(t,n,e)}))}function Hd(e,t,n){n=Math.min(e.i.length,n);var r=e.l?xl(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{pd(l,o,"req"+c+"_")}catch(Tp){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Qd(e){e.g||e.u||(e.Z=1,Uf(e.Ia,e),e.A=0)}function Kd(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=oh(xl(e.Ia,e),Yd(e,e.A)),e.A++,!0)}function Gd(e){null!=e.B&&(ml.clearTimeout(e.B),e.B=null)}function Wd(e){e.g=new yh(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Mh(e.sa);Bh(t,"RID","rpc"),Bh(t,"SID",e.I),Bh(t,"CI",e.L?"0":"1"),Bh(t,"AID",e.T),Bh(t,"TYPE","xmlhttp"),qd(e,t),e.o&&e.s&&Ld(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Vh(Mh(t)),n.s=null,n.P=!0,Eh(n,e)}function Xd(e){null!=e.v&&(ml.clearTimeout(e.v),e.v=null)}function Jd(e,t){var n=null;if(e.g==t){Xd(e),Gd(e),e.g=null;var r=2}else{if(!sd(e.h,t))return;n=t.D,ld(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Tf(r=eh(),new ah(r,n)),Vd(e)}else Qd(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(ud(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=oh(xl(e.Ja,e,t),Yd(e,e.C)),e.C++,!0))}(e,t)||2==r&&Kd(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Zd(e,5);break;case 4:Zd(e,10);break;case 3:Zd(e,6);break;default:Zd(e,2)}}function Yd(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Zd(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=xl(e.kb,e);n||(n=new Lh("//www.google.com/images/cleardot.gif"),ml.location&&"http"==ml.location.protocol||Uh(n,"https"),Vh(n)),function(e,t){var n=new Jf;if(ml.Image){var r=new Image;r.onload=_l(vd,n,r,"TestLoadImage: loaded",!0,t),r.onerror=_l(vd,n,r,"TestLoadImage: error",!1,t),r.onabort=_l(vd,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=_l(vd,n,r,"TestLoadImage: timeout",!1,t),ml.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ih(2);e.G=0,e.l&&e.l.va(t),$d(e),Bd(e)}function $d(e){if(e.G=0,e.la=[],e.l){var t=fd(e.h);0==t.length&&0==e.i.length||(Nl(e.la,t),Nl(e.la,e.i),e.h.i.length=0,Cl(e.i),e.i.length=0),e.l.ua()}}function ep(e,t,n){var r=n instanceof Lh?Mh(n):new Lh(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Fh(r,r.m);else{var i=ml.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Lh(null,void 0);r&&Uh(a,r),t&&(a.g=t),i&&Fh(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Bh(r,n,t),Bh(r,"VER",e.ma),qd(e,r),r}function tp(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new Ed(new md({jb:!0})):new Ed(e.ra)).Ka(e.H),t}function np(){}function rp(){if(Vl&&!(10<=Number(ef)))throw Error("Environmental error: no available transport.")}function ip(e,t){Sf.call(this),this.g=new Ud(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Ol(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ol(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new up(this)}function ap(e){ph.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function op(){vh.call(this),this.status=1}function up(e){this.g=e}(hl=Ed.prototype).Ka=function(e){this.L=e},hl.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():hh.g(),this.C=this.u?lh(this.u):lh(hh),this.g.onreadystatechange=xl(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void Sd(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=m(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(d){o.e(d)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=ml.FormData&&e instanceof ml.FormData,!(0<=Tl(Id,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=m(n);try{for(c.s();!(s=c.n()).done;){var l=k(s.value,2),f=l[0],h=l[1];this.g.setRequestHeader(f,h)}}catch(d){c.e(d)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Rd(this),0<this.B&&((this.K=function(e){return Vl&&Zl()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xl(this.qa,this)):this.A=qf(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){Sd(this,u)}},hl.qa=function(){"undefined"!=typeof vl&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tf(this,"timeout"),this.abort(8))},hl.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Tf(this,"complete"),Tf(this,"abort"),Nd(this))},hl.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Nd(this,!0)),Ed.X.M.call(this)},hl.Ha=function(){this.s||(this.F||this.v||this.l?Cd(this):this.fb())},hl.fb=function(){Cd(this)},hl.aa=function(){try{return 2<Dd(this)?this.g.status:-1}catch(id){return-1}},hl.fa=function(){try{return this.g?this.g.responseText:""}catch(id){return""}},hl.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),wd(t)}},hl.Ea=function(){return this.m},hl.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(hl=Ud.prototype).ma=8,hl.G=1,hl.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new yh(this,this.j,e,void 0),n=this.s;if(this.S&&(n?ff(n=cf(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Hd(this,t,r),Bh(i=Mh(this.F),"RID",e),Bh(i,"CVER",22),this.D&&Bh(i,"X-HTTP-Session-Id",this.D),qd(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Pd(n)))+"&"+r:this.o&&Ld(i,this.o,n)),cd(this.h,t),this.Ya&&Bh(i,"TYPE","init"),this.O?(Bh(i,"$req",r),Bh(i,"SID","null"),t.Z=!0,wh(t,i,null)):wh(t,i,r),this.G=2}}else 3==this.G&&(e?zd(this,e):0==this.i.length||od(this.h)||zd(this))},hl.Ia=function(){if(this.u=null,Wd(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=oh(xl(this.eb,this),e)}},hl.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ih(10),jd(this),Wd(this))},hl.cb=function(){null!=this.v&&(this.v=null,jd(this),Kd(this),ih(19))},hl.kb=function(e){e?(this.j.info("Successfully pinged google.com"),ih(2)):(this.j.info("Failed to ping google.com"),ih(1))},(hl=np.prototype).xa=function(){},hl.wa=function(){},hl.va=function(){},hl.ua=function(){},hl.Ra=function(){},rp.prototype.g=function(e,t){return new ip(e,t)},Il(ip,Sf),ip.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;ih(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=ep(e,null,e.V),Vd(e)},ip.prototype.close=function(){Fd(this.g)},ip.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Nf(e),e=n);t.i.push(new nd(t.ab++,e)),3==t.G&&Vd(t)},ip.prototype.M=function(){this.g.l=null,delete this.j,Fd(this.g),delete this.g,ip.X.M.call(this)},Il(ap,ph),Il(op,vh),Il(up,np),up.prototype.xa=function(){Tf(this.g,"a")},up.prototype.wa=function(e){Tf(this.g,new ap(e))},up.prototype.va=function(e){Tf(this.g,new op)},up.prototype.ua=function(){Tf(this.g,"b")},rp.prototype.createWebChannel=rp.prototype.g,ip.prototype.send=ip.prototype.u,ip.prototype.open=ip.prototype.m,ip.prototype.close=ip.prototype.close,uh.NO_ERROR=0,uh.TIMEOUT=8,uh.HTTP_ERROR=6,sh.COMPLETE="complete",fh.EventType=dh,dh.OPEN="a",dh.CLOSE="b",dh.ERROR="c",dh.MESSAGE="d",Sf.prototype.listen=Sf.prototype.N,Ed.prototype.listenOnce=Ed.prototype.O,Ed.prototype.getLastError=Ed.prototype.Oa,Ed.prototype.getLastErrorCode=Ed.prototype.Ea,Ed.prototype.getStatus=Ed.prototype.aa,Ed.prototype.getResponseJson=Ed.prototype.Sa,Ed.prototype.getResponseText=Ed.prototype.fa,Ed.prototype.send=Ed.prototype.da,Ed.prototype.setWithCredentials=Ed.prototype.Ka;var sp=pl.createWebChannelTransport=function(){return new rp},cp=pl.getStatEventTarget=function(){return eh()},lp=pl.ErrorCode=uh,fp=pl.EventType=sh,hp=pl.Event=Zf,dp=pl.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},pp=pl.FetchXmlHttpFactory=md,vp=pl.WebChannel=fh,mp=pl.XhrIo=Ed,yp="@firebase/firestore",gp=function(){function e(t){w(this,e),this.uid=t}return x(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();gp.UNAUTHENTICATED=new gp(null),gp.GOOGLE_CREDENTIALS=new gp("google-credentials-uid"),gp.FIRST_PARTY=new gp("first-party-uid"),gp.MOCK_USER=new gp("mock-user");var kp="9.20.0",Ap=new we("@firebase/firestore");function bp(){return Ap.logLevel}function wp(e){if(Ap.logLevel<=ve.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(_p);Ap.debug.apply(Ap,["Firestore (".concat(kp,"): ").concat(e)].concat(I(i)))}}function Ep(e){if(Ap.logLevel<=ve.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(_p);Ap.error.apply(Ap,["Firestore (".concat(kp,"): ").concat(e)].concat(I(i)))}}function xp(e){if(Ap.logLevel<=ve.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(_p);Ap.warn.apply(Ap,["Firestore (".concat(kp,"): ").concat(e)].concat(I(i)))}}function _p(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Ip(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(kp,") INTERNAL ASSERTION FAILED: ")+e;throw Ep(t),new Error(t)}function Sp(e,t){e||Ip()}function Tp(e,t){return e}var Cp={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Np=function(e){c(n,e);var t=d(n);function n(e,r){var i;return w(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return x(n)}(J),Rp=x((function e(){var t=this;w(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Dp=x((function e(t,n){w(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Op=function(){function e(){w(this,e)}return x(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(gp.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Pp=function(){function e(t){w(this,e),this.token=t,this.changeListener=null}return x(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Lp=function(){function e(t){w(this,e),this.t=t,this.currentUser=gp.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return x(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Rp;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Rp,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(b(C().mark((function e(){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){wp("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(wp("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Rp)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(wp("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Sp("string"==typeof n.accessToken),new Dp(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Sp(null===e||"string"==typeof e),new gp(e)}}]),e}(),Mp=function(){function e(t,n,r){w(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=gp.FIRST_PARTY,this.g=new Map}return x(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),Up=function(){function e(t,n,r){w(this,e),this.h=t,this.l=n,this.m=r}return x(e,[{key:"getToken",value:function(){return Promise.resolve(new Mp(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(gp.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Fp=x((function e(t){w(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),jp=function(){function e(t){w(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return x(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&wp("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,wp("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){wp("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):wp("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Sp("string"==typeof t.token),e.T=t.token,new Fp(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Bp(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Vp=function(){function e(){w(this,e)}return x(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Bp(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function zp(e,t){return e<t?-1:e>t?1:0}function qp(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Hp=function(){function e(t,n){if(w(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Np(Cp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Np(Cp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Np(Cp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Np(Cp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return x(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?zp(this.nanoseconds,e.nanoseconds):zp(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Qp=function(){function e(t){w(this,e),this.timestamp=t}return x(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Hp(0,0))}},{key:"max",value:function(){return new e(new Hp(253402300799,999999999))}}]),e}(),Kp=function(){function e(t,n,r){w(this,e),void 0===n?n=0:n>t.length&&Ip(),void 0===r?r=t.length-n:r>t.length-n&&Ip(),this.segments=t,this.offset=n,this.len=r}return x(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Gp=function(e){c(n,e);var t=d(n);function n(){return w(this,n),t.apply(this,arguments)}return x(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Np(Cp.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,I(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Kp),Wp=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Xp=function(e){c(n,e);var t=d(n);function n(){return w(this,n),t.apply(this,arguments)}return x(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Wp.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Np(Cp.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Np(Cp.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Np(Cp.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Np(Cp.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Kp),Jp=function(){function e(t){w(this,e),this.path=t}return x(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Gp.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Gp.fromString(t))}},{key:"fromName",value:function(t){return new e(Gp.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Gp.emptyPath())}},{key:"comparator",value:function(e,t){return Gp.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Gp(t.slice()))}}]),e}(),Yp=x((function e(t,n,r,i){w(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));Yp.UNKNOWN_ID=-1;function Zp(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Qp.fromTimestamp(1e9===r?new Hp(n+1,0):new Hp(n,r));return new ev(i,Jp.empty(),t)}function $p(e){return new ev(e.readTime,e.key,-1)}var ev=function(){function e(t,n,r){w(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return x(e,null,[{key:"min",value:function(){return new e(Qp.min(),Jp.empty(),-1)}},{key:"max",value:function(){return new e(Qp.max(),Jp.empty(),-1)}}]),e}();function tv(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Jp.comparator(e.documentKey,t.documentKey))?n:zp(e.largestBatchId,t.largestBatchId)}var nv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",rv=function(){function e(){w(this,e),this.onCommittedListeners=[]}return x(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function iv(e){return av.apply(this,arguments)}function av(){return av=b(C().mark((function e(t){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Cp.FAILED_PRECONDITION&&t.message===nv){e.next=2;break}throw t;case 2:wp("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),av.apply(this,arguments)}var ov=function(){function e(t){var n=this;w(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return x(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Ip(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=m(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function uv(e){return"IndexedDbTransactionError"===e.name}var sv=function(){function e(t,n){var r=this;w(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return x(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function cv(e){return null==e}function lv(e){return 0===e&&1/e==-1/0}function fv(e){return"number"==typeof e&&Number.isInteger(e)&&!lv(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}sv.ct=-1;var hv=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),dv=([].concat(I(hv),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),pv=dv;[].concat(pv,["indexConfiguration","indexState","indexEntries"]);function vv(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function mv(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function yv(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var gv=function(){function e(t,n){w(this,e),this.comparator=t,this.root=n||Av.EMPTY}return x(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Av.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Av.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new kv(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new kv(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new kv(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new kv(this.root,e,this.comparator,!0)}}]),e}(),kv=function(){function e(t,n,r,i){w(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return x(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Av=function(){function e(t,n,r,i,a){w(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return x(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Ip();if(this.right.isRed())throw Ip();var e=this.left.check();if(e!==this.right.check())throw Ip();return e+(this.isRed()?0:1)}}]),e}();Av.EMPTY=null,Av.RED=!0,Av.BLACK=!1,Av.EMPTY=new(function(){function e(){w(this,e),this.size=0}return x(e,[{key:"key",get:function(){throw Ip()}},{key:"value",get:function(){throw Ip()}},{key:"color",get:function(){throw Ip()}},{key:"left",get:function(){throw Ip()}},{key:"right",get:function(){throw Ip()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Av(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var bv=function(){function e(t){w(this,e),this.comparator=t,this.data=new gv(this.comparator)}return x(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new wv(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new wv(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),wv=function(){function e(t){w(this,e),this.iter=t}return x(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var Ev=function(){function e(t){w(this,e),this.fields=t,t.sort(Xp.comparator)}return x(e,[{key:"unionWith",value:function(t){var n,r=new bv(Xp.comparator),i=m(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=m(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=m(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return qp(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),xv=function(e){c(n,e);var t=d(n);function n(){var e;return w(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return x(n)}(R(Error));var _v=function(e){function t(e){w(this,t),this.binaryString=e}return x(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return zp(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new xv("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();_v.EMPTY_BYTE_STRING=new _v("");var Iv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sv(e){if(Sp(!!e),"string"==typeof e){var t=0,n=Iv.exec(e);if(Sp(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Tv(e.seconds),nanos:Tv(e.nanos)}}function Tv(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Cv(e){return"string"==typeof e?_v.fromBase64String(e):_v.fromUint8Array(e)}function Nv(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Rv(e){var t=e.mapValue.fields.__previous_value__;return Nv(t)?Rv(t):t}function Dv(e){var t=Sv(e.mapValue.fields.__local_write_time__.timestampValue);return new Hp(t.seconds,t.nanos)}var Ov=x((function e(t,n,r,i,a,o,u,s){w(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Pv=function(){function e(t,n){w(this,e),this.projectId=t,this.database=n||"(default)"}return x(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),Lv={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Mv(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Nv(e)?4:Jv(e)?9007199254740991:10:Ip()}function Uv(e,t){if(e===t)return!0;var n=Mv(e);if(n!==Mv(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Dv(e).isEqual(Dv(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Sv(e.timestampValue),r=Sv(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Cv(e.bytesValue).isEqual(Cv(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Tv(e.geoPointValue.latitude)===Tv(t.geoPointValue.latitude)&&Tv(e.geoPointValue.longitude)===Tv(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Tv(e.integerValue)===Tv(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Tv(e.doubleValue),r=Tv(t.doubleValue);return n===r?lv(n)===lv(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return qp(e.arrayValue.values||[],t.arrayValue.values||[],Uv);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(vv(n)!==vv(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Uv(n[i],r[i])))return!1;return!0}(e,t);default:return Ip()}}function Fv(e,t){return void 0!==(e.values||[]).find((function(e){return Uv(e,t)}))}function jv(e,t){if(e===t)return 0;var n=Mv(e),r=Mv(t);if(n!==r)return zp(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return zp(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Tv(e.integerValue||e.doubleValue),r=Tv(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Bv(e.timestampValue,t.timestampValue);case 4:return Bv(Dv(e),Dv(t));case 5:return zp(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Cv(e),r=Cv(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=zp(n[i],r[i]);if(0!==a)return a}return zp(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=zp(Tv(e.latitude),Tv(t.latitude));return 0!==n?n:zp(Tv(e.longitude),Tv(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=jv(n[i],r[i]);if(a)return a}return zp(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Lv.mapValue&&t===Lv.mapValue)return 0;if(e===Lv.mapValue)return 1;if(t===Lv.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=zp(r[o],a[o]);if(0!==u)return u;var s=jv(n[r[o]],i[a[o]]);if(0!==s)return s}return zp(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Ip()}}function Bv(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return zp(e,t);var n=Sv(e),r=Sv(t),i=zp(n.seconds,r.seconds);return 0!==i?i:zp(n.nanos,r.nanos)}function Vv(e){return zv(e)}function zv(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Sv(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Cv(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Jp.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=m(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=zv(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=m(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(zv(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Ip();var t,n}function qv(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Hv(e){return!!e&&"integerValue"in e}function Qv(e){return!!e&&"arrayValue"in e}function Kv(e){return!!e&&"nullValue"in e}function Gv(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Wv(e){return!!e&&"mapValue"in e}function Xv(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return mv(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Xv(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Xv(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Jv(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var Yv=function(){function e(t){w(this,e),this.value=t}return x(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Wv(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xv(t)}},{key:"setAll",value:function(e){var t=this,n=Xp.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Xv(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Wv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Uv(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Wv(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){mv(t,(function(t,n){return e[t]=n}));var r,i=m(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Xv(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Zv(e){var t=[];return mv(e.fields,(function(e,n){var r=new Xp([e]);if(Wv(n)){var i=Zv(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=m(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Ev(t)}var $v=function(){function e(t,n,r,i,a,o,u){w(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return x(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Qp.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Yv.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Yv.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Qp.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Qp.min(),Qp.min(),Qp.min(),Yv.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Qp.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Qp.min(),Qp.min(),Yv.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Qp.min(),Qp.min(),Yv.empty(),2)}}]),e}(),em=x((function e(t,n){w(this,e),this.position=t,this.inclusive=n}));function tm(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Jp.comparator(Jp.fromName(o.referenceValue),n.key):jv(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function nm(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Uv(e.position[n],t.position[n]))return!1;return!0}var rm=x((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";w(this,e),this.field=t,this.dir=n}));function im(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var am=x((function e(){w(this,e)})),om=function(e){c(n,e);var t=d(n);function n(e,r,i){var a;return w(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return x(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(jv(t,this.value)):null!==t&&Mv(this.value)===Mv(t)&&this.matchesComparison(jv(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ip()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new pm(e,t,r):"array-contains"===t?new gm(e,r):"in"===t?new km(e,r):"not-in"===t?new Am(e,r):"array-contains-any"===t?new bm(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new vm(e,n):new mm(e,n)}}]),n}(am),um=function(e){c(n,e);var t=d(n);function n(e,r){var i;return w(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return x(n,[{key:"matches",value:function(e){return sm(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=m(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(am);function sm(e){return"and"===e.op}function cm(e){return lm(e)&&sm(e)}function lm(e){var t,n=m(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof um)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function fm(e){if(e instanceof om)return e.field.canonicalString()+e.op.toString()+Vv(e.value);if(cm(e))return e.filters.map((function(e){return fm(e)})).join(",");var t=e.filters.map((function(e){return fm(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function hm(e,t){return e instanceof om?function(e,t){return t instanceof om&&e.op===t.op&&e.field.isEqual(t.field)&&Uv(e.value,t.value)}(e,t):e instanceof um?function(e,t){return t instanceof um&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&hm(n,t.filters[r])}),!0)}(e,t):void Ip()}function dm(e){return e instanceof om?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Vv(e.value))}(e):e instanceof um?function(e){return e.op.toString()+" {"+e.getFilters().map(dm).join(" ,")+"}"}(e):"Filter"}var pm=function(e){c(n,e);var t=d(n);function n(e,r,i){var a;return w(this,n),(a=t.call(this,e,r,i)).key=Jp.fromName(i.referenceValue),a}return x(n,[{key:"matches",value:function(e){var t=Jp.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(om),vm=function(e){c(n,e);var t=d(n);function n(e,r){var i;return w(this,n),(i=t.call(this,e,"in",r)).keys=ym("in",r),i}return x(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(om),mm=function(e){c(n,e);var t=d(n);function n(e,r){var i;return w(this,n),(i=t.call(this,e,"not-in",r)).keys=ym("not-in",r),i}return x(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(om);function ym(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Jp.fromName(e.referenceValue)}))}var gm=function(e){c(n,e);var t=d(n);function n(e,r){return w(this,n),t.call(this,e,"array-contains",r)}return x(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Qv(t)&&Fv(t.arrayValue,this.value)}}]),n}(om),km=function(e){c(n,e);var t=d(n);function n(e,r){return w(this,n),t.call(this,e,"in",r)}return x(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Fv(this.value.arrayValue,t)}}]),n}(om),Am=function(e){c(n,e);var t=d(n);function n(e,r){return w(this,n),t.call(this,e,"not-in",r)}return x(n,[{key:"matches",value:function(e){if(Fv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Fv(this.value.arrayValue,t)}}]),n}(om),bm=function(e){c(n,e);var t=d(n);function n(e,r){return w(this,n),t.call(this,e,"array-contains-any",r)}return x(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Qv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Fv(t.value.arrayValue,e)}))}}]),n}(om),wm=x((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;w(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ft=null}));function Em(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new wm(e,t,n,r,i,a,o)}function xm(e){var t=Tp(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return fm(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),cv(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Vv(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Vv(e)})).join(",")),t.ft=n}return t.ft}function _m(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!im(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!hm(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!nm(e.startAt,t.startAt)&&nm(e.endAt,t.endAt)}function Im(e){return Jp.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Sm=x((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;w(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.dt=null,this.wt=null,this.startAt,this.endAt}));function Tm(e,t,n,r,i,a,o,u){return new Sm(e,t,n,r,i,a,o,u)}function Cm(e){return new Sm(e)}function Nm(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Rm(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Dm(e){var t,n=m(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function Om(e){return null!==e.collectionGroup}function Pm(e){var t=Tp(e);if(null===t.dt){t.dt=[];var n=Dm(t),r=Rm(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new rm(n)),t.dt.push(new rm(Xp.keyField(),"asc"));else{var i,a=!1,o=m(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.dt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new rm(Xp.keyField(),s))}}}return t.dt}function Lm(e){var t=Tp(e);if(!t.wt)if("F"===t.limitType)t.wt=Em(t.path,t.collectionGroup,Pm(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=m(Pm(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new rm(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new em(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new em(t.startAt.position,t.startAt.inclusive):null;t.wt=Em(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.wt}function Mm(e,t){t.getFirstInequalityField(),Dm(e);var n=e.filters.concat([t]);return new Sm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Um(e,t,n){return new Sm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Fm(e,t){return _m(Lm(e),Lm(t))&&e.limitType===t.limitType}function jm(e){return"".concat(xm(Lm(e)),"|lt:").concat(e.limitType)}function Bm(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return dm(e)})).join(", "),"]")),cv(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Vv(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Vv(e)})).join(",")),"Target(".concat(t,")")}(Lm(e)),"; limitType=").concat(e.limitType,")")}function Vm(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Jp.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=m(Pm(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=m(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=tm(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Pm(e),t))&&!(e.endAt&&!function(e,t,n){var r=tm(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Pm(e),t))}(e,t)}function zm(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function qm(e){return function(t,n){var r,i=!1,a=m(Pm(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Hm(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Hm(e,t,n){var r=e.field.isKeyField()?Jp.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?jv(r,i):Ip()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ip()}}var Qm=function(){function e(t,n){w(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return x(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=m(n);try{for(i.s();!(r=i.n()).done;){var a=k(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){mv(this.inner,(function(t,n){var r,i=m(n);try{for(i.s();!(r=i.n()).done;){var a=k(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return yv(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Km=new gv(Jp.comparator);function Gm(){return Km}var Wm=new gv(Jp.comparator);function Xm(){for(var e=Wm,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Jm(e){var t=Wm;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Ym(){return $m()}function Zm(){return $m()}function $m(){return new Qm((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var ey=new gv(Jp.comparator),ty=new bv(Jp.comparator);function ny(){for(var e=ty,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var ry=new bv(zp);function iy(){return ry}function ay(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lv(t)?"-0":t}}function oy(e){return{integerValue:""+e}}function uy(e,t){return fv(t)?oy(t):ay(e,t)}var sy=x((function e(){w(this,e),this._=void 0}));function cy(e,t,n){return e instanceof hy?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof dy?py(e,t):e instanceof vy?my(e,t):function(e,t){var n=fy(e,t),r=gy(n)+gy(e._t);return Hv(n)&&Hv(e._t)?oy(r):ay(e.serializer,r)}(e,t)}function ly(e,t,n){return e instanceof dy?py(e,t):e instanceof vy?my(e,t):n}function fy(e,t){return e instanceof yy?Hv(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var hy=function(e){c(n,e);var t=d(n);function n(){return w(this,n),t.apply(this,arguments)}return x(n)}(sy),dy=function(e){c(n,e);var t=d(n);function n(e){var r;return w(this,n),(r=t.call(this)).elements=e,r}return x(n)}(sy);function py(e,t){var n,r=ky(t),i=m(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Uv(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var vy=function(e){c(n,e);var t=d(n);function n(e){var r;return w(this,n),(r=t.call(this)).elements=e,r}return x(n)}(sy);function my(e,t){var n,r=ky(t),i=m(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Uv(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var yy=function(e){c(n,e);var t=d(n);function n(e,r){var i;return w(this,n),(i=t.call(this)).serializer=e,i._t=r,i}return x(n)}(sy);function gy(e){return Tv(e.integerValue||e.doubleValue)}function ky(e){return Qv(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Ay=x((function e(t,n){w(this,e),this.field=t,this.transform=n}));var by=x((function e(t,n){w(this,e),this.version=t,this.transformResults=n})),wy=function(){function e(t,n){w(this,e),this.updateTime=t,this.exists=n}return x(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Ey(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var xy=x((function e(){w(this,e)}));function _y(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Uy(e.key,wy.none()):new Ny(e.key,e.data,wy.none());var n,r=e.data,i=Yv.empty(),a=new bv(Xp.comparator),o=m(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Ry(e.key,i,new Ev(a.toArray()),wy.none())}function Iy(e,t,n){e instanceof Ny?function(e,t,n){var r=e.value.clone(),i=Oy(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ry?function(e,t,n){if(Ey(e.precondition,t)){var r=Oy(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Dy(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Sy(e,t,n,r){return e instanceof Ny?function(e,t,n,r){if(!Ey(e.precondition,t))return n;var i=e.value.clone(),a=Py(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ry?function(e,t,n,r){if(!Ey(e.precondition,t))return n;var i=Py(e.fieldTransforms,r,t),a=t.data;return a.setAll(Dy(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Ey(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Ty(e,t){var n,r=null,i=m(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=fy(a.transform,o||null);null!=u&&(null===r&&(r=Yv.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Cy(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&qp(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof dy&&t instanceof dy||e instanceof vy&&t instanceof vy?qp(e.elements,t.elements,Uv):e instanceof yy&&t instanceof yy?Uv(e._t,t._t):e instanceof hy&&t instanceof hy}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Ny=function(e){c(n,e);var t=d(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return w(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return x(n,[{key:"getFieldMask",value:function(){return null}}]),n}(xy),Ry=function(e){c(n,e);var t=d(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return w(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return x(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(xy);function Dy(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Oy(e,t,n){var r=new Map;Sp(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,ly(o,u,n[i]))}return r}function Py(e,t,n){var r,i=new Map,a=m(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,cy(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Ly,My,Uy=function(e){c(n,e);var t=d(n);function n(e,r){var i;return w(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return x(n,[{key:"getFieldMask",value:function(){return null}}]),n}(xy),Fy=function(e){c(n,e);var t=d(n);function n(e,r){var i;return w(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return x(n,[{key:"getFieldMask",value:function(){return null}}]),n}(xy),jy=function(){function e(t,n,r,i){w(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return x(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Iy(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=m(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Sy(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=m(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=Sy(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Zm();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=_y(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Qp.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),ny())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&qp(this.mutations,e.mutations,(function(e,t){return Cy(e,t)}))&&qp(this.baseMutations,e.baseMutations,(function(e,t){return Cy(e,t)}))}}]),e}(),By=function(){function e(t,n,r,i){w(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return x(e,null,[{key:"from",value:function(t,n,r){Sp(t.mutations.length===r.length);for(var i=ey,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Vy=function(){function e(t,n){w(this,e),this.largestBatchId=t,this.mutation=n}return x(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),zy=x((function e(t){w(this,e),this.count=t}));function qy(e){switch(e){default:return Ip();case Cp.CANCELLED:case Cp.UNKNOWN:case Cp.DEADLINE_EXCEEDED:case Cp.RESOURCE_EXHAUSTED:case Cp.INTERNAL:case Cp.UNAVAILABLE:case Cp.UNAUTHENTICATED:return!1;case Cp.INVALID_ARGUMENT:case Cp.NOT_FOUND:case Cp.ALREADY_EXISTS:case Cp.PERMISSION_DENIED:case Cp.FAILED_PRECONDITION:case Cp.ABORTED:case Cp.OUT_OF_RANGE:case Cp.UNIMPLEMENTED:case Cp.DATA_LOSS:return!0}}function Hy(e){if(void 0===e)return Ep("GRPC error has no .code"),Cp.UNKNOWN;switch(e){case Ly.OK:return Cp.OK;case Ly.CANCELLED:return Cp.CANCELLED;case Ly.UNKNOWN:return Cp.UNKNOWN;case Ly.DEADLINE_EXCEEDED:return Cp.DEADLINE_EXCEEDED;case Ly.RESOURCE_EXHAUSTED:return Cp.RESOURCE_EXHAUSTED;case Ly.INTERNAL:return Cp.INTERNAL;case Ly.UNAVAILABLE:return Cp.UNAVAILABLE;case Ly.UNAUTHENTICATED:return Cp.UNAUTHENTICATED;case Ly.INVALID_ARGUMENT:return Cp.INVALID_ARGUMENT;case Ly.NOT_FOUND:return Cp.NOT_FOUND;case Ly.ALREADY_EXISTS:return Cp.ALREADY_EXISTS;case Ly.PERMISSION_DENIED:return Cp.PERMISSION_DENIED;case Ly.FAILED_PRECONDITION:return Cp.FAILED_PRECONDITION;case Ly.ABORTED:return Cp.ABORTED;case Ly.OUT_OF_RANGE:return Cp.OUT_OF_RANGE;case Ly.UNIMPLEMENTED:return Cp.UNIMPLEMENTED;case Ly.DATA_LOSS:return Cp.DATA_LOSS;default:return Ip()}}(My=Ly||(Ly={}))[My.OK=0]="OK",My[My.CANCELLED=1]="CANCELLED",My[My.UNKNOWN=2]="UNKNOWN",My[My.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",My[My.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",My[My.NOT_FOUND=5]="NOT_FOUND",My[My.ALREADY_EXISTS=6]="ALREADY_EXISTS",My[My.PERMISSION_DENIED=7]="PERMISSION_DENIED",My[My.UNAUTHENTICATED=16]="UNAUTHENTICATED",My[My.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",My[My.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",My[My.ABORTED=10]="ABORTED",My[My.OUT_OF_RANGE=11]="OUT_OF_RANGE",My[My.UNIMPLEMENTED=12]="UNIMPLEMENTED",My[My.INTERNAL=13]="INTERNAL",My[My.UNAVAILABLE=14]="UNAVAILABLE",My[My.DATA_LOSS=15]="DATA_LOSS";var Qy=function(){function e(){w(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return x(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return Ky}},{key:"getOrCreateInstance",value:function(){return null===Ky&&(Ky=new e),Ky}}]),e}(),Ky=null,Gy=function(){function e(t,n,r,i,a){w(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return x(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Wy.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Qp.min(),i,iy(),Gm(),ny())}}]),e}(),Wy=function(){function e(t,n,r,i,a){w(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return x(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,ny(),ny(),ny())}}]),e}(),Xy=x((function e(t,n,r,i){w(this,e),this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i})),Jy=x((function e(t,n){w(this,e),this.targetId=t,this.Et=n})),Yy=x((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_v.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;w(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Zy=function(){function e(){w(this,e),this.At=0,this.Rt=tg(),this.vt=_v.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}return x(e,[{key:"current",get:function(){return this.bt}},{key:"resumeToken",get:function(){return this.vt}},{key:"Vt",get:function(){return 0!==this.At}},{key:"St",get:function(){return this.Pt}},{key:"Dt",value:function(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}},{key:"Ct",value:function(){var e=ny(),t=ny(),n=ny();return this.Rt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ip()}})),new Wy(this.vt,this.bt,e,t,n)}},{key:"xt",value:function(){this.Pt=!1,this.Rt=tg()}},{key:"Nt",value:function(e,t){this.Pt=!0,this.Rt=this.Rt.insert(e,t)}},{key:"kt",value:function(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}},{key:"Ot",value:function(){this.At+=1}},{key:"$t",value:function(){this.At-=1}},{key:"Mt",value:function(){this.Pt=!0,this.bt=!0}}]),e}(),$y=function(){function e(t){w(this,e),this.Ft=t,this.Bt=new Map,this.Lt=Gm(),this.qt=eg(),this.Ut=new bv(zp)}return x(e,[{key:"Kt",value:function(e){var t,n=m(e.It);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt)}}catch(u){n.e(u)}finally{n.f()}var i,a=m(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Qt(o,e.key,e.Tt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"zt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.jt(n);switch(e.state){case 0:t.Wt(n)&&r.Dt(e.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.$t(),r.Vt||t.removeTarget(n);break;case 3:t.Wt(n)&&(r.Mt(),r.Dt(e.resumeToken));break;case 4:t.Wt(n)&&(t.Ht(n),r.Dt(e.resumeToken));break;default:Ip()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((function(e,r){n.Wt(r)&&t(r)}))}},{key:"Jt",value:function(e){var t,n=e.targetId,r=e.Et.count,i=this.Yt(n);if(i){var a=i.target;if(Im(a))if(0===r){var o=new Jp(a.path);this.Qt(n,o,$v.newNoDocument(o,Qp.min()))}else Sp(1===r);else{var u=this.Zt(n);u!==r&&(this.Ht(n),this.Ut=this.Ut.add(n),null===(t=Qy.instance)||void 0===t||t.notifyOnExistenceFilterMismatch({localCacheCount:u,existenceFilterCount:e.Et.count}))}}}},{key:"Xt",value:function(e){var t=this,n=new Map;this.Bt.forEach((function(r,i){var a=t.Yt(i);if(a){if(r.current&&Im(a.target)){var o=new Jp(a.target.path);null!==t.Lt.get(o)||t.te(i,o)||t.Qt(i,o,$v.newNoDocument(o,e))}r.St&&(n.set(i,r.Ct()),r.xt())}}));var r=ny();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Yt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Lt.forEach((function(t,n){return n.setReadTime(e)}));var i=new Gy(e,n,this.Ut,this.Lt,r);return this.Lt=Gm(),this.qt=eg(),this.Ut=new bv(zp),i}},{key:"Gt",value:function(e,t){if(this.Wt(e)){var n=this.te(e,t.key)?2:0;this.jt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}}},{key:"Qt",value:function(e,t,n){if(this.Wt(e)){var r=this.jt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Bt.delete(e)}},{key:"Zt",value:function(e){var t=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.jt(e).Ot()}},{key:"jt",value:function(e){var t=this.Bt.get(e);return t||(t=new Zy,this.Bt.set(e,t)),t}},{key:"ee",value:function(e){var t=this.qt.get(e);return t||(t=new bv(zp),this.qt=this.qt.insert(e,t)),t}},{key:"Wt",value:function(e){var t=null!==this.Yt(e);return t||wp("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Yt",value:function(e){var t=this.Bt.get(e);return t&&t.Vt?null:this.Ft.ne(e)}},{key:"Ht",value:function(e){var t=this;this.Bt.set(e,new Zy),this.Ft.getRemoteKeysForTarget(e).forEach((function(n){t.Qt(e,n,null)}))}},{key:"te",value:function(e,t){return this.Ft.getRemoteKeysForTarget(e).has(t)}}]),e}();function eg(){return new gv(Jp.comparator)}function tg(){return new gv(Jp.comparator)}var ng={asc:"ASCENDING",desc:"DESCENDING"},rg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ig={and:"AND",or:"OR"},ag=x((function e(t,n){w(this,e),this.databaseId=t,this.useProto3Json=n}));function og(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function ug(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function sg(e,t){return og(e,t.toTimestamp())}function cg(e){return Sp(!!e),Qp.fromTimestamp(function(e){var t=Sv(e);return new Hp(t.seconds,t.nanos)}(e))}function lg(e,t){return function(e){return new Gp(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function fg(e){var t=Gp.fromString(e);return Sp(Rg(t)),t}function hg(e,t){return lg(e.databaseId,t.path)}function dg(e,t){var n=fg(t);if(n.get(1)!==e.databaseId.projectId)throw new Np(Cp.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Np(Cp.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Jp(yg(n))}function pg(e,t){return lg(e.databaseId,t)}function vg(e){var t=fg(e);return 4===t.length?Gp.emptyPath():yg(t)}function mg(e){return new Gp(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function yg(e){return Sp(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function gg(e,t,n){return{name:hg(e,t),fields:n.value.mapValue.fields}}function kg(e,t){var n;if(t instanceof Ny)n={update:gg(e,t.key,t.value)};else if(t instanceof Uy)n={delete:hg(e,t.key)};else if(t instanceof Ry)n={update:gg(e,t.key,t.data),updateMask:Ng(t.fieldMask)};else{if(!(t instanceof Fy))return Ip();n={verify:hg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof hy)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof dy)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof vy)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof yy)return{fieldPath:t.field.canonicalString(),increment:n._t};throw Ip()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:sg(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ip()}(e,t.precondition)),n}function Ag(e,t){return{documents:[pg(e,t.path)]}}function bg(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=pg(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=pg(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return Cg(um.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Sg(e.field),direction:xg(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.useProto3Json||cv(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function wg(e){var t=vg(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Sp(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Eg(e);return t instanceof um&&cm(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new rm(Tg(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return cv(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new em(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new em(n,t)}(n.endAt)),Tm(t,i,u,o,s,"F",c,l)}function Eg(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Tg(e.unaryFilter.field);return om.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Tg(e.unaryFilter.field);return om.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Tg(e.unaryFilter.field);return om.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Tg(e.unaryFilter.field);return om.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ip()}}(e):void 0!==e.fieldFilter?function(e){return om.create(Tg(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ip()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return um.create(e.compositeFilter.filters.map((function(e){return Eg(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ip()}}(e.compositeFilter.op))}(e):Ip()}function xg(e){return ng[e]}function _g(e){return rg[e]}function Ig(e){return ig[e]}function Sg(e){return{fieldPath:e.canonicalString()}}function Tg(e){return Xp.fromServerFormat(e.fieldPath)}function Cg(e){return e instanceof om?function(e){if("=="===e.op){if(Gv(e.value))return{unaryFilter:{field:Sg(e.field),op:"IS_NAN"}};if(Kv(e.value))return{unaryFilter:{field:Sg(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Gv(e.value))return{unaryFilter:{field:Sg(e.field),op:"IS_NOT_NAN"}};if(Kv(e.value))return{unaryFilter:{field:Sg(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sg(e.field),op:_g(e.op),value:e.value}}}(e):e instanceof um?function(e){var t=e.getFilters().map((function(e){return Cg(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Ig(e.op),filters:t}}}(e):Ip()}function Ng(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Rg(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Dg=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Qp.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Qp.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:_v.EMPTY_BYTE_STRING;w(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return x(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Og=x((function e(t){w(this,e),this.se=t}));function Pg(e){var t=wg({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Um(t,t.limit,"L"):t}var Lg=function(){function e(){w(this,e)}return x(e,[{key:"oe",value:function(e,t){this.ue(e,t),t.ce()}},{key:"ue",value:function(e,t){if("nullValue"in e)this.ae(t,5);else if("booleanValue"in e)this.ae(t,10),t.he(e.booleanValue?1:0);else if("integerValue"in e)this.ae(t,15),t.he(Tv(e.integerValue));else if("doubleValue"in e){var n=Tv(e.doubleValue);isNaN(n)?this.ae(t,13):(this.ae(t,15),lv(n)?t.he(0):t.he(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ae(t,20),"string"==typeof r?t.le(r):(t.le("".concat(r.seconds||"")),t.he(r.nanos||0))}else if("stringValue"in e)this.fe(e.stringValue,t),this.de(t);else if("bytesValue"in e)this.ae(t,30),t.we(Cv(e.bytesValue)),this.de(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ae(t,45),t.he(i.latitude||0),t.he(i.longitude||0)}else"mapValue"in e?Jv(e)?this.ae(t,Number.MAX_SAFE_INTEGER):(this.me(e.mapValue,t),this.de(t)):"arrayValue"in e?(this.ge(e.arrayValue,t),this.de(t)):Ip()}},{key:"fe",value:function(e,t){this.ae(t,25),this.ye(e,t)}},{key:"ye",value:function(e,t){t.le(e)}},{key:"me",value:function(e,t){var n=e.fields||{};this.ae(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.fe(a,t),this.ue(n[a],t)}}},{key:"ge",value:function(e,t){var n=e.values||[];this.ae(t,50);var r,i=m(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ue(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ae(t,37),Jp.fromName(e).path.forEach((function(e){n.ae(t,60),n.ye(e,t)}))}},{key:"ae",value:function(e,t){e.he(t)}},{key:"de",value:function(e){e.he(2)}}]),e}();Lg.pe=new Lg;var Mg=function(){function e(){w(this,e),this.He=new Ug}return x(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.He.add(t),ov.resolve()}},{key:"getCollectionParents",value:function(e,t){return ov.resolve(this.He.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return ov.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return ov.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return ov.resolve(null)}},{key:"getIndexType",value:function(e,t){return ov.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return ov.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return ov.resolve(null)}},{key:"getMinOffset",value:function(e,t){return ov.resolve(ev.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return ov.resolve(ev.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return ov.resolve()}},{key:"updateIndexEntries",value:function(e,t){return ov.resolve()}}]),e}(),Ug=function(){function e(){w(this,e),this.index={}}return x(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new bv(Gp.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new bv(Gp.comparator)).toArray()}}]),e}();new Uint8Array(0);var Fg=function(){function e(t,n,r){w(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return x(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();Fg.DEFAULT_COLLECTION_PERCENTILE=10,Fg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fg.DEFAULT=new Fg(41943040,Fg.DEFAULT_COLLECTION_PERCENTILE,Fg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fg.DISABLED=new Fg(-1,0,0);var jg=function(){function e(t){w(this,e),this.Rn=t}return x(e,[{key:"next",value:function(){return this.Rn+=2,this.Rn}}],[{key:"vn",value:function(){return new e(0)}},{key:"bn",value:function(){return new e(-1)}}]),e}();var Bg=function(){function e(){w(this,e),this.changes=new Qm((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return x(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,$v.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?ov.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var Vg=x((function e(t,n){w(this,e),this.overlayedDocument=t,this.mutatedFields=n})),zg=function(){function e(t,n,r,i){w(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return x(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Sy(r.mutation,e,Ev.empty(),Hp.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,ny()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ny(),i=Ym();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Xm();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Ym();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,ny())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Gm(),a=$m(),o=$m();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Ry)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Sy(o.mutation,t,o.mutation.getFieldMask(),Hp.now())):a.set(t.key,Ev.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Vg(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=$m(),i=new gv((function(e,t){return e-t})),a=ny();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=m(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Ev.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||ny()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Zm();c.forEach((function(e){if(!a.has(e)){var n=_y(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return ov.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Jp.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Om(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):ov.resolve(Ym()),u=-1,s=a;return o.next((function(t){return ov.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?ov.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,ny())})).next((function(e){return{batchId:u,changes:Jm(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Jp(t)).next((function(e){var t=Xm();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Xm();return this.indexManager.getCollectionParents(e,i).next((function(o){return ov.forEach(o,(function(o){var u=function(e,t){return new Sm(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,$v.newInvalidDocument(r)))}));var n=Xm();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&Sy(a.mutation,i,Ev.empty(),Hp.now()),Vm(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),qg=function(){function e(t){w(this,e),this.serializer=t,this.Zn=new Map,this.Xn=new Map}return x(e,[{key:"getBundleMetadata",value:function(e,t){return ov.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:cg(n.createTime)}),ov.resolve()}},{key:"getNamedQuery",value:function(e,t){return ov.resolve(this.Xn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Xn.set(t.name,function(e){return{name:e.name,query:Pg(e.bundledQuery),readTime:cg(e.readTime)}}(t)),ov.resolve()}}]),e}(),Hg=function(){function e(){w(this,e),this.overlays=new gv(Jp.comparator),this.ts=new Map}return x(e,[{key:"getOverlay",value:function(e,t){return ov.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Ym();return ov.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.re(e,t,i)})),ov.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ts.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ts.delete(n)),ov.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Ym(),i=t.length+1,a=new Jp(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return ov.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new gv((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Ym(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Ym(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return ov.resolve(s)}},{key:"re",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ts.get(r.largestBatchId).delete(n.key);this.ts.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Vy(t,n));var a=this.ts.get(t);void 0===a&&(a=ny(),this.ts.set(t,a)),this.ts.set(t,a.add(n.key))}}]),e}(),Qg=function(){function e(){w(this,e),this.es=new bv(Kg.ns),this.ss=new bv(Kg.rs)}return x(e,[{key:"isEmpty",value:function(){return this.es.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Kg(e,t);this.es=this.es.add(n),this.ss=this.ss.add(n)}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.us(new Kg(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"hs",value:function(e){var t=this,n=new Jp(new Gp([])),r=new Kg(n,e),i=new Kg(n,e+1),a=[];return this.ss.forEachInRange([r,i],(function(e){t.us(e),a.push(e.key)})),a}},{key:"ls",value:function(){var e=this;this.es.forEach((function(t){return e.us(t)}))}},{key:"us",value:function(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}},{key:"fs",value:function(e){var t=new Jp(new Gp([])),n=new Kg(t,e),r=new Kg(t,e+1),i=ny();return this.ss.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Kg(e,0),n=this.es.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Kg=function(){function e(t,n){w(this,e),this.key=t,this.ds=n}return x(e,null,[{key:"ns",value:function(e,t){return Jp.comparator(e.key,t.key)||zp(e.ds,t.ds)}},{key:"rs",value:function(e,t){return zp(e.ds,t.ds)||Jp.comparator(e.key,t.key)}}]),e}(),Gg=function(){function e(t,n){w(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this._s=new bv(Kg.ns)}return x(e,[{key:"checkEmpty",value:function(e){return ov.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new jy(i,t,n,r);this.mutationQueue.push(a);var o,u=m(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this._s=this._s.add(new Kg(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return ov.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return ov.resolve(this.gs(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ys(n),i=r<0?0:r;return ov.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return ov.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return ov.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Kg(t,0),i=new Kg(t,Number.POSITIVE_INFINITY),a=[];return this._s.forEachInRange([r,i],(function(e){var t=n.gs(e.ds);a.push(t)})),ov.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new bv(zp);return t.forEach((function(e){var t=new Kg(e,0),i=new Kg(e,Number.POSITIVE_INFINITY);n._s.forEachInRange([t,i],(function(e){r=r.add(e.ds)}))})),ov.resolve(this.ps(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Jp.isDocumentKey(i)||(i=i.child(""));var a=new Kg(new Jp(i),0),o=new bv(zp);return this._s.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ds)),!0)}),a),ov.resolve(this.ps(o))}},{key:"ps",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.gs(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Sp(0===this.Is(t.batchId,"removed")),this.mutationQueue.shift();var r=this._s;return ov.forEach(t.mutations,(function(i){var a=new Kg(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n._s=r}))}},{key:"En",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Kg(t,0),r=this._s.firstAfterOrEqual(n);return ov.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,ov.resolve()}},{key:"Is",value:function(e,t){return this.ys(e)}},{key:"ys",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"gs",value:function(e){var t=this.ys(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Wg=function(){function e(t){w(this,e),this.Ts=t,this.docs=new gv(Jp.comparator),this.size=0}return x(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ts(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return ov.resolve(n?n.document.mutableCopy():$v.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Gm();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():$v.newInvalidDocument(e))})),ov.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Gm(),a=t.path,o=new Jp(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||tv($p(l),n)<=0||(r.has(l.key)||Vm(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return ov.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Ip()}},{key:"Es",value:function(e,t){return ov.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Xg(this)}},{key:"getSize",value:function(e){return ov.resolve(this.size)}}]),e}(),Xg=function(e){c(n,e);var t=d(n);function n(e){var r;return w(this,n),(r=t.call(this)).Jn=e,r}return x(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Jn.addEntry(e,i)):t.Jn.removeEntry(r)})),ov.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Jn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Jn.getEntries(e,t)}}]),n}(Bg),Jg=function(){function e(t){w(this,e),this.persistence=t,this.As=new Qm((function(e){return xm(e)}),_m),this.lastRemoteSnapshotVersion=Qp.min(),this.highestTargetId=0,this.Rs=0,this.vs=new Qg,this.targetCount=0,this.bs=jg.vn()}return x(e,[{key:"forEachTarget",value:function(e,t){return this.As.forEach((function(e,n){return t(n)})),ov.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return ov.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return ov.resolve(this.Rs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.bs.next(),ov.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Rs&&(this.Rs=t),ov.resolve()}},{key:"Sn",value:function(e){this.As.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.bs=new jg(t),this.highestTargetId=t),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Sn(t),this.targetCount+=1,ov.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Sn(t),ov.resolve()}},{key:"removeTargetData",value:function(e,t){return this.As.delete(t.target),this.vs.hs(t.targetId),this.targetCount-=1,ov.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.As.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.As.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),ov.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return ov.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.As.get(t)||null;return ov.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.vs.os(t,n),ov.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.vs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),ov.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.vs.hs(t),ov.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.vs.fs(t);return ov.resolve(n)}},{key:"containsKey",value:function(e,t){return ov.resolve(this.vs.containsKey(t))}}]),e}(),Yg=function(){function e(t,n){var r=this;w(this,e),this.Ps={},this.overlays={},this.Vs=new sv(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=t(this),this.Ds=new Jg(this),this.indexManager=new Mg,this.remoteDocumentCache=new Wg((function(e){return r.referenceDelegate.Cs(e)})),this.serializer=new Og(n),this.xs=new qg(this.serializer)}return x(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ss=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ss}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Hg,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ps[e.toKey()];return n||(n=new Gg(t,this.referenceDelegate),this.Ps[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Ds}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.xs}},{key:"runTransaction",value:function(e,t,n){var r=this;wp("MemoryPersistence","Starting transaction:",e);var i=new Zg(this.Vs.next());return this.referenceDelegate.Ns(),n(i).next((function(e){return r.referenceDelegate.ks(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Os",value:function(e,t){return ov.or(Object.values(this.Ps).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Zg=function(e){c(n,e);var t=d(n);function n(e){var r;return w(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return x(n)}(rv),$g=function(){function e(t){w(this,e),this.persistence=t,this.$s=new Qg,this.Ms=null}return x(e,[{key:"Bs",get:function(){if(this.Ms)return this.Ms;throw Ip()}},{key:"addReference",value:function(e,t,n){return this.$s.addReference(n,t),this.Bs.delete(n.toString()),ov.resolve()}},{key:"removeReference",value:function(e,t,n){return this.$s.removeReference(n,t),this.Bs.add(n.toString()),ov.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Bs.add(t.toString()),ov.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.$s.hs(t.targetId).forEach((function(e){return n.Bs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Bs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ns",value:function(){this.Ms=new Set}},{key:"ks",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ov.forEach(this.Bs,(function(r){var i=Jp.fromPath(r);return t.Ls(e,i).next((function(e){e||n.removeEntry(i,Qp.min())}))})).next((function(){return t.Ms=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ls(e,t).next((function(e){e?n.Bs.delete(t.toString()):n.Bs.add(t.toString())}))}},{key:"Cs",value:function(e){return 0}},{key:"Ls",value:function(e,t){var n=this;return ov.or([function(){return ov.resolve(n.$s.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Os(e,t)}])}}],[{key:"Fs",value:function(t){return new e(t)}}]),e}();var ek=function(){function e(t,n,r,i){w(this,e),this.targetId=t,this.fromCache=n,this.Vi=r,this.Si=i}return x(e,null,[{key:"Di",value:function(t,n){var r,i=ny(),a=ny(),o=m(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),tk=function(){function e(){w(this,e),this.Ci=!1}return x(e,[{key:"initialize",value:function(e,t){this.xi=e,this.indexManager=t,this.Ci=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ni(e,t).next((function(a){return a||i.ki(e,t,r,n)})).next((function(n){return n||i.Oi(e,t)}))}},{key:"Ni",value:function(e,t){var n=this;if(Nm(t))return ov.resolve(null);var r=Lm(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Um(t,null,"F"),r=Lm(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=ny.apply(void 0,I(i));return n.xi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.$i(t,i);return n.Mi(t,o,a,r.readTime)?n.Ni(e,Um(t,null,"F")):n.Fi(e,o,t,r)}))}))})))}))}},{key:"ki",value:function(e,t,n,r){var i=this;return Nm(t)||r.isEqual(Qp.min())?this.Oi(e,t):this.xi.getDocuments(e,n).next((function(a){var o=i.$i(t,a);return i.Mi(t,o,n,r)?i.Oi(e,t):(bp()<=ve.DEBUG&&wp("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Bm(t)),i.Fi(e,o,t,Zp(r,-1)))}))}},{key:"$i",value:function(e,t){var n=new bv(qm(e));return t.forEach((function(t,r){Vm(e,r)&&(n=n.add(r))})),n}},{key:"Mi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Oi",value:function(e,t){return bp()<=ve.DEBUG&&wp("QueryEngine","Using full collection scan to execute query:",Bm(t)),this.xi.getDocumentsMatchingQuery(e,t,ev.min())}},{key:"Fi",value:function(e,t,n,r){return this.xi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),nk=function(){function e(t,n,r,i){w(this,e),this.persistence=t,this.Bi=n,this.serializer=i,this.Li=new gv(zp),this.qi=new Qm((function(e){return xm(e)}),_m),this.Ui=new Map,this.Ki=t.getRemoteDocumentCache(),this.Ds=t.getTargetCache(),this.xs=t.getBundleCache(),this.Gi(r)}return x(e,[{key:"Gi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zg(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Li)}))}}]),e}();function rk(e,t,n,r){return new nk(e,t,n,r)}function ik(e,t){return ak.apply(this,arguments)}function ak(){return ak=b(C().mark((function e(t,n){var r;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tp(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Gi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=ny(),s=m(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=m(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(A){f.e(A)}finally{f.f()}}}catch(A){s.e(A)}finally{s.f()}var d,p=m(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,g=m(v.mutations);try{for(g.s();!(y=g.n()).done;){var k=y.value;u=u.add(k.key)}}catch(A){g.e(A)}finally{g.f()}}}catch(A){p.e(A)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{Qi:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),ak.apply(this,arguments)}function ok(e,t){var n=Tp(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ki.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=ov.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Sp(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=ny(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function uk(e){var t=Tp(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Ds.getLastRemoteSnapshotVersion(e)}))}function sk(e,t){var n=Tp(e),r=t.snapshotVersion,i=n.Li;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Ki.newChangeBuffer({trackRemovals:!0});i=n.Li;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Ds.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Ds.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(_v.EMPTY_BYTE_STRING,Qp.min()).withLastLimboFreeSnapshotVersion(Qp.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Ds.updateTargetData(e,c))}}));var u=Gm(),s=ny();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(ck(e,a,t.documentUpdates).next((function(e){u=e.zi,s=e.ji}))),!r.isEqual(Qp.min())){var c=n.Ds.getLastRemoteSnapshotVersion(e).next((function(t){return n.Ds.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return ov.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Li=i,e}))}function ck(e,t,n){var r=ny(),i=ny();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Gm();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Qp.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):wp("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{zi:r,ji:i}}))}function lk(e,t){var n=Tp(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function fk(e,t){var n=Tp(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Ds.getTargetData(e,t).next((function(i){return i?(r=i,ov.resolve(r)):n.Ds.allocateTargetId(e).next((function(i){return r=new Dg(t,i,0,e.currentSequenceNumber),n.Ds.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Li.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Li=n.Li.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function hk(e,t,n){return dk.apply(this,arguments)}function dk(){return dk=b(C().mark((function e(t,n,r){var i,a,o;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Tp(t),a=i.Li.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),uv(e.t1)){e.next=12;break}throw e.t1;case 12:wp("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Li=i.Li.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),dk.apply(this,arguments)}function pk(e,t,n){var r=Tp(e),i=Qp.min(),a=ny();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Tp(e),i=r.qi.get(n);return void 0!==i?ov.resolve(r.Li.get(i)):r.Ds.getTargetData(t,n)}(r,e,Lm(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Bi.getDocumentsMatchingQuery(e,t,n?i:Qp.min(),n?a:ny())})).next((function(e){return vk(r,zm(t),e),{documents:e,Wi:a}}))}))}function vk(e,t,n){var r=e.Ui.get(t)||Qp.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ui.set(t,r)}var mk=function(){function e(){w(this,e),this.activeTargetIds=iy()}return x(e,[{key:"tr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Xi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),yk=function(){function e(){w(this,e),this.Br=new mk,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return x(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Br.tr(e),this.Lr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Lr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Br.er(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Br.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Lr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Br.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Br.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Br=new mk,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),gk=function(){function e(){w(this,e)}return x(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),kk=function(){function e(){var t=this;w(this,e),this.Ur=function(){return t.Kr()},this.Gr=function(){return t.Qr()},this.zr=[],this.jr()}return x(e,[{key:"qr",value:function(e){this.zr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}},{key:"jr",value:function(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}},{key:"Kr",value:function(){wp("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=m(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Qr",value:function(){wp("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=m(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Ak=null;function bk(){return null===Ak?Ak=268435456+Math.round(2147483648*Math.random()):Ak++,"0x"+Ak.toString(16)}var wk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Ek=function(){function e(t){w(this,e),this.Wr=t.Wr,this.Hr=t.Hr}return x(e,[{key:"Jr",value:function(e){this.Yr=e}},{key:"Zr",value:function(e){this.Xr=e}},{key:"onMessage",value:function(e){this.eo=e}},{key:"close",value:function(){this.Hr()}},{key:"send",value:function(e){this.Wr(e)}},{key:"no",value:function(){this.Yr()}},{key:"so",value:function(e){this.Xr(e)}},{key:"io",value:function(e){this.eo(e)}}]),e}(),xk="WebChannelConnection",_k=function(e){c(n,e);var t=d(n);function n(e){var r;return w(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return x(n,[{key:"lo",value:function(e,t,n,r){var i=bk();return new Promise((function(a,o){var u=new mp;u.setWithCredentials(!0),u.listenOnce(fp.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case lp.NO_ERROR:var t=u.getResponseJson();wp(xk,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case lp.TIMEOUT:wp(xk,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Np(Cp.DEADLINE_EXCEEDED,"Request time out"));break;case lp.HTTP_ERROR:var n=u.getStatus();if(wp(xk,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Cp).indexOf(t)>=0?t:Cp.UNKNOWN}(s.status);o(new Np(c,s.message))}else o(new Np(Cp.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new Np(Cp.UNAVAILABLE,"Connection failed."));break;default:Ip()}}finally{wp(xk,"RPC '".concat(e,"' ").concat(i," completed."))}}));var s=JSON.stringify(r);wp(xk,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)}))}},{key:"wo",value:function(e,t,n){var r=bk(),i=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=sp(),o=cp(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new pp({})),this.ho(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var s=i.join("");wp(xk,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(s),u);var c=a.createWebChannel(s,u),l=!1,f=!1,h=new Ek({Wr:function(t){f?wp(xk,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(l||(wp(xk,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),l=!0),wp(xk,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},Hr:function(){return c.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(c,vp.EventType.OPEN,(function(){f||wp(xk,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),d(c,vp.EventType.CLOSE,(function(){f||(f=!0,wp(xk,"RPC '".concat(e,"' stream ").concat(r," transport closed")),h.so())})),d(c,vp.EventType.ERROR,(function(t){f||(f=!0,xp(xk,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),h.so(new Np(Cp.UNAVAILABLE,"The operation could not be completed")))})),d(c,vp.EventType.MESSAGE,(function(t){var n;if(!f){var i=t.data[0];Sp(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){wp(xk,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=Ly[e];if(void 0!==t)return Hy(t)}(u),l=o.message;void 0===s&&(s=Cp.INTERNAL,l="Unknown error status: "+u+" with message "+o.message),f=!0,h.so(new Np(s,l)),c.close()}else wp(xk,"RPC '".concat(e,"' stream ").concat(r," received:"),i),h.io(i)}})),d(o,hp.STAT_EVENT,(function(t){t.stat===dp.PROXY?wp(xk,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===dp.NOPROXY&&wp(xk,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){h.no()}),0),h}}]),n}(function(){function e(t){w(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.ro=n+"://"+t.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return x(e,[{key:"uo",get:function(){return!1}},{key:"co",value:function(e,t,n,r,i){var a=bk(),o=this.ao(e,t);wp("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var u={};return this.ho(u,r,i),this.lo(e,o,u,n).then((function(t){return wp("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw xp("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"fo",value:function(e,t,n,r,i,a){return this.co(e,t,n,r,i)}},{key:"ho",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+kp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ao",value:function(e,t){var n=wk[e];return"".concat(this.ro,"/v1/").concat(t,":").concat(n)}}]),e}());function Ik(){return"undefined"!=typeof document?document:null}function Sk(e){return new ag(e,!0)}var Tk=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;w(this,e),this.Ws=t,this.timerId=n,this._o=r,this.mo=i,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}return x(e,[{key:"reset",value:function(){this.po=0}},{key:"Eo",value:function(){this.po=this.yo}},{key:"Ao",value:function(e){var t=this;this.cancel();var n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&wp("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.po," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,(function(){return t.To=Date.now(),e()})),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}},{key:"vo",value:function(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}},{key:"cancel",value:function(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}},{key:"Ro",value:function(){return(Math.random()-.5)*this.po}}]),e}(),Ck=function(){function e(t,n,r,i,a,o,u,s){w(this,e),this.Ws=t,this.bo=r,this.Po=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new Tk(t,n)}return x(e,[{key:"xo",value:function(){return 1===this.state||5===this.state||this.No()}},{key:"No",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.ko()}},{key:"stop",value:function(){var e=b(C().mark((function e(){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.xo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oo",value:function(){this.state=0,this.Co.reset()}},{key:"$o",value:function(){var e=this;this.No()&&null===this.So&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,(function(){return e.Mo()})))}},{key:"Fo",value:function(e){this.Bo(),this.stream.send(e)}},{key:"Mo",value:function(){var e=b(C().mark((function e(){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.No()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){this.So&&(this.So.cancel(),this.So=null)}},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"close",value:function(){var e=b(C().mark((function e(t,n){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Bo(),this.Lo(),this.Co.cancel(),this.Vo++,4!==t?this.Co.reset():n&&n.code===Cp.RESOURCE_EXHAUSTED?(Ep(n.toString()),Ep("Using maximum backoff delay to prevent overloading the backend."),this.Co.Eo()):n&&n.code===Cp.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=k(t,2),i=r[0],a=r[1];e.Vo===n&&e.Ko(i,a)}),(function(n){t((function(){var t=new Np(Cp.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Go(t)}))}))}},{key:"Ko",value:function(e,t){var n=this,r=this.Uo(this.Vo);this.stream=this.Qo(e,t),this.stream.Jr((function(){r((function(){return n.state=2,n.Do=n.Ws.enqueueAfterDelay(n.Po,1e4,(function(){return n.No()&&(n.state=3),Promise.resolve()})),n.listener.Jr()}))})),this.stream.Zr((function(e){r((function(){return n.Go(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"ko",value:function(){var e=this;this.state=5,this.Co.Ao(b(C().mark((function t(){return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Go",value:function(e){return wp("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Uo",value:function(e){var t=this;return function(n){t.Ws.enqueueAndForget((function(){return t.Vo===e?n():(wp("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Nk=function(e){c(n,e);var t=d(n);function n(e,r,i,a,o,u){var s;return w(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s}return x(n,[{key:"Qo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Co.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ip()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Sp(void 0===t||"string"==typeof t),_v.fromBase64String(t||"")):(Sp(void 0===t||t instanceof Uint8Array),_v.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Cp.UNKNOWN:Hy(e.code);return new Np(t,e.message||"")}(o);n=new Yy(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=dg(e,s.document.name),l=cg(s.document.updateTime),f=s.document.createTime?cg(s.document.createTime):Qp.min(),h=new Yv({mapValue:{fields:s.document.fields}}),d=$v.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new Xy(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=dg(e,m.document),g=m.readTime?cg(m.readTime):Qp.min(),k=$v.newNoDocument(y,g),A=m.removedTargetIds||[];n=new Xy([],A,k.key,k)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=dg(e,b.document),E=b.removedTargetIds||[];n=new Xy([],E,w,null)}else{if(!("filter"in t))return Ip();t.filter;var x=t.filter;x.targetId;var _=x.count||0,I=new zy(_),S=x.targetId;n=new Jy(S,I)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Qp.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Qp.min():t.readTime?cg(t.readTime):Qp.min()}(e);return this.listener.zo(t,n)}},{key:"jo",value:function(e){var t={};t.database=mg(this.serializer),t.addTarget=function(e,t){var n,r=t.target;return(n=Im(r)?{documents:Ag(e,r)}:{query:bg(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=ug(e,t.resumeToken):t.snapshotVersion.compareTo(Qp.min())>0&&(n.readTime=og(e,t.snapshotVersion.toTimestamp())),n}(this.serializer,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ip()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Fo(t)}},{key:"Wo",value:function(e){var t={};t.database=mg(this.serializer),t.removeTarget=e,this.Fo(t)}}]),n}(Ck),Rk=function(e){c(n,e);var t=d(n);function n(e,r,i,a,o,u){var s;return w(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s.Ho=!1,s}return x(n,[{key:"Jo",get:function(){return this.Ho}},{key:"start",value:function(){this.Ho=!1,this.lastStreamToken=void 0,o(i(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Ho&&this.Yo([])}},{key:"Qo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(Sp(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();var t=function(e,t){return e&&e.length>0?(Sp(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?cg(e.updateTime):cg(t);return n.isEqual(Qp.min())&&(n=cg(t)),new by(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=cg(e.commitTime);return this.listener.Zo(n,t)}return Sp(!e.writeResults||0===e.writeResults.length),this.Ho=!0,this.listener.Xo()}},{key:"tu",value:function(){var e={};e.database=mg(this.serializer),this.Fo(e)}},{key:"Yo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return kg(t.serializer,e)}))};this.Fo(n)}}]),n}(Ck),Dk=function(e){c(n,e);var t=d(n);function n(e,r,i,a){var o;return w(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.eu=!1,o}return x(n,[{key:"nu",value:function(){if(this.eu)throw new Np(Cp.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=k(i,2),o=a[0],u=a[1];return r.connection.co(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Cp.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Np(Cp.UNKNOWN,e.toString())}))}},{key:"fo",value:function(e,t,n,r){var i=this;return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=k(a,2),u=o[0],s=o[1];return i.connection.fo(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Cp.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Np(Cp.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.eu=!0}}]),n}(function(){return x((function e(){w(this,e)}))}());var Ok=function(){function e(t,n){w(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}return x(e,[{key:"ou",value:function(){var e=this;0===this.su&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.iu=null,e.cu("Backend didn't respond within 10 seconds."),e.uu("Offline"),Promise.resolve()})))}},{key:"au",value:function(e){"Online"===this.state?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.uu("Offline")))}},{key:"set",value:function(e){this.hu(),this.su=0,"Online"===e&&(this.ru=!1),this.uu(e)}},{key:"uu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"cu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ru?(Ep(t),this.ru=!1):wp("OnlineStateTracker",t)}},{key:"hu",value:function(){null!==this.iu&&(this.iu.cancel(),this.iu=null)}}]),e}(),Pk=x((function e(t,n,r,i,a){var o=this;w(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=a,this._u.qr((function(e){r.enqueueAndForget(b(C().mark((function e(){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Qk(o),!e.t0){e.next=5;break}return wp("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=b(C().mark((function e(t){var n;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Tp(t)).du.add(4),e.next=4,Uk(n);case 4:return n.mu.set("Unknown"),n.du.delete(4),e.next=8,Lk(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.mu=new Ok(r,i)}));function Lk(e){return Mk.apply(this,arguments)}function Mk(){return Mk=b(C().mark((function e(t){var n,r,i;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Qk(t)){e.next=18;break}n=m(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Mk.apply(this,arguments)}function Uk(e){return Fk.apply(this,arguments)}function Fk(){return Fk=b(C().mark((function e(t){var n,r,i;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=m(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Fk.apply(this,arguments)}function jk(e,t){var n=Tp(e);n.fu.has(t.targetId)||(n.fu.set(t.targetId,t),Hk(n)?qk(n):AA(n).No()&&Vk(n,t))}function Bk(e,t){var n=Tp(e),r=AA(n);n.fu.delete(t),r.No()&&zk(n,t),0===n.fu.size&&(r.No()?r.$o():Qk(n)&&n.mu.set("Unknown"))}function Vk(e,t){e.gu.Ot(t.targetId),AA(e).jo(t)}function zk(e,t){e.gu.Ot(t),AA(e).Wo(t)}function qk(e){e.gu=new $y({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ne:function(t){return e.fu.get(t)||null}}),AA(e).start(),e.mu.ou()}function Hk(e){return Qk(e)&&!AA(e).xo()&&e.fu.size>0}function Qk(e){return 0===Tp(e).du.size}function Kk(e){e.gu=void 0}function Gk(e){return Wk.apply(this,arguments)}function Wk(){return Wk=b(C().mark((function e(t){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.fu.forEach((function(e,n){Vk(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Wk.apply(this,arguments)}function Xk(e,t){return Jk.apply(this,arguments)}function Jk(){return Jk=b(C().mark((function e(t,n){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Kk(t),Hk(t)?(t.mu.au(n),qk(t)):t.mu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Jk.apply(this,arguments)}function Yk(e,t,n){return Zk.apply(this,arguments)}function Zk(){return Zk=b(C().mark((function e(t,n,r){var i;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.mu.set("Online"),!(n instanceof Yy&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=b(C().mark((function e(t,n){var r,i,a,o;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=m(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.fu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.fu.delete(o),t.gu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),wp("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,$k(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Xy?t.gu.Kt(n):n instanceof Jy?t.gu.Jt(n):t.gu.zt(n),r.isEqual(Qp.min())){e.next=29;break}return e.prev=14,e.next=17,uk(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.gu.Xt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.fu.get(r);i&&e.fu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.fu.get(t);if(n){e.fu.set(t,n.withResumeToken(_v.EMPTY_BYTE_STRING,n.snapshotVersion)),zk(e,t);var r=new Dg(n.target,t,1,n.sequenceNumber);Vk(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),wp("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,$k(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Zk.apply(this,arguments)}function $k(e,t,n){return eA.apply(this,arguments)}function eA(){return eA=b(C().mark((function e(t,n,r){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(uv(n)){e.next=2;break}throw n;case 2:return t.du.add(1),e.next=5,Uk(t);case 5:t.mu.set("Offline"),r||(r=function(){return uk(t.localStore)}),t.asyncQueue.enqueueRetryable(b(C().mark((function e(){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wp("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.du.delete(1),e.next=6,Lk(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),eA.apply(this,arguments)}function tA(e,t){return t().catch((function(n){return $k(e,n,t)}))}function nA(e){return rA.apply(this,arguments)}function rA(){return rA=b(C().mark((function e(t){var n,r,i,a;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Tp(t),r=bA(n),i=n.lu.length>0?n.lu[n.lu.length-1].batchId:-1;case 2:if(!iA(n)){e.next=19;break}return e.prev=3,e.next=6,lk(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.lu.length&&r.$o(),e.abrupt("break",19);case 10:i=a.batchId,aA(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,$k(n,e.t0);case 17:e.next=2;break;case 19:oA(n)&&uA(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),rA.apply(this,arguments)}function iA(e){return Qk(e)&&e.lu.length<10}function aA(e,t){e.lu.push(t);var n=bA(e);n.No()&&n.Jo&&n.Yo(t.mutations)}function oA(e){return Qk(e)&&!bA(e).xo()&&e.lu.length>0}function uA(e){bA(e).start()}function sA(e){return cA.apply(this,arguments)}function cA(){return cA=b(C().mark((function e(t){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:bA(t).tu();case 1:case"end":return e.stop()}}),e)}))),cA.apply(this,arguments)}function lA(e){return fA.apply(this,arguments)}function fA(){return fA=b(C().mark((function e(t){var n,r,i,a;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=bA(t),r=m(t.lu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Yo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),fA.apply(this,arguments)}function hA(e,t,n){return dA.apply(this,arguments)}function dA(){return dA=b(C().mark((function e(t,n,r){var i,a;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.lu.shift(),a=By.from(i,n,r),e.next=3,tA(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,nA(t);case 5:case"end":return e.stop()}}),e)}))),dA.apply(this,arguments)}function pA(e,t){return vA.apply(this,arguments)}function vA(){return vA=b(C().mark((function e(t,n){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&bA(t).Jo,!e.t0){e.next=4;break}return e.next=4,function(){var e=b(C().mark((function e(t,n){var r,i;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!qy(i=n.code)||i===Cp.ABORTED){e.next=7;break}return r=t.lu.shift(),bA(t).Oo(),e.next=5,tA(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,nA(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:oA(t)&&uA(t);case 5:case"end":return e.stop()}}),e)}))),vA.apply(this,arguments)}function mA(e,t){return yA.apply(this,arguments)}function yA(){return yA=b(C().mark((function e(t,n){var r,i;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Tp(t)).asyncQueue.verifyOperationInProgress(),wp("RemoteStore","RemoteStore received new credentials"),i=Qk(r),r.du.add(3),e.next=6,Uk(r);case 6:return i&&r.mu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.du.delete(3),e.next=12,Lk(r);case 12:case"end":return e.stop()}}),e)}))),yA.apply(this,arguments)}function gA(e,t){return kA.apply(this,arguments)}function kA(){return kA=b(C().mark((function e(t,n){var r;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Tp(t),!n){e.next=7;break}return r.du.delete(2),e.next=5,Lk(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.du.add(2),e.next=12,Uk(r);case 12:r.mu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),kA.apply(this,arguments)}function AA(e){return e.yu||(e.yu=function(e,t,n){var r=Tp(e);return r.nu(),new Nk(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Jr:Gk.bind(null,e),Zr:Xk.bind(null,e),zo:Yk.bind(null,e)}),e.wu.push(function(){var t=b(C().mark((function t(n){return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.yu.Oo(),Hk(e)?qk(e):e.mu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.yu.stop();case 6:Kk(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.yu}function bA(e){return e.pu||(e.pu=function(e,t,n){var r=Tp(e);return r.nu(),new Rk(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Jr:sA.bind(null,e),Zr:pA.bind(null,e),Xo:lA.bind(null,e),Zo:hA.bind(null,e)}),e.wu.push(function(){var t=b(C().mark((function t(n){return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.pu.Oo(),t.next=4,nA(e);case 4:t.next=9;break;case 6:return t.next=8,e.pu.stop();case 8:e.lu.length>0&&(wp("RemoteStore","Stopping write stream with ".concat(e.lu.length," pending writes")),e.lu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}var wA=function(){function e(t,n,r,i,a){w(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Rp,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return x(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Np(Cp.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function EA(e,t){if(Ep("AsyncQueue","".concat(t,": ").concat(e)),uv(e))return new Np(Cp.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var xA=function(){function e(t){w(this,e),this.comparator=t?function(e,n){return t(e,n)||Jp.comparator(e.key,n.key)}:function(e,t){return Jp.comparator(e.key,t.key)},this.keyedMap=Xm(),this.sortedSet=new gv(this.comparator)}return x(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),_A=function(){function e(){w(this,e),this.Iu=new gv(Jp.comparator)}return x(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Iu.get(t);n?0!==e.type&&3===n.type?this.Iu=this.Iu.insert(t,e):3===e.type&&1!==n.type?this.Iu=this.Iu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Iu=this.Iu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Iu=this.Iu.remove(t):1===e.type&&2===n.type?this.Iu=this.Iu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):Ip():this.Iu=this.Iu.insert(t,e)}},{key:"Tu",value:function(){var e=[];return this.Iu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),IA=function(){function e(t,n,r,i,a,o,u,s,c){w(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return x(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,xA.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),SA=x((function e(){w(this,e),this.Eu=void 0,this.listeners=[]})),TA=x((function e(){w(this,e),this.queries=new Qm((function(e){return jm(e)}),Fm),this.onlineState="Unknown",this.Au=new Set}));function CA(e,t){return NA.apply(this,arguments)}function NA(){return NA=b(C().mark((function e(t,n){var r,i,a,o,u;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Tp(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new SA),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Eu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=EA(e.t0,"Initialization of query '".concat(Bm(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Ru(r.onlineState),o.Eu&&n.vu(o.Eu)&&LA(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),NA.apply(this,arguments)}function RA(e,t){return DA.apply(this,arguments)}function DA(){return DA=b(C().mark((function e(t,n){var r,i,a,o,u;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Tp(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),DA.apply(this,arguments)}function OA(e,t){var n,r=Tp(e),i=!1,a=m(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=m(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.vu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Eu=o}}}catch(f){a.e(f)}finally{a.f()}i&&LA(r)}function PA(e,t,n){var r=Tp(e),i=r.queries.get(t);if(i){var a,o=m(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function LA(e){e.Au.forEach((function(e){e.next()}))}var MA=function(){function e(t,n,r){w(this,e),this.query=t,this.bu=n,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}return x(e,[{key:"vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=m(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new IA(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),a=!0):this.Du(e,this.onlineState)&&(this.Cu(e),a=!0),this.Vu=e,a}},{key:"onError",value:function(e){this.bu.error(e)}},{key:"Ru",value:function(e){this.onlineState=e;var t=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),t=!0),t}},{key:"Du",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.xu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Su",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Cu",value:function(e){e=IA.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}]),e}();var UA=x((function e(t){w(this,e),this.key=t})),FA=x((function e(t){w(this,e),this.key=t})),jA=function(){function e(t,n){w(this,e),this.query=t,this.Lu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=ny(),this.mutatedKeys=ny(),this.Ku=qm(t),this.Gu=new xA(this.Ku)}return x(e,[{key:"Qu",get:function(){return this.Lu}},{key:"zu",value:function(e,t){var n=this,r=t?t.ju:new _A,i=t?t.Gu:this.Gu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Vm(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Wu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Ku(f,s)>0||c&&n.Ku(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Gu:o,ju:r,Mi:u,mutatedKeys:a}}},{key:"Wu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;var a=e.ju.Tu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ip()}};return n(e)-n(t)}(e.type,t.type)||r.Ku(e.doc,t.doc)})),this.Hu(n);var o=t?this.Ju():[],u=0===this.Uu.size&&this.current?1:0,s=u!==this.qu;return this.qu=u,0!==a.length||s?{snapshot:new IA(this.query,e.Gu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Yu:o}:{Yu:o}}},{key:"Ru",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new _A,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}},{key:"Zu",value:function(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}},{key:"Hu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Lu=t.Lu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Lu=t.Lu.delete(e)})),this.current=e.current)}},{key:"Ju",value:function(){var e=this;if(!this.current)return[];var t=this.Uu;this.Uu=ny(),this.Gu.forEach((function(t){e.Zu(t.key)&&(e.Uu=e.Uu.add(t.key))}));var n=[];return t.forEach((function(t){e.Uu.has(t)||n.push(new FA(t))})),this.Uu.forEach((function(e){t.has(e)||n.push(new UA(e))})),n}},{key:"Xu",value:function(e){this.Lu=e.Wi,this.Uu=ny();var t=this.zu(e.documents);return this.applyChanges(t,!0)}},{key:"tc",value:function(){return IA.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}]),e}(),BA=x((function e(t,n,r){w(this,e),this.query=t,this.targetId=n,this.view=r})),VA=x((function e(t){w(this,e),this.key=t,this.ec=!1})),zA=function(){function e(t,n,r,i,a,o){w(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new Qm((function(e){return jm(e)}),Fm),this.ic=new Map,this.rc=new Set,this.oc=new gv(Jp.comparator),this.uc=new Map,this.cc=new Qg,this.ac={},this.hc=new Map,this.lc=jg.bn(),this.onlineState="Unknown",this.fc=void 0}return x(e,[{key:"isPrimaryClient",get:function(){return!0===this.fc}}]),e}();function qA(e,t){return HA.apply(this,arguments)}function HA(){return HA=b(C().mark((function e(t,n){var r,i,a,o,u,s;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=gb(t),!(o=r.sc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.tc(),e.next=15;break;case 6:return e.next=8,fk(r.localStore,Lm(n));case 8:return u=e.sent,r.isPrimaryClient&&jk(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,QA(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),HA.apply(this,arguments)}function QA(e,t,n,r,i){return KA.apply(this,arguments)}function KA(){return KA=b(C().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dc=function(e,n,r){return function(){var e=b(C().mark((function e(t,n,r,i){var a,o,u;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.zu(r),e.t0=a.Mi,!e.t0){e.next=6;break}return e.next=5,pk(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.zu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(lb(t,n.targetId,u.Yu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,pk(t.localStore,n,!0);case 3:return o=e.sent,u=new jA(n,o.Wi),s=u.zu(o.documents),c=Wy.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),lb(t,r,l.Yu),f=new BA(n,r,u),e.abrupt("return",(t.sc.set(n,f),t.ic.has(r)?t.ic.get(r).push(n):t.ic.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),KA.apply(this,arguments)}function GA(e,t){return WA.apply(this,arguments)}function WA(){return WA=b(C().mark((function e(t,n){var r,i,a;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Tp(t),i=r.sc.get(n),!((a=r.ic.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ic.set(i.targetId,a.filter((function(e){return!Fm(e,n)}))),void r.sc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,hk(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Bk(r.remoteStore,i.targetId),sb(r,i.targetId)})).catch(iv);case 9:e.next=14;break;case 11:return sb(r,i.targetId),e.next=14,hk(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),WA.apply(this,arguments)}function XA(e,t,n){return JA.apply(this,arguments)}function JA(){return JA=b(C().mark((function e(t,n,r){var i,a,o;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=kb(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Tp(e),a=Hp.now(),o=t.reduce((function(e,t){return e.add(t.key)}),ny());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Gm(),s=ny();return i.Ki.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=m(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Ty(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Ry(c.key,l,Zv(l.value.mapValue),wy.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Jm(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ac[e.currentUser.toKey()];r||(r=new gv(zp)),r=r.insert(t,n),e.ac[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,db(i,a.changes);case 9:return e.next=11,nA(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=EA(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),JA.apply(this,arguments)}function YA(e,t){return ZA.apply(this,arguments)}function ZA(){return ZA=b(C().mark((function e(t,n){var r,i;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tp(t),e.prev=1,e.next=4,sk(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.uc.get(t);n&&(Sp(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ec=!0:e.modifiedDocuments.size>0?Sp(n.ec):e.removedDocuments.size>0&&(Sp(n.ec),n.ec=!1))})),e.next=8,db(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,iv(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),ZA.apply(this,arguments)}function $A(e,t,n){var r=Tp(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.sc.forEach((function(e,n){var r=n.view.Ru(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Tp(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=m(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Ru(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&LA(n)}(r.eventManager,t),i.length&&r.nc.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function eb(e,t,n){return tb.apply(this,arguments)}function tb(){return tb=b(C().mark((function e(t,n,r){var i,a,o,u,s,c;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Tp(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.uc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new gv(Jp.comparator)).insert(o,$v.newNoDocument(o,Qp.min())),s=ny().add(o),c=new Gy(Qp.min(),new Map,new bv(zp),u,s),e.next=9,YA(i,c);case 9:i.oc=i.oc.remove(o),i.uc.delete(n),hb(i),e.next=16;break;case 14:return e.next=16,hk(i.localStore,n,!1).then((function(){return sb(i,n,r)})).catch(iv);case 16:case"end":return e.stop()}}),e)}))),tb.apply(this,arguments)}function nb(e,t){return rb.apply(this,arguments)}function rb(){return rb=b(C().mark((function e(t,n){var r,i,a;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tp(t),i=n.batch.batchId,e.prev=1,e.next=4,ok(r.localStore,n);case 4:return a=e.sent,ub(r,i,null),ob(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,db(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,iv(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),rb.apply(this,arguments)}function ib(e,t,n){return ab.apply(this,arguments)}function ab(){return ab=b(C().mark((function e(t,n,r){var i,a;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Tp(t),e.prev=1,e.next=4,function(e,t){var n=Tp(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Sp(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,ub(i,n,r),ob(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,db(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,iv(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),ab.apply(this,arguments)}function ob(e,t){(e.hc.get(t)||[]).forEach((function(e){e.resolve()})),e.hc.delete(t)}function ub(e,t,n){var r=Tp(e),i=r.ac[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ac[r.currentUser.toKey()]=i}}function sb(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=m(e.ic.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.sc.delete(a),n&&e.nc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ic.delete(t),e.isPrimaryClient&&e.cc.hs(t).forEach((function(t){e.cc.containsKey(t)||cb(e,t)}))}function cb(e,t){e.rc.delete(t.path.canonicalString());var n=e.oc.get(t);null!==n&&(Bk(e.remoteStore,n),e.oc=e.oc.remove(t),e.uc.delete(n),hb(e))}function lb(e,t,n){var r,i=m(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof UA?(e.cc.addReference(a.key,t),fb(e,a)):a instanceof FA?(wp("SyncEngine","Document no longer in limbo: "+a.key),e.cc.removeReference(a.key,t),e.cc.containsKey(a.key)||cb(e,a.key)):Ip()}}catch(o){i.e(o)}finally{i.f()}}function fb(e,t){var n=t.key,r=n.path.canonicalString();e.oc.get(n)||e.rc.has(r)||(wp("SyncEngine","New document in limbo: "+n),e.rc.add(r),hb(e))}function hb(e){for(;e.rc.size>0&&e.oc.size<e.maxConcurrentLimboResolutions;){var t=e.rc.values().next().value;e.rc.delete(t);var n=new Jp(Gp.fromString(t)),r=e.lc.next();e.uc.set(r,new VA(n)),e.oc=e.oc.insert(n,r),jk(e.remoteStore,new Dg(Lm(Cm(n.path)),r,2,sv.ct))}}function db(e,t,n){return pb.apply(this,arguments)}function pb(){return pb=b(C().mark((function e(t,n,r){var i,a,o,u;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Tp(t),a=[],o=[],u=[],e.t0=i.sc.isEmpty(),e.t0){e.next=9;break}return i.sc.forEach((function(e,t){u.push(i.dc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=ek.Di(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.nc.zo(a),e.next=9,function(){var e=b(C().mark((function e(t,n){var r,i,a,o,u,s,c,l;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tp(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return ov.forEach(n,(function(t){return ov.forEach(t.Vi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return ov.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),uv(e.t0)){e.next=10;break}throw e.t0;case 10:wp("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=m(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Li.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Li=r.Li.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),pb.apply(this,arguments)}function vb(e,t){return mb.apply(this,arguments)}function mb(){return mb=b(C().mark((function e(t,n){var r,i;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Tp(t)).currentUser.isEqual(n)){e.next=11;break}return wp("SyncEngine","User change. New user:",n.toKey()),e.next=5,ik(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.hc.forEach((function(e){e.forEach((function(e){e.reject(new Np(Cp.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.hc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,db(r,i.Qi);case 11:case"end":return e.stop()}}),e)}))),mb.apply(this,arguments)}function yb(e,t){var n=Tp(e),r=n.uc.get(t);if(r&&r.ec)return ny().add(r.key);var i=ny(),a=n.ic.get(t);if(!a)return i;var o,u=m(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.sc.get(s);i=i.unionWith(c.view.Qu)}}catch(l){u.e(l)}finally{u.f()}return i}function gb(e){var t=Tp(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=YA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=yb.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=eb.bind(null,t),t.nc.zo=OA.bind(null,t.eventManager),t.nc.wc=PA.bind(null,t.eventManager),t}function kb(e){var t=Tp(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=nb.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ib.bind(null,t),t}var Ab=function(){function e(){w(this,e),this.synchronizeTabs=!1}return x(e,[{key:"initialize",value:function(){var e=b(C().mark((function e(t){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=Sk(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return rk(this.persistence,new tk,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new Yg($g.Fs,this.serializer)}},{key:"createSharedClientState",value:function(e){return new yk}},{key:"terminate",value:function(){var e=b(C().mark((function e(){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),bb=function(){function e(){w(this,e)}return x(e,[{key:"initialize",value:function(){var e=b(C().mark((function e(t,n){var r=this;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return $A(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=vb.bind(null,this.syncEngine),e.next=12,gA(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new TA}},{key:"createDatastore",value:function(e){var t,n=Sk(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new _k(t));return function(e,t,n,r){return new Dk(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return $A(o.syncEngine,e,0)},a=kk.D()?new kk:new gk,new Pk(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new zA(e,t,n,r,i,a);return o&&(u.fc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=b(C().mark((function e(t){var n;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Tp(t),wp("RemoteStore","RemoteStore shutting down."),n.du.add(5),e.next=5,Uk(n);case 5:n._u.shutdown(),n.mu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var wb=function(){function e(t){w(this,e),this.observer=t,this.muted=!1}return x(e,[{key:"next",value:function(e){this.observer.next&&this.gc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.gc(this.observer.error,e):Ep("Uncaught Error in snapshot listener:",e.toString())}},{key:"yc",value:function(){this.muted=!0}},{key:"gc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Eb=function(){function e(t,n,r,i){var a=this;w(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=gp.UNAUTHENTICATED,this.clientId=Vp.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=b(C().mark((function e(t){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wp("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return wp("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return x(e,[{key:"getConfiguration",value:function(){var e=b(C().mark((function e(){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Np(Cp.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Rp;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(b(C().mark((function n(){var r;return C().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=EA(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function xb(e,t){return _b.apply(this,arguments)}function _b(){return _b=b(C().mark((function e(t,n){var r,i;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),wp("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=b(C().mark((function e(t){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,ik(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),_b.apply(this,arguments)}function Ib(e,t){return Sb.apply(this,arguments)}function Sb(){return Sb=b(C().mark((function e(t,n){var r,i;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Cb(t);case 3:return r=e.sent,wp("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return mA(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return mA(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Sb.apply(this,arguments)}function Tb(e){return"FirebaseError"===e.name?e.code===Cp.FAILED_PRECONDITION||e.code===Cp.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function Cb(e){return Nb.apply(this,arguments)}function Nb(){return Nb=b(C().mark((function e(t){var n;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return wp("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,xb(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),Tb(n=e.t0)){e.next=13;break}throw n;case 13:return xp("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,xb(t,new Ab);case 16:e.next=21;break;case 18:return wp("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,xb(t,new Ab);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])}))),Nb.apply(this,arguments)}function Rb(e){return Db.apply(this,arguments)}function Db(){return Db=b(C().mark((function e(t){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return wp("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,Ib(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return wp("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,Ib(t,new bb);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)}))),Db.apply(this,arguments)}function Ob(e){return Rb(e).then((function(e){return e.syncEngine}))}function Pb(e){return Lb.apply(this,arguments)}function Lb(){return Lb=b(C().mark((function e(t){var n,r;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rb(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=qA.bind(null,n.syncEngine),r.onUnlisten=GA.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Lb.apply(this,arguments)}function Mb(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Rp;return e.asyncQueue.enqueueAndForget(b(C().mark((function i(){return C().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new wb({next:function(a){t.enqueueAndForget((function(){return RA(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Np(Cp.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Np(Cp.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new MA(Cm(n.path),a,{includeMetadataChanges:!0,xu:!0});return CA(e,o)},i.next=3,Pb(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Ub(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Rp;return e.asyncQueue.enqueueAndForget(b(C().mark((function i(){return C().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new wb({next:function(n){t.enqueueAndForget((function(){return RA(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Np(Cp.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new MA(n,a,{includeMetadataChanges:!0,xu:!0});return CA(e,o)},i.next=3,Pb(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Fb=new Map;function jb(e,t,n){if(!n)throw new Np(Cp.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Bb(e){if(!Jp.isDocumentKey(e))throw new Np(Cp.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Vb(e){if(Jp.isDocumentKey(e))throw new Np(Cp.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function zb(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Ip()}function qb(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Np(Cp.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=zb(e);throw new Np(Cp.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var Hb=function(){function e(t){var n;if(w(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Np(Cp.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Np(Cp.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new Np(Cp.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return x(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Qb=function(){function e(t,n,r,i){w(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hb({}),this._settingsFrozen=!1}return x(e,[{key:"app",get:function(){if(!this._app)throw new Np(Cp.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Np(Cp.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hb(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Op;switch(e.type){case"firstParty":return new Up(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Np(Cp.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Fb.get(e);t&&(wp("ComponentProvider","Removing Datastore"),Fb.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Kb(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=qb(e,Qb))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&xp("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=gp.MOCK_USER;else{o=H(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Np(Cp.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new gp(s)}e._authCredentials=new Pp(new Dp(o,u))}}var Gb=function(){function e(t,n,r){w(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return x(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Xb(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Wb=function(){function e(t,n,r){w(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return x(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Xb=function(e){c(n,e);var t=d(n);function n(e,r,i){var a;return w(this,n),(a=t.call(this,e,r,Cm(i)))._path=i,a.type="collection",a}return x(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Gb(this.firestore,null,new Jp(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Wb);function Jb(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=le(e),jb("collection","path",t),e instanceof Qb){var a=Gp.fromString.apply(Gp,[t].concat(r));return Vb(a),new Xb(e,null,a)}if(!(e instanceof Gb||e instanceof Xb))throw new Np(Cp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Gp.fromString.apply(Gp,[t].concat(r)));return Vb(o),new Xb(e.firestore,null,o)}function Yb(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=le(e),1===arguments.length&&(t=Vp.A()),jb("doc","path",t),e instanceof Qb){var a=Gp.fromString.apply(Gp,[t].concat(r));return Bb(a),new Gb(e,null,new Jp(a))}if(!(e instanceof Gb||e instanceof Xb))throw new Np(Cp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Gp.fromString.apply(Gp,[t].concat(r)));return Bb(o),new Gb(e.firestore,e instanceof Xb?e.converter:null,new Jp(o))}var Zb=function(){function e(){var t=this;w(this,e),this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new Tk(this,"async_queue_retry"),this.qc=function(){var e=Ik();e&&wp("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Co.vo()};var n=Ik();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.qc)}return x(e,[{key:"isShuttingDown",get:function(){return this.Oc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Uc(),this.Kc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;var t=Ik();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Uc(),this.Oc)return new Promise((function(){}));var n=new Rp;return this.Kc((function(){return t.Oc&&t.Bc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.kc.push(e),t.Gc()}))}},{key:"Gc",value:function(){var e=b(C().mark((function e(){var t=this;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.kc.length){e.next=14;break}return e.prev=1,e.next=4,this.kc[0]();case 4:this.kc.shift(),this.Co.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),uv(e.t0)){e.next=12;break}throw e.t0;case 12:wp("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.kc.length>0&&this.Co.Ao((function(){return t.Gc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Kc",value:function(e){var t=this,n=this.Nc.then((function(){return t.Fc=!0,e().catch((function(e){t.Mc=e,t.Fc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ep("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Fc=!1,e}))}));return this.Nc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Uc(),this.Lc.indexOf(e)>-1&&(t=0);var i=wA.createAndSchedule(this,e,t,n,(function(e){return r.Qc(e)}));return this.$c.push(i),i}},{key:"Uc",value:function(){this.Mc&&Ip()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=b(C().mark((function e(){var t;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Nc,e.next=3,t;case 3:if(t!==this.Nc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"jc",value:function(e){var t,n=m(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Wc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=m(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()}))}},{key:"Hc",value:function(e){this.Lc.push(e)}},{key:"Qc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();function $b(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=m(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var ew=function(e){c(n,e);var t=d(n);function n(e,r,i,a){var o;return w(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new Zb,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return x(n,[{key:"_terminate",value:function(){return this._firestoreClient||nw(this),this._firestoreClient.terminate()}}]),n}(Qb);function tw(e){return e._firestoreClient||nw(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function nw(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new Ov(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Eb(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}var rw=function(){function e(t){w(this,e),this._byteString=t}return x(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(_v.fromBase64String(t))}catch(t){throw new Np(Cp.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(_v.fromUint8Array(t))}}]),e}(),iw=function(){function e(){w(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Np(Cp.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xp(n)}return x(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var aw=x((function e(t){w(this,e),this._methodName=t})),ow=function(){function e(t,n){if(w(this,e),!isFinite(t)||t<-90||t>90)throw new Np(Cp.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Np(Cp.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return x(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return zp(this._lat,e._lat)||zp(this._long,e._long)}}]),e}(),uw=/^__.*__$/,sw=function(){function e(t,n,r){w(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return x(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Ry(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ny(e,this.data,t,this.fieldTransforms)}}]),e}(),cw=function(){function e(t,n,r){w(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return x(e,[{key:"toMutation",value:function(e,t){return new Ry(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function lw(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ip()}}var fw=function(){function e(t,n,r,i,a,o){w(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Jc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return x(e,[{key:"path",get:function(){return this.settings.path}},{key:"Yc",get:function(){return this.settings.Yc}},{key:"Zc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Xc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Zc({path:n,ta:!1});return r.ea(e),r}},{key:"na",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Zc({path:n,ta:!1});return r.Jc(),r}},{key:"sa",value:function(e){return this.Zc({path:void 0,ta:!0})}},{key:"ia",value:function(e){return Cw(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Jc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ea(this.path.get(e))}},{key:"ea",value:function(e){if(0===e.length)throw this.ia("Document fields must not be empty");if(lw(this.Yc)&&uw.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}]),e}(),hw=function(){function e(t,n,r){w(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Sk(t)}return x(e,[{key:"ua",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new fw({Yc:e,methodName:t,oa:n,path:Xp.emptyPath(),ta:!1,ra:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function dw(e){var t=e._freezeSettings(),n=Sk(e._databaseId);return new hw(e._databaseId,!!t.ignoreUndefinedProperties,n)}function pw(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ua(a.merge||a.mergeFields?2:0,t,n,i);_w("Data must be an object, but it was:",o,r);var u,s,c=Ew(r,o);if(a.merge)u=new Ev(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=m(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=Iw(t,d,n);if(!o.contains(p))throw new Np(Cp.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));Nw(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Ev(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new sw(new Yv(c),u,s)}var vw=function(e){c(n,e);var t=d(n);function n(){return w(this,n),t.apply(this,arguments)}return x(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Yc)throw 1===e.Yc?e.ia("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ia("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(aw);function mw(e,t,n){return new fw({Yc:3,oa:t.settings.oa,methodName:e._methodName,ta:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var yw=function(e){c(n,e);var t=d(n);function n(){return w(this,n),t.apply(this,arguments)}return x(n,[{key:"_toFieldTransform",value:function(e){return new Ay(e.path,new hy)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(aw),gw=function(e){c(n,e);var t=d(n);function n(e,r){var i;return w(this,n),(i=t.call(this,e)).ca=r,i}return x(n,[{key:"_toFieldTransform",value:function(e){var t=mw(this,e,!0),n=this.ca.map((function(e){return ww(e,t)})),r=new dy(n);return new Ay(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(aw);function kw(e,t,n,r){var i=e.ua(1,t,n);_w("Data must be an object, but it was:",i,r);var a=[],o=Yv.empty();mv(r,(function(e,r){var u=Tw(t,e,n);r=le(r);var s=i.na(u);if(r instanceof vw)a.push(u);else{var c=ww(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Ev(a);return new cw(o,u,i.fieldTransforms)}function Aw(e,t,n,r,i,a){var o=e.ua(1,t,n),u=[Iw(t,r,n)],s=[i];if(a.length%2!=0)throw new Np(Cp.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(Iw(t,a[c])),s.push(a[c+1]);for(var l=[],f=Yv.empty(),h=u.length-1;h>=0;--h)if(!Nw(l,u[h])){var d=u[h],p=s[h];p=le(p);var v=o.na(d);if(p instanceof vw)l.push(d);else{var m=ww(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Ev(l);return new cw(f,y,o.fieldTransforms)}function bw(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return ww(n,e.ua(r?4:3,t))}function ww(e,t){if(xw(e=le(e)))return _w("Unsupported field value:",t,e),Ew(e,t);if(e instanceof aw)return function(e,t){if(!lw(t.Yc))throw t.ia("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ia("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ta&&4!==t.Yc)throw t.ia("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=m(e);try{for(a.s();!(n=a.n()).done;){var o=ww(n.value,t.sa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=le(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return uy(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Hp.fromDate(e);return{timestampValue:og(t.serializer,n)}}if(e instanceof Hp){var r=new Hp(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:og(t.serializer,r)}}if(e instanceof ow)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof rw)return{bytesValue:ug(t.serializer,e._byteString)};if(e instanceof Gb){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ia("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:lg(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ia("Unsupported field value: ".concat(zb(e)))}(e,t)}function Ew(e,t){var n={};return yv(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):mv(e,(function(e,r){var i=ww(r,t.Xc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function xw(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Hp||e instanceof ow||e instanceof rw||e instanceof Gb||e instanceof aw)}function _w(e,t,n){if(!xw(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=zb(n);throw"an object"===r?t.ia(e+" a custom object"):t.ia(e+" "+r)}}function Iw(e,t,n){if((t=le(t))instanceof iw)return t._internalPath;if("string"==typeof t)return Tw(e,t);throw Cw("Field path arguments must be of type string or ",e,!1,void 0,n)}var Sw=new RegExp("[~\\*/\\[\\]]");function Tw(e,t,n){if(t.search(Sw)>=0)throw Cw("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return N(iw,I(t.split(".")))._internalPath}catch(r){throw Cw("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Cw(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Np(Cp.INVALID_ARGUMENT,u+e+s)}function Nw(e,t){return e.some((function(e){return e.isEqual(t)}))}var Rw=function(){function e(t,n,r,i,a){w(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return x(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Gb(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Dw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Ow("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Dw=function(e){c(n,e);var t=d(n);function n(){return w(this,n),t.apply(this,arguments)}return x(n,[{key:"data",value:function(){return o(i(n.prototype),"data",this).call(this)}}]),n}(Rw);function Ow(e,t){return"string"==typeof t?Tw(e,t):t instanceof iw?t._internalPath:t._delegate._internalPath}function Pw(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Np(Cp.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Lw=x((function e(){w(this,e)})),Mw=function(e){c(n,e);var t=d(n);function n(){return w(this,n),t.apply(this,arguments)}return x(n)}(Lw);function Uw(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof Lw&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof Bw})).length,n=e.filter((function(e){return e instanceof Fw})).length;if(t>1||t>0&&n>0)throw new Np(Cp.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=m(n);try{for(u.s();!(o=u.n()).done;){var s=o.value;e=s._apply(e)}}catch(c){u.e(c)}finally{u.f()}return e}var Fw=function(e){c(n,e);var t=d(n);function n(e,r,i){var a;return w(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return x(n,[{key:"_apply",value:function(e){var t=this._parse(e);return qw(e._query,t),new Wb(e.firestore,e.converter,Mm(e._query,t))}},{key:"_parse",value:function(e){var t=dw(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Np(Cp.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){zw(o,a);var s,c=[],l=m(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(Vw(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=Vw(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||zw(o,a),u=bw(n,"where",o,"in"===a||"not-in"===a);return om.create(i,a,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Mw);function jw(e,t,n){var r=t,i=Ow("where",e);return Fw._create(i,r,n)}var Bw=function(e){c(n,e);var t=d(n);function n(e,r){var i;return w(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return x(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:um.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=m(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;qw(r,a),r=Mm(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new Wb(e.firestore,e.converter,Mm(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Lw);function Vw(e,t,n){if("string"==typeof(n=le(n))){if(""===n)throw new Np(Cp.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Om(t)&&-1!==n.indexOf("/"))throw new Np(Cp.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Gp.fromString(n));if(!Jp.isDocumentKey(r))throw new Np(Cp.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return qv(e,new Jp(r))}if(n instanceof Gb)return qv(e,n._key);throw new Np(Cp.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(zb(n),"."))}function zw(e,t){if(!Array.isArray(e)||0===e.length)throw new Np(Cp.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function qw(e,t){if(t.isInequality()){var n=Dm(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Np(Cp.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=Rm(e);null!==i&&Hw(e,r,i)}var a=function(e,t){var n,r=m(e);try{for(r.s();!(n=r.n()).done;){var i,a=m(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new Np(Cp.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Np(Cp.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function Hw(e,t,n){if(!n.isEqual(t))throw new Np(Cp.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Qw=function(){function e(){w(this,e)}return x(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Mv(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tv(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Cv(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ip()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return mv(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new ow(Tv(e.latitude),Tv(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Rv(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Dv(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Sv(e);return new Hp(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Gp.fromString(e);Sp(Rg(n));var r=new Pv(n.get(1),n.get(3)),i=new Jp(n.popFirst(5));return r.isEqual(t)||Ep("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Kw(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Gw=function(){function e(t,n){w(this,e),this.hasPendingWrites=t,this.fromCache=n}return x(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Ww=function(e){c(n,e);var t=d(n);function n(e,r,i,a,o,u){var s;return w(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return x(n,[{key:"exists",value:function(){return o(i(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Xw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Ow("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Rw),Xw=function(e){c(n,e);var t=d(n);function n(){return w(this,n),t.apply(this,arguments)}return x(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o(i(n.prototype),"data",this).call(this,e)}}]),n}(Ww),Jw=function(){function e(t,n,r,i){w(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Gw(i.hasPendingWrites,i.fromCache),this.query=r}return x(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Xw(n._firestore,n._userDataWriter,r.key,r,new Gw(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Np(Cp.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new Xw(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Gw(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Xw(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Gw(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Yw(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Yw(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ip()}}function Zw(e){e=qb(e,Gb);var t=qb(e.firestore,ew);return Mb(tw(t),e._key).then((function(n){return aE(t,e,n)}))}var $w=function(e){c(n,e);var t=d(n);function n(e){var r;return w(this,n),(r=t.call(this)).firestore=e,r}return x(n,[{key:"convertBytes",value:function(e){return new rw(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gb(this.firestore,null,t)}}]),n}(Qw);function eE(e){e=qb(e,Wb);var t=qb(e.firestore,ew),n=tw(t),r=new $w(t);return Pw(e._query),Ub(n,e._query).then((function(n){return new Jw(t,r,e,n)}))}function tE(e,t,n){e=qb(e,Gb);var r=qb(e.firestore,ew),i=Kw(e.converter,t,n);return iE(r,[pw(dw(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,wy.none())])}function nE(e,t,n){e=qb(e,Gb);for(var r=qb(e.firestore,ew),i=dw(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return iE(r,[("string"==typeof(t=le(t))||t instanceof iw?Aw(i,"updateDoc",e._key,t,n,o):kw(i,"updateDoc",e._key,t)).toMutation(e._key,wy.exists(!0))])}function rE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=le(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||$b(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if($b(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof Gb)l=qb(e.firestore,ew),f=Cm(e._key.path),c={next:function(t){n[s]&&n[s](aE(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=qb(e,Wb);l=qb(p.firestore,ew),f=p._query;var v=new $w(l);c={next:function(e){n[s]&&n[s](new Jw(l,v,p,e))},error:n[s+1],complete:n[s+2]},Pw(e._query)}return function(e,t,n,r){var i=new wb(r),a=new MA(t,i,n);return e.asyncQueue.enqueueAndForget(b(C().mark((function t(){return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=CA,t.next=3,Pb(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.yc(),e.asyncQueue.enqueueAndForget(b(C().mark((function t(){return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=RA,t.next=3,Pb(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(tw(l),f,h,c)}function iE(e,t){return function(e,t){var n=new Rp;return e.asyncQueue.enqueueAndForget(b(C().mark((function r(){return C().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=XA,r.next=3,Ob(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(tw(e),t)}function aE(e,t,n){var r=n.docs.get(t._key),i=new $w(e);return new Ww(e,i,t._key,r,new Gw(n.hasPendingWrites,n.fromCache),t.converter)}function oE(){return new yw("serverTimestamp")}function uE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new gw("arrayUnion",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];kp="9.20.0",Ze(new fe("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new ew(new Lp(e.getProvider("auth-internal")),new jp(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Np(Cp.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pv(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),ot(yp,"3.10.1",e),ot(yp,"3.10.1","esm2017")}();!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at(),t=$e(e=le(e),Ru);t.isInitialized()?t.getImmediate():xs(e)}(it({apiKey:"AIzaSyCMiT9cKfweIciBy5oEKUPzkfbkdjHNDJk",authDomain:"chat-app-45adf.firebaseapp.com",projectId:"chat-app-45adf",storageBucket:"chat-app-45adf.appspot.com",messagingSenderId:"557565391551",appId:"1:557565391551:web:f210778b198e7bc808cc0a",measurementId:"G-6FR2TKPN8S"}));var sE,cE=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at(),t=$e(e,"auth");if(t.isInitialized())return t.getImmediate();var n=rr(e,{popupRedirectResolver:Fa,persistence:[Mi,li,hi]}),r=z("authTokenSyncURL");if(r){var i=Ya(r);ri(n,i,(function(){return i(n.currentUser)})),ni(n,(function(e){return i(e)}))}var a=j("auth");return a&&ir(n,"http://".concat(a)),n}(),lE=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at(),t=arguments.length>1?arguments[1]:void 0,n=$e(e=le(e),ol),r=n.getImmediate({identifier:t}),i=B("storage");return i&&ll.apply(void 0,[r].concat(I(i))),r}(),fE=function(e,t){var n="string"==typeof e?e:t||"(default)",r=$e("object"==typeof e?e:at(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=B("firestore");i&&Kb.apply(void 0,[r].concat(I(i)))}return r}(),hE=n(184),dE=(0,e.createContext)(),pE=function(t){var n=t.children,r=k((0,e.useState)({}),2),i=r[0],a=r[1];return(0,e.useEffect)((function(){var e=function(e,t,n,r){return le(e).onAuthStateChanged(t,n,r)}(cE,(function(e){a(e),console.log(e)}));return function(){e()}}),[]),(0,hE.jsx)(dE.Provider,{value:{currentUser:i},children:n})},vE=function(){var t=(0,e.useContext)(dE).currentUser;return(0,hE.jsxs)("div",{className:"navbar",children:[(0,hE.jsx)("span",{className:"logo",children:"Mirnin Chat"}),(0,hE.jsxs)("div",{className:"user",children:[(0,hE.jsx)("img",{src:t.photoURL,alt:""}),(0,hE.jsx)("span",{children:t.displayName}),(0,hE.jsx)("button",{onClick:function(){return function(e){return le(e).signOut()}(cE)},children:(0,hE.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIABAMAAAAGVsnJAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAkUExURQAAAO9ANe5ANe9BNes+Mu9BNv////98c/RVS/lqYfmwq/3a2M532e4AAAAFdFJOUwCKVMoflyfkswAAGRZJREFUeNrtXc9j09bSVRKzN9DsDdR7B8jetLCP7SiWnHVNm6wdYr61cVLWjgNdJ6XtOqaFf+7jYcmSbP2YmXvuleRkVu9RsO4czZw5M7pXsqw87OXjR/cfPtu1PXv2bOf+g8cvrVthLx/ff2Yn2LP7a45C5fHDXTvDOjuPm2vq/aOHNtF2HqwfBj+Rvfcw+HG9bv6uzbbO2oTB5kNbaDu1Wxj7a5YJm0rulz4KKinuO2dnZ5cfvtvlt/85SoGgtFzwKMn18w9vYuwbEAkwPChn8u/GOh/rewiFWBA65aOCypMY78+nbwg2vIzB4Gmz7Lef6H0iBuUKgpXbnxX5cbmwEgTlqX3bS0vn3PxwGCz9TKskFfHFsvtvxLYMwQ8lDH8F92MgKH4aVLYBwZ+SCK2CV4PNCPs7yu5/hyBSETq18qT/+RuQXZaFCCL+n03fwGx4VgoEIvQHdP9/dloCKqzDsz+RCdpF9H9bR/YnMUGr0OUPf/tXg6Bo5TDi/xttVlgEwv6fv9FolwVFIOT/mOzM9MPCppJq0Cqk/xRXhnHDr/8Nykj/uIAI1Bn0N7w8S5sBn2U3DyEqLEg1fEL2/8MZZRCeNTwJIVAIRfQzkf5p3pMwCBB4XiT973CmO5mWmguj4vQFG4uluNRehhwGUwoC1aL0/8n3/8NI+ljM+ZCNQL7zgcpu5v0fjlSeDCbTaoBAswgCwNHifioEowLIgScZ/vOpj0OHo9yL4YsM/yHup7QXo5xLwWZ6lKpHf1YeBFeo5UuAU623PyUIhrkSYT2t/0Pe/pQgOM2xK/g5zf9LW4OdpyHwPDcCcE35H4/AJCcaWIyAHBPhn5YGo3wGRPUU/22NloKAURrYSF7Qpa3VzpMBr+ZQAcem/Y9D4NR8LawnEuDI1m5OIhG2TSeAk4f/aZetGk6AqTH6zygGQ7NJUE8gAFP+xyBwajIJNhIIwJz/MQhMzCWBnwBOjv7HIDAylgT1eAIw6/8qAkNTSbAZnwCm/V9FYGKoJ9iOTQDz/q8iMDIyIfw5PgFy8H/1JphojCvxejQX/1cQ8JOgqZ8BE65s3NzY+9DWLwGmZvsfamc01C4GtuOAP7VztHFcKGrjwa24BMjV/2UEvCRo6NWAY2PzH3YxPNWqB1/FJcDIzhuBuCTY11kCp4UoAAmlYKixFNZjrndpF8DOY+6IhlK4GRNxp3YhbByTkzVdATDOuQPIJMJTTSEQFwAF8T9+VTU9GmhaNAJYpYGhFjW0scqAQ7tANl3lwaruABgVCQBHcwjEBMDELpS5ekPAC4DiVcD4WggPAS8AugUlgJW7M0CHwPZKnk2KB4C7wk8tcACMC5wAS+sDh0B9OQCGRfQ/IghHSDm4uQLwpJAAhJPgFCkHVwIAmADO+eVISxIAQ2Az4ccB9vGf/jf78pcGOQQMgVfLv41KgO5137OjAT4JRqjRUGU5AFAM2J31F3aMQmC6XAia+AAAJUC3H7EBPAlQIbC7JAJBDOjOogAcT9A8OIe0A3oWAA+A6/6SHcFDAPOMYHspAEA3qtdfsStQai2FQAuigqdgBnRmqwAcj8A8OETo4fpSdQEFwPt+jP2LLoUTdTFUMRcA+kKgqVwDXTQDHvZj7QbNgxPlSrgbLS2oJuA6HgBQIVheb0eVAh3NGkijGhop0mBdTwC8TwLgXz0h0FbsA+Fd4HUSAKgccJbEUA1DgaiGxekn2ggdAmo0uButKqiuvZcMwBXqGtFK2FGhQHgA2O+SAfgVdY1uNASqCAqEDa6ukwE4stEhoECDlSifwALAniUDcGzDQ2AkVoNb0R/CzW77KTaBh8BE3BRvRygQFwC9NACu4CEwlDbFm1EKxM2uD9MAuIFdxomGQE0oAsb4RwEHaQD8gn9IcCqUAruRTAI+vbhIA+A3Gx8CMikQFQHIh6EnaQC8tvEhIJMC9QgFIrfDXKcBcGTjQ2AokgKRn4A+DTcGwCIE5rdPkgFdHU+DzQHgRkp4VZ4B2O0A5gCIrr8tl8GTsgLgiuXwVjiHwPtBDALgh8ApWw7XwyJgUF4AusIcqMQEUCkBiCZxU5YB6B1hJgGI+tCQZcCozAA4YTncFmUAfEucUQB8GuTlwEY4eiblBsAN50BVkgF2uQGwJTmwuwJdiQEIB3JHkAGjsgPg8HPgVSh0NOwKNgyAT4OMuVA4AyblB8Dl5sCm3gwwDkAkB2pkGTjVdi7ANADevRySxeB2CLbJOgDghoK5RZWBXX0HI4wD4EXzgCgGNzRnQA4AhHOgSiuCjsazkeYBCHuzzymCeo4GmQfAi2daIQwXwcG6ANBlFMKtkAwcrQsATkgMNiidoM4MyAOAcA60KU+EujoPx+UBgBtKaXoRHK0PAA65EN4L/rqu47HKAEwFL68YB7d0L1sHu1qPh6oB4Lz9vsfq+M+RIAcmmWq4sgwXPcjefv22rq+EdSkB8PtMdtIuHNRNGgXwMmCxsONPOgH4GP67n9g5kE0CIR3MAji8sM/6APhdvqXMpanh7aAIcjLgj8i6PusCYPmcAeesYeiutkgUwFFBSzcmIzbFAKyeNOIUzSmFBDYCHczIAHfGOvkhBuAPpW2F3UANVykqYKRS1450AOCqHTRzKEogoABGBvSYGz6lAJwoHrKZEkggoICBSgCk3xkhAK7q9vJuQALpswBmBvS4e36FALxT3VzsBiRQS5sFOMxHotfcUBYCMFPunoI720ibBXR5MrDL3vcuA6CnftYwyO122jhwzGuELti7nmUAXKhvr3YXt7aTJoOmrAxwZuzDLzIAZoCjdkF5aybLIIdXBA/5Zz9EAHQRZyymCxKoJndCLq8IXvNPwIkAOEQMkbqL7N7PkEEjVQpMW5cIgLRDBuTb5WRIIQEFpJyBTMxNEQDXkFMmQXqnyyB6EZwJDoBJAHDS/s0xrxAmSqFABpGLYE9yAEwCQLcPOWvnpkqhV3wKSD3+8ysQgFSk6QeNAhLYT+LAMacIpgamKJ2T/lHqUTuGFJj6Cd5K48BTdRGQlpoSAN6lA3DDIYEkFgw4cALJgH4fCEDGlY5YJJDAgltRllDOgMTA1AAAOQcCjm8kc+AQkwGJJ8ElAFz3QTkwTWbBBQeegjIgSaHpAOCIQwIJLLgAaALKgKTyrAMAcg64iSwYcOAIlAFGAbjhkEAsC25E8QFkgFEAXnNIYBLXEd/zOfAUlQFGASDnwNhnwb24eeCYQQG9YgFwxSCB07i54K4fH1QoLzLXNDCnA+g9seNneSduHsihgFnmmoA6IBvtYw4JxMwFN310qBTQ7UvTUkMzxJkLjf0or8UL4QGqCEKboeyrkV+/0o0XwwshTKWAbFpCtsPZjEsWg068GF4UAVgRTCzN8JEYsxDGlwG/CAxhRRA6ESJQLrkQTuPKQCWCjeI4WMNMkFAHya/iG8eVgUURmMAoIJGWRQAc4EjAjSsDW5H/QvgRQk5CH4wQUo76JjonrgwsOgFYEQQ/GaKQwA2dBVe6Ab8IUDnwQqEuywAgkMBvdBZcKQPb3n+gyqCZgjKTAUCIOaoa7no3urU8DqJzoKuyGhkADo4EXD/Vl6qgQ+fAnkpREu4RuoApgYWjzdVxEE4FDNAAdHFKYHUo5FfBIUwF4HeJqV10mQWX6qBfBYk60FEqSVIACDQ4IrPgUh30q+AERQEadoom78dik4C7Ugf9KkhE8EApG8W7xS9QUshZqYO7HjWgBuKp4xkxANk0+JrOgpF+sBKGBSGDtGyXJ9DgMZ0FI3XQ7wWJHOiqhaIcgPcoKTRe6gd9GTBAceBIDwAuigW7S0JgK/yHABn02tYDQHYO/EIuA4OwELgXDgsAB97oAuAQxIJ+uu8tyQAUB450AeCgWHBJCHgyYAjiwNe2LgBg+wSmUSGwGwIFwIE3+gA4BLHgOCoEvLQgFoFDxVqkAoAL0oJdj/CiOohYBC5UVJAiAJk58Bu5DISU0Gb4j9R74V91AvBOEf2gDEwCJbThBQWRQVUf0yp9XyCTgMhlYBAoIU8HEYtAV7USqX1hYoYRwxEl5OmgIaYIZGoRtW+MnKDKQEgJvQr9ifow4Eapityo1qAbFgD7gRCcUqvghWoMqn1nqIspA17GtwMhSK6C16piVPFLUzNIGXDnnN8KC0FiFZwptyNqJH4B6QacsBQM/YH6RPhGKYYI9+8Q0w2EpKAnBEFVkMAk75QebQAWMOe8hRT0hCARgEP1CFT84uQMUgengRT0BmKYKkiZSLhqMuYEMhQaB0MxTwljquAvSoXkCHALyHVwoYU9JYypgqQAfKf0dLMHqoMLLXwvFBHKGThRItIBoA4dUwFYaGFPCRPLB+Tq10o3b4boB51AC3tKGDIQfK1USog6/gTTDy60MAuAHoSC4x/0HmOezV5xAdgO/q8yANTtqrEPuahvheqBhIDfDMxbAYwMINbS2BAgvxesC2qI/WZgN6AE5cditi0PAfprwSA7hea031n0QgMEATFe63SN/LcSIu763ZDXC00MXvt7OVlKAs7bIU8wSsjrhirz/wfRQZyvBvdk9JlNRGQlNJkDsBmCQzX9bhheRF/EyXpD7CFGCXntoAcAZBwy4Lhhd4XvCM4qA9SRiAeA1wyavPQCTtlborNuA1UKeu3gHACMDrLZdj4dXvL/1QwyE/IA2MIBoOnV8NxadMUBoDEHYHyKoJ/XpgA4gUjB0zkA9zgAHECObCjbO8hQzBsIzAEYGLyyuh0gltH1AHgV5IPqRPDGFACHkKngcD4RmQMwQSTflSkAIK8Wcz0A6hwAroE6SMG6kGbAm4jMAYBsjxmZAsBBAOBIAJiBdZDUkADMJ2IICXZsDgDIOryZGAuAfkEAuEYDMDQYevq1MPFHpnwAnGIo4axyPGIBsMsAwF0/ADrzoTDksMxv5gC4gBycGbEB6CLm0fq7oUFOAPxiDoADNADEf9IrRi+U1Q0RvenOHwzY6wfA1R0AbAAmCACuzAEAWYh7B8AdAAsARrcRAOcOADYAh+UA4OYuAu4igAuAfRsjwL4D4A6AOwDuAJgDYJR8C9MNzm0+FL29AHTuAOAAsF4zwTsA0ACUbSzuAbDN+Nvr9WDku7VYAKzXs0EBAOv1dPgOgDkAdc5fX6sdIt+tDQSgKHuEdAKwTrvEfABe4QAYmAKgiwNgnwfAOu0U9QG4hwPAWDcE3LW/xwOgFLvFf+UBsJXTlfW1Aqz70OABsE4nRnwANnAAFOTMEAuAKg+AXjH2ys5wxajqfW0VUoBNKSHk8c0aDwC3XwQl1O3DxgHfAKjgRLgpIQA5O+xZkwnArAhC4ADIRE3LAvKvoTp4AqxF/jtEMAAYqoPARXS4AFz0CzAR6ONmsx3/NTqY9DNTBrp9HBG1/BcpgQjYSEPcA5aiNheAXj//MnAAvAlt/2VqoPAzUgZOgGm4779OD6RCjXQDM6Ae3/NfqJjL1bV0Arx70PBfqQmqwSZYEPNGyUUzyAXgJHcWPEDSUNV/rS5oGmWCBTNuAW8uV1t8dRokBI5z50BeR9pcfHEVlIH6tWDWm6V5LBS8XB11fe0jgUPkHegEr9cHdSL6t4lkfd+A9WOt4AMLqBQ8zpkCeNdvB5/YQJEwbyLHt6xPLfHK0H7wkRVUHdRNAlkUwKuCe8FndmAr0KwETqD4N4IPLcHq4HGuFMCsgtXgU1uoXkSzEsj88iyvG6sFH1vD3QOt7cABNv6awef2YP2g3tEw+OLhDy7CyoDOmUBm/vGKQCf8yU1YGdBZCMHXboU/uorjIY2F8ATLwO3wZ3dh3YDGHMjMAOaTmb3wh5dxRKQvBzIzgMmBjfCnt3H9mL4cyMwAZi9aDX98HXgfdOVAdgYwY8//+DpTCXX7OeVANvJMFerpIK4QyL4RmrTQNTj0fBnAFQKEhWjpB7po4FsLAOpgFtSzZzRTgnI5sL0A4B46F7X0xDM09+wtANhCx6KOR2S9PjrzGgsANuD34igPCuTGXXUBALMOZgsSDTRICDuuAFtUQe5EgEAC+OcD2czLlh+B/9w6SEhHtBp0+nDiaYUAYNZBm7Caf7EAvCdckvmT7RAA9+CERP92Gi0AsnmXTbx7IQCYdTBzNgkPAUoAcKexjRAAzH6QRAJQMTTDU8CiF5TUQQoJIEOAEgDsfbqhKsjtB0lKAMgCFAZgq4BO2H92GTg0GgKkALhRKALcR+QkXYYLAVIAsLXnfgSALR2shJKDF30dnNuIALCpZVGYjoAUbXywaxEA2GWgR1oVpCm8Jl3qSqkI8MuAQ1oVggff0640UioC/DJAvC+cb6nGmzvTE2vtJQC43QCtEAIekpzQrsOexO8tAbChh5qUh2M94mXYdFtdAmBTEzcpJgExAQRsW1sCwGL/wrt+X38lIKIsmMMv+88dCtFzoP+f3P8/+royoLUCwCv26mZ93TRAJQBB672/AsCWthzgflc5iDEyxPwMaKwAsKnv/vSPRF2Rc93XF2MrHChgQXoOyIiQ7r9g+LTqP58F6Tkg0kMn9F/nZ0ArBgA+C3bpS+x/5v74/zF+fADgQAkLMoKUjQDHf0GCNWIA4LMgtVHjM6HDgVbScsZwoIQF3b4eBHj+Sw6pxPkvYEGbt1CqHqDXf2kGtGIB4LMgtSde2F+UH/3I/NEbG8KBgo6YOq8N2ZfMcHX/Yf6kZPZcjQWgwv8h4mw0vNyMIPjIhVQ0em7GAsCeCzKlgJ+yKZ+3HF/zf0/QaHTi/efPBdk06EGQ8JHbqejHBItuJwAgkEJsGvQS4e+VMBj/PRP9lIACY2WQUArxaXCBwZc/hx59OdO3/4h/RtJo1hIAEEghVkcUt/6vX2dKPyDak5rkv0QKSWgQaZJZSysRgHsSOE/y9F/02GEvEYANyc/18gRANG6sJgIgkUKySggy2ci9aUFJIM8QEAVAMgWI+iHWbBBsso1o+ykAiEhAKIYAdmNjKUBKAk5OISDcg5RCAUIS4I3GcCbbfZFGAUIlkFMICANgLxUAGQnkEwLC7TfVVAAsuzQhIN2FmO6/aCaQTyGQlYDEWYDKTCAXLSDdjN7IAGBT+LvG5aB000EtAwDJYDCPjkC68aaT5b9QDRsPAWkA7GcCICyEhucC4u2H1UwAKtKfdk0CMJGuspkJgFANm1VD4i3IrWz/xYXQoBqSn8RoEACQFkKDPCjfflsjACAuhMZ4UL4Bu0PxX1wITSWBwlGkfRIA4kJoKAkU9p9XSQAo5ICJJFA4gUDLAHFH+F0MaE8Cle33bSIACjmgPwlUDmAQM0AuBg0kgdIRnKalPwe4W9y4TaDKYVRqBiiIQe2PiwcqK2uQAVDKAft3ff5/so1kgFoO8Pb5suyz0rLoGaCYA9qmQ4oHcRsMANRyQJMaUD2FysgA1RzQQ4QD21gGqGkhTXpI9f1sVRYAluLV8KXgk+qKeP6r5gDjzCPN/lNdT5sJgGoOgBFQ9p+bAUo9MV4OfFZeTIfrv8JcCI+Auv/EWRBmNgrPgv8AS6mxAZA/HwjZR4T/fwEW0uL7ryqHYdXwE2IdDQEAFcSFuSfAVvXvALKMpgAAdSkw7wuUOqOjCWQRbYn/ACmgXAw+g5ZQFQEAkAIeEQjT4PgTaAEdmf8IKaCSBqDwF4kAnBTw6yE7CI7/wl29JgQARIPzIGAeCP0ywV27LfUfRoPfbcyA4Msp8spVMQAwGuRBgHVfTIFQGmRAAHZfToE4NRjhgrepdHj85wR+yaYCAEgaXNj526/x3n/981LD5doq/mNpMPQAcfr3PxEUvn75e6jp60RVJQAgTXGSnX2Yvvlmww9nGi/SUvMf0xTnaQ1FAMCV0Lh1VP2HV0LDtq8MQKXcADSt2x0C6gEA7QnNWw0AgBYxZMjaCP/LHAKQAChxCGACQJse1m9VEABa9XCBVXDpQwAWACUNAVwAlDQEgAFQyhBABkApQwAaACUMAWwAlFAO1sAAlE0OttH+ly0E4AFQshDAB0DJRkNNDQCUaTS0r8N/q1KaAXFHSwCU6BlBw9JkJVFDLV3+l0UQV7UBUI5S2NbnfzlKYVMjANbPxff/uaXVtm8vA5akJahpBqDoPNjW7X/B9WCnqR2AYouBqmXA6rc5AYqdBCYSoNBJULUMWf02J0Bxk8BUAhQ2CaqWQavf5gT4ngSF6wlaTaMAFK8nqFmGrWCN8XPLuNVvLwEUrxZ2mjkAUCQaqFm52Iui+P+DlZM9KYb/T63crBBqoJWf/4UgwnwIcEGEuSPQqVm5Wu5tUdXK2V7c0gJQEE383CqAPbmVBbAQXUHbKoht3z4BUAQECuR/LgMi0yOgoiFQLP/NI1A0/03zQMsqoNVvYf3LSRE9tQpqhvqCHyzrViNQYP9NzAfy7v/zLocFLH9GqfCpVQJ7cUvTP0QEmtKgVbPKYk9ubfj79hO8GnR+tEplFXAQPG1aZTNkEJTt9nv2COX/A6ukVnmIcH+naZXXNpUh2KlZ5baflCDY+dEqv8mjoPR3f8EFjwQVofOgaa2RcTNhLWJ/OQzIGOys180PYfD4YWYudHYer6n3nr18fP9ZkvPP7j9+ad0Ke/n40f2HzxZAdJ7t3H+Qk+//DweMW1kiF9yCAAAAAElFTkSuQmCC",alt:"",width:100})})]})]})},mE=function(){var t=k((0,e.useState)(""),2),n=t[0],r=t[1],i=k((0,e.useState)(null),2),a=i[0],o=i[1],u=k((0,e.useState)(!1),2),s=u[0],c=u[1],l=(0,e.useContext)(dE).currentUser,f=function(){var e=b(C().mark((function e(){var t;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Uw(Jb(fE,"users"),jw("displayName","==",n)),e.prev=1,e.next=4,eE(t);case 4:e.sent.forEach((function(e){o(e.data())})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),c(!0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=b(C().mark((function e(){var t,n,i;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.uid>a.uid?l.uid+a.uid:a.uid+l.uid,e.prev=1,e.next=4,Zw(Yb(fE,"chats",t));case 4:if(e.sent.exists()){e.next=12;break}return e.next=8,tE(Yb(fE,"chats",t),{messages:[]});case 8:return e.next=10,nE(Yb(fE,"userChats",l.uid),(S(n={},t+".userInfo",{uid:a.uid,displayName:a.displayName,photoURL:a.photoURL}),S(n,t+".date",oE()),n));case 10:return e.next=12,nE(Yb(fE,"userChats",a.uid),(S(i={},t+".userInfo",{uid:l.uid,displayName:l.displayName,photoURL:l.photoURL}),S(i,t+".date",oE()),i));case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(1);case 16:o(null),r("");case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}();return(0,hE.jsxs)("div",{className:"search",children:[(0,hE.jsx)("div",{className:"searchForm",children:(0,hE.jsx)("input",{type:"text",placeholder:" + Add friend ",onKeyDown:function(e){"Enter"===e.code&&f()},onChange:function(e){return r(e.target.value)},value:n})}),s&&(0,hE.jsx)("span",{children:"User not found!"}),a&&(0,hE.jsxs)("div",{className:"userChat",onClick:h,children:[(0,hE.jsx)("img",{src:a.photoURL,alt:""}),(0,hE.jsx)("div",{className:"userChatInfo",children:(0,hE.jsx)("span",{children:a.displayName})})]})]})},yE=(0,e.createContext)(),gE=function(t){var n=t.children,r=(0,e.useContext)(dE).currentUser,i=(0,e.useReducer)((function(e,t){return"CHANGE_USER"===t.type?{user:t.payload,chatId:r.uid>t.payload.uid?r.uid+t.payload.uid:t.payload.uid+r.uid}:e}),{chatId:"null",user:{}}),a=k(i,2),o=a[0],u=a[1];return(0,hE.jsx)(yE.Provider,{value:{data:o,dispatch:u},children:n})},kE=function(){var t,n=k((0,e.useState)([]),2),r=n[0],i=n[1],a=(0,e.useContext)(dE).currentUser,o=(0,e.useContext)(yE).dispatch;(0,e.useEffect)((function(){a.uid&&function(){var e=rE(Yb(fE,"userChats",a.uid),(function(e){i(e.data())}))}()}),[a.uid]);return(0,hE.jsx)("div",{className:"chats",children:null===(t=Object.entries(r))||void 0===t?void 0:t.sort((function(e,t){return t[1].date-e[1].date})).map((function(e){var t,n,r;return(0,hE.jsxs)("div",{className:"userChat",onClick:function(){return t=e[1].userInfo,void o({type:"CHANGE_USER",payload:t});var t},children:[(0,hE.jsx)("img",{src:null===(t=e[1].userInfo)||void 0===t?void 0:t.photoURL,alt:""}),(0,hE.jsxs)("div",{className:"userChatInfo",children:[(0,hE.jsx)("span",{children:null===(n=e[1].userInfo)||void 0===n?void 0:n.displayName}),(0,hE.jsx)("p",{children:null===(r=e[1].lastMessage)||void 0===r?void 0:r.text})]})]},e[0])}))})},AE=function(){return(0,hE.jsxs)("div",{className:"sidebar",children:[(0,hE.jsx)(vE,{}),(0,hE.jsx)(mE,{}),(0,hE.jsx)(kE,{})]})},bE=n.p+"static/media/video.5500e1899d537aecc8b5.png",wE=n.p+"static/media/tweet.8e65601e69067aadfe55.png",EE=function(t){var n=t.message,r=(0,e.useContext)(dE).currentUser,i=(0,e.useContext)(yE).data,a=(0,e.useRef)();return(0,e.useEffect)((function(){var e;null===(e=a.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[n]),(0,hE.jsxs)("div",{ref:a,className:"message ".concat(n.senderId===r.uid&&"owner"),children:[(0,hE.jsxs)("div",{className:"messageInfo",children:[(0,hE.jsx)("img",{src:n.senderId===r.uid?r.photoURL:i.user.photoURL,alt:""}),(0,hE.jsx)("span",{children:"just now"})]}),(0,hE.jsxs)("div",{className:"messageContent",children:[(0,hE.jsxs)("p",{children:[n.text," "]}),n.img&&(0,hE.jsx)("img",{src:n.photoURL,alt:""})]})]})},xE=function(){var t=k((0,e.useState)([]),2),n=t[0],r=t[1],i=(0,e.useContext)(yE).data;return(0,e.useEffect)((function(){var e=rE(Yb(fE,"chats",i.chatId),(function(e){e.exists()&&r(e.data().messages)}));return function(){e()}}),[i.chatId]),console.log(n),(0,hE.jsx)("div",{className:"messages",children:n.map((function(e){return(0,hE.jsx)(EE,{message:e},e.id)}))})},_E={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},IE=new Uint8Array(16);function SE(){if(!sE&&!(sE="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return sE(IE)}for(var TE=[],CE=0;CE<256;++CE)TE.push((CE+256).toString(16).slice(1));function NE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(TE[e[t+0]]+TE[e[t+1]]+TE[e[t+2]]+TE[e[t+3]]+"-"+TE[e[t+4]]+TE[e[t+5]]+"-"+TE[e[t+6]]+TE[e[t+7]]+"-"+TE[e[t+8]]+TE[e[t+9]]+"-"+TE[e[t+10]]+TE[e[t+11]]+TE[e[t+12]]+TE[e[t+13]]+TE[e[t+14]]+TE[e[t+15]]).toLowerCase()}var RE,DE=function(e,t,n){if(_E.randomUUID&&!t&&!e)return _E.randomUUID();var r=(e=e||{}).random||(e.rng||SE)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return NE(r)},OE=function(){var t=k((0,e.useState)(""),2),n=t[0],r=t[1],i=k((0,e.useState)(null),2),a=i[0],o=i[1],u=(0,e.useContext)(dE).currentUser,s=(0,e.useContext)(yE).data,c=function(){var e=b(C().mark((function e(){var t,i,c,l;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==n&&void 0!==n&&null!==n||a){e.next=2;break}return e.abrupt("return");case 2:if(!a){e.next=8;break}c=cl(lE,DE()),(l=ul(c,a)).on((function(e){}),(function(){sl(l.snapshot.ref).then(function(){var e=b(C().mark((function e(t){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nE(Yb(fE,"chats",s.chatId),{messages:uE({id:DE(),text:n||"",senderId:u.uid,date:Hp.now(),img:t})});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),e.next=10;break;case 8:return e.next=10,nE(Yb(fE,"chats",s.chatId),{messages:uE({id:DE(),text:n,senderId:u.uid,date:Hp.now()})});case 10:return e.next=12,nE(Yb(fE,"userChats",u.uid),(S(t={},s.chatId+".lastMessage",{text:n||""}),S(t,s.chatId+".date",oE()),t));case 12:return e.next=14,nE(Yb(fE,"userChats",s.user.uid),(S(i={},s.chatId+".lastMessage",{text:n||""}),S(i,s.chatId+".date",oE()),i));case 14:r(""),o(null);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,hE.jsxs)("div",{className:"input",children:[(0,hE.jsx)("input",{type:"text",placeholder:"Write a message...",onChange:function(e){return r(e.target.value)},value:n}),(0,hE.jsxs)("div",{className:"send",children:[(0,hE.jsx)("input",{type:"file",style:{display:"none"},id:"file",onChange:function(e){return o(e.target.files[0])}}),(0,hE.jsx)("label",{htmlFor:"file",children:(0,hE.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAnVSURBVHhe7Z1nyCXVGcdXY4liX2vssTdEVzEKEk3sifWDin6z7NoLYoPox8S1xIbsimCXRNEPSlSsibo2LIgI9oK6lkTUxC4r+v8RB4bLM3fOmXvOzNx7nx/8WPR975yZM89758wz5zwzw3Ecx3Ecx3Ecx3Ecx3Ga8gu5nTxWXiivl39zG0nf0Yf0JX1K3/aWTeSf5cvyRzeL9C19TF/3hpXlpfJLae20m96v5GWSvu+UPeQb0tpJN7/0/Z6yE46Ri6S1Y257cg44F61ytLR2xu1Ozkkr7C6tHbBcKJ+W/3SjfVg+Kd+XVt9acm6yspJ8V1qNF34tr5a/lctLZzSWk7vKeZLBn9XnhZwbzlE2LpdWw4WPym2kk4etJd8OVt8XXiGzsKH8VlqN4m1yCenkhWQQSSLrHCDn6NcyOX+RVoP4uOx1lmrCWFw+Jq1zgXNlUpaUVff7XPM3k067kA2sGhO8KTlnydheWg3hNdLphvnSOic4SyZjtrQawV2k0w2/kdY5wTkyGRdLq5EP5LLS6YZfyqo8wSUyGTdIq5GnpNMtT0jr3Nwkk1F128E9qfN/uE0+QJ4lL5JXSb45z5YHySy3ZuIhaZ0bbsuT4QFgs4o8UZIA+0ZafVTIzxfIU+RMmQoPgA7gPvx0GZOnL8vY6UyZInHmAdAym0v+kq3+iJWHPVvJUfAAaJHfy/9Iqy+a+qncWzbFA6AldpNkPa1+GNXv5F6yCR4ALbCx5C/V6oNBSc++Jp//+d/QuZL/lVxeYvEAyAwDPq7V1vGXvVseLteTRR6ef9eVh8q7pPW5ss/K2IGhB0BmTpLWsRe+LveVIfA1/6q0tlN4hozBAyAjK8iPpHXsyHS3NWQMq0ken1vbQwaZMdO9PQAywgMV67jxbcnJbAIJJL45rO3iyTIUD4CMkOGzjhubjtoLuKuwtouMOULxAMjE2rLqtu9+mQIGjtb2uS1cX4bgAZCJP0jrmPEwmYKDpbV95GcheABkgly/dcx8K6wjU7Cm/EJa7fAUMQQPgExcIK1jTjnfjhzDK9Jq568yBA+ATLDi2TrmF2VKnpNWO8wnCMEDIBNV0+Db+gYIndLlAZCJ06R1zIwBSO+mgDFA1bMCZhaF4AGQCdK71jEjOf8UHCKt7eOBMgQPgEz8SlYtvHhApuAeaW2f5V08VArBAyAj/5LWceM+chR+J63tIs8KQvEAyAiVN6zjxnfk6rIJTAplMGltF0+QoXgAZIS1+UzgtI4dn5FryRgImqq5/PixXFGG4gGQmeOldeyF/CX/UYbAZYNZQtZ2Ck+VMXgAZGYx+Zi0jr/svfIIuYFcWsJSkoc63DX8Q1qfK8tKq9hl9h4ALcCqn0+k1QeDkifgW+EFyZL6urIuhcw5bFIA0gOgJajTk6sYJquGmhZ4mvgAYC7+rbIPBacofDVsilgTmQLGMTZlogOAadKMimmLWTKkTruGKeIc92BfNJEZR6NWV5nYAOBkD5al4cEJJ6APMFuYXEB5/0J9TzLaZ4A5KhMZAHzdc49ttcmCzB1lH+B+nVLuD8qqiR2FjB8o/nicTFnLb+ICgNug+6TVXuHnctRJmanhCSEPkJhJREl35hPwSJn/3k+G5vZjmbgAuFlabQ3KxMlUc/PGmYkKAKZBWe0MkwIN08zEBMA50mojxPPltDIRAXCUtLYfI3WMp5GxD4D95Q/S2n4hAyly7dbPyt4ip61k7VgHwM6yLld+rgRq4t0prd8pyyybaSpTP7YBQJbv39LabiEvRipD4uQ6af1u2b5kDdtgLAPAyvINytd5FdThsz5Tlles9SVrmJOxC4BhWb5CFl/WVcoIuWsga7iDnGTGKgBCsnyUSQm9hg+bs1f4mezs1WotMFYBUJflYyJF7Bw7VtHWVe+a5Kzh2ARAXZaPAeEWsgkUWwiZsRMz27YNGKPw8s1RGIsAqLtecys46nsHtpUhj2f7kjXcSfJYmH3i0XJTeh8AIVk+qmyngAmZrN612ijbddaQy9Fg/mPwljeUXgdASJYv9RsvV5XDavsUMh7pImv4J2ntDzJzOPaF0L0NgJgsX2qWkX3LGjJFvOrFG2VfkjFjoV4GQJMsX2rIGl4rrbbLtpE1pOBUyLdSIQNaJpGE0LsA4DZulCxfai6U1j6UzZk1ZLD3lrTaHSaXzpB6gb0KgFRZvtRQcMnal7I5soasCApdGFJl3YC1NwGQOsuXmpBX3qfMGg4b7JWte9UMMjikuqhFpwHA+vmCHFm+1IRmDanu3ZTQwd738kjJy7brCkgjg8Mt5SCdBgDToYGCRtbPC0fJ8qUmZ9aQ+oEhg70PJQUiClgyzqXR+t2y1uCw0wCgBj4DFetnhSmyfKkJzRqeJ0NhsEcBaWs7ZSkLZw04uYTOk9Znyg4ODllrYP1eKwHwP+P/DZoqy5ea0KxhyO1q6GDvDlk3BuJ9AdZnBy32q2rZeSsBUGfqLF9qyBo+Iq19Lzssa8i3hPWZQak8GgoVwlj8Ym2n7O2SmgLWzzoPgFxZvtTEZA0pGVPAYO9Gaf1uWQZ7zFuIhctUyOCwyk4DIHeWLzWhWUNq+5Cr50URIVVDBgd7sdBOyODQsrMAaDPLl5qQrCG3YyF/mVWDvVhCB4eDdhIAXWT5UhOSNayTa3PqhFfo4LCw9QDoMsuXmpCsYZUxg71YQgeH2GoA8PCn6yxfanjle13WsGzTwV4sDA6rKoyXbS0A+pTlSw01gUKyhqMO9mIJGRy2EgCUNutbli81dVnDVIO9WIrB4SJp7VcrAUAeehqoyhrmGOzFUlV2tpUAIA89LQxmDXMO9mKouhS0EgDD5gROImQN+auPreebk95MCHG6wQNgyvEAmHI8AKYcD4ApxwNgyvEAmHI8AKacTgNgmjKBfaWVAKha6MDCSqdbOAfWublJJuNiaTWyUJIedbqBvuccWOeGkjzJmC2tRpA6AE430PfWOUFeTJGMWdJqBOdLpxvoe+ucYNKVzkvKqjX/TJvaVDrtQp9XTVmjHgHrFpLC82+rMVwgF5dOO9DX9Ll1LpDp7cnh7Zm8195qEP8uq5ZPOemgj+lr6xwgy9s3klm4QlqNFlIvYGvp5IG+pY+tvi+8UmaD1529K62GC7kuMTjhVavltXROM+hD+pIJoHXT1Ck8GVtmLhrecWs1bkndHRIVZKvIGrrh0mf0HX1o9a3lKK+gjSKkSrfbruRqWoU3ZtZVAXXzyzmYIzuBt3dS/MnaMTe/3O93/gZVypdRy27UenhuuAwGuSObKXsDmSmSRSELF91m0rdz5aivnM8K9QF4dsB1iaeIPJbk2bQbL31HH9KX9Om4115wHMdxHMdxHMdxHMdxumHGjJ8A3MAKpZiLJeIAAAAASUVORK5CYII=",alt:""})}),(0,hE.jsx)("button",{onClick:c,children:"Send"})]})]})},PE=function(){var t,n=(0,e.useContext)(yE).data;return(0,hE.jsxs)("div",{className:"chat",children:[(0,hE.jsxs)("div",{className:"chatInfo",children:[(0,hE.jsx)("span",{children:null===(t=n.user)||void 0===t?void 0:t.displayName}),(0,hE.jsxs)("div",{className:"chatIcons",children:[(0,hE.jsx)("img",{src:bE,alt:""}),(0,hE.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAEm5AABJuQFMf8cNAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAltQTFRF////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYiK3aAAAAMh0Uk5TAAECAwQFBgcJCgsMDQ4PEBETFBUWGBkaGx0eICIjJCUmJygqKywtLzAxMjM1Njg5Ojs8PT9AQUJDREVGR0hJS01OU1RWV1hZW1xdXl9gYWJjZGVmaGlqa2xtcHFyc3R1dnd5e3yAgYOFiIqLjI2QkZKTlZaXmJmanJ2en6Cho6Smp6ipqq2ur7Cxs7W2t7i5ury9vr/BwsPFyMnKy8zN0NHT1NbX2drb3N3e3+Dh5Obn6Onq6+zt7u/w8fLz9PX29/j5+vv8/f58NktxAAAIcElEQVR42u3d+3/VBR3H8W3IEmWagJhUXGaZQWmZcxZWJpZ2QQoINdMy00gNDIqykLTMWxZeUiSZBQqopG0wDjB2v53Pn9UPPR48GL9UHPc937PP8/UnfN7Pc3Z2ds5jTU36n2tZ1LHmh/c9uGX7E3/662v7Dh0eqEZUq9XJycmJiYnx8bGxsdHR0ZGRkeHhoaGhwcHBgYGB/v7+kyf7+vpOnDhx/PjxY8cqlcrRo0d7e3uPHDl8+HBPT8+erbd+vNlpS94Fn7zxB7/YeWA0pqeXPuzEpX3QX75ue1clprn+9Z4Eyvi4X3nfzr4opk3OXa6Wfmvb3skormqHm5fnab9jS3cU3aHzHb4s6/dEPfqp2ydePyL2OH/i9SNitNUE9WzObQejvi03Qv1auLES9W61GerV5b8djfq33hD16frnoxQBUI9mr9kXAUDeR/+bEQCkbcmzEQCkbe4DowFA2ppv7Y4AIG1XvRYBQNoW7KgGAHnr7I4AIG2zfjIZAOTt0l0RAOTtK5UAIG+tmyIAyNvi1wOAxN14MgBI3PrJACBxP44AIG/NmwOAxM3+XQCQuDnPBQCJ++CrAUDiLtkbACTu4ncCgMSd1xUAJG7WswFA5rYEAJm7OwDI3KoqAJn7zHAAkLjFvQFA4uYdDAAy91wAkLnbAoDMtQ8BkLnZXQFA5jYGAJm7ehKAzLUdCgAytz0ASP0ngAAgc/MrAKRuSwCQuaXjAKTuqQAg9VsAAUDqdgOQupsCgMy1vg1A6r4XAGTuwgoAqXsgAMjcBQMApO7OACBzzW8BkLovBwCp+wsAqVtaBSB1DwcAmZvbB0Dqbg8AUv8O+CYAqVsZAKTuMQBS19oHQOq+GACk7lcApK6lB4DUXR0ApO5nAOTuHQBSd0UAkLr7AcjdXgBStzgASN06AHL3CAC529f4ANZa8eybO9n4AK4x49nX2fj7V9vMePb9qPEB7LdiDT3d+AB2WLGG/tXw+w8useLZd2njPwHcYcUaWtXw+7/YbMUaerDR9//9RUaspVcae/4jq0xYUy2DjTv+5BuP3j7fhLX1ofrvOLz7ye0Pb7znu7fc0LG8/f9o2Vzz1d5n67r92Ou//M4V51ihjt1Sv/UPfP9THzBAvbu3XvO/dIPf3spQfb4TNLr9E05fjp6vy6N/ocOXpQN12H+rl32lqXmk8PnHNzh7ebqk8P2PXefqJeqqovef+LSjl6mbiwbwkJuXqqI/D/b2HDcvVdsKBtDp5OXqj8Xu/2sXL1l/LvYV4AIXL1kvFwrgBQcvW12+wZW7Nwp9D3Ceg5etfxYJYKd7l67eIgF8271LV6EfCfVH4NLVXOQ/Cupz79J1bpFPAF3uXbrmFQngcfcuXYuKBHC/e5eu9iIBfN29S9fyIgH4KEj5urJIAN4HTA7A14ByA6g6d24AQ86dG0DFuXMDeM+5cwN4y7lzA9jr3LkB7HHu3AB2OzcAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAAGjoWlas29bV3VNrlQIBjPW8n3W/uvkb7Xn3/+iuUMQf5uecv3nDgPEjIuLITSkBbLb8qe5JuH9n1e6nGrks3f5t75r9tP42KxuAh4w+pQ3ZAHTZfEpPJdu/ddTmU3o3GYAVJj+jebkArLb4GXXkArDe4md0PQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkKCVAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADM9L4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAk6PMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMz0rgMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABLUCQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADATO9aAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgQR0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAMANba/Ez+lwuANdY/IwuzgWgrWryKb3XlKz9Np/SM9kA7LD5lO7NBmDJoNFP/wlwYTYATXdY/bS+lG7/puYXzX6qR5oSdtEThv9P1Z/PaUrZ1yrGj4hD1zZlbeFdj+3P/YbA+D9+s+H8ptS1LWuvta8WuNjf29/Plp3bpNq7skAAu50bAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACcGwABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAnBsAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAA+m+tKBDAK85dvs6bKA7AVucuYfuKA7DatUvYo8UB+Jhrl7C1he3f2+LaJeycPUUBuNmxS9llw8Xs/6RTl7S7ivkBsMCly9qavunf/+WPuHN5W/TCNM8/fKcXgKWuuePuxw9Wp2f8/l2bvrloht7t31lverYXqWXVAAAAAElFTkSuQmCC",alt:""}),(0,hE.jsx)("img",{src:wE,alt:""})]})]}),(0,hE.jsx)(xE,{}),(0,hE.jsx)(OE,{})]})},LE=function(){return(0,hE.jsx)("div",{className:"home",children:(0,hE.jsxs)("div",{className:"container",children:[(0,hE.jsx)(AE,{}),(0,hE.jsx)(PE,{})]})})};function ME(){return ME=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ME.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(RE||(RE={}));var UE,FE="popstate";function jE(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function BE(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function VE(e,t){return{usr:e.state,key:e.key,idx:t}}function zE(e,t,n,r){return void 0===n&&(n=null),ME({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?HE(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function qE(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function HE(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function QE(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,u=i.v5Compat,s=void 0!==u&&u,c=o.history,l=RE.Pop,f=null,h=d();function d(){return(c.state||{idx:null}).idx}function p(){l=RE.Pop;var e=d(),t=null==e?null:e-h;h=e,f&&f({action:l,location:m.location,delta:t})}function v(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:qE(e);return jE(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,c.replaceState(ME({},c.state,{idx:h}),""));var m={get action(){return l},get location(){return e(o,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(FE,p),f=e,function(){o.removeEventListener(FE,p),f=null}},createHref:function(e){return t(o,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=RE.Push;var r=zE(m.location,e,t);n&&n(r,e);var i=VE(r,h=d()+1),a=m.createHref(r);try{c.pushState(i,"",a)}catch(u){o.location.assign(a)}s&&f&&f({action:l,location:m.location,delta:1})},replace:function(e,t){l=RE.Replace;var r=zE(m.location,e,t);n&&n(r,e);var i=VE(r,h=d()),a=m.createHref(r);c.replaceState(i,"",a),s&&f&&f({action:l,location:m.location,delta:0})},go:function(e){return c.go(e)}};return m}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(UE||(UE={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function KE(e,t,n){void 0===n&&(n="/");var r=tx(("string"===typeof t?HE(t):t).pathname||"/",n);if(null==r)return null;var i=GE(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=ZE(i[o],ex(r));return a}function GE(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(jE(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=ax([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(jE(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),GE(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:YE(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=m(WE(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function WE(e){var t=e.split("/");if(0===t.length)return[];var n,r=y(n=t)||_(n)||v(n)||g(),i=r[0],a=r.slice(1),o=i.endsWith("?"),u=i.replace(/\?$/,"");if(0===a.length)return o?[u,""]:[u];var s=WE(a.join("/")),c=[];return c.push.apply(c,I(s.map((function(e){return""===e?u:[u,e].join("/")})))),o&&c.push.apply(c,I(s)),c.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var XE=/^:\w+$/,JE=function(e){return"*"===e};function YE(e,t){var n=e.split("/"),r=n.length;return n.some(JE)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!JE(e)})).reduce((function(e,t){return e+(XE.test(t)?3:""===t?1:10)}),r)}function ZE(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=$E({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:ax([i,l.pathname]),pathnameBase:ox(ax([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=ax([i,l.pathnameBase]))}return a}function $E(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);BE("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=k(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return BE(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function ex(e){try{return decodeURI(e)}catch(t){return BE(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function tx(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function nx(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function rx(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function ix(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=HE(e):(jE(!(i=ME({},e)).pathname||!i.pathname.includes("?"),nx("?","pathname","search",i)),jE(!i.pathname||!i.pathname.includes("#"),nx("#","pathname","hash",i)),jE(!i.search||!i.search.includes("#"),nx("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?HE(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:ux(a),hash:sx(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var ax=function(e){return e.join("/").replace(/\/\/+/g,"/")},ox=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ux=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},sx=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},cx=function(e){c(n,e);var t=d(n);function n(){return w(this,n),t.apply(this,arguments)}return x(n)}(R(Error));function lx(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var fx=["post","put","patch","delete"],hx=(new Set(fx),["get"].concat(fx));new Set(hx),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");var dx="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},px=e.useState,vx=e.useEffect,mx=e.useLayoutEffect,yx=e.useDebugValue;function gx(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!dx(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,t.useSyncExternalStore;var kx=e.createContext(null);var Ax=e.createContext(null);var bx=e.createContext(null);var wx=e.createContext(null);var Ex=e.createContext(null);var xx=e.createContext({outlet:null,matches:[]});var _x=e.createContext(null);function Ix(){return Ix=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ix.apply(this,arguments)}function Sx(){return null!=e.useContext(Ex)}function Tx(){return Sx()||jE(!1),e.useContext(Ex).location}function Cx(){Sx()||jE(!1);var t=e.useContext(wx),n=t.basename,r=t.navigator,i=e.useContext(xx).matches,a=Tx().pathname,o=JSON.stringify(rx(i).map((function(e){return e.pathnameBase}))),u=e.useRef(!1);e.useEffect((function(){u.current=!0}));var s=e.useCallback((function(e,t){if(void 0===t&&(t={}),u.current)if("number"!==typeof e){var i=ix(e,JSON.parse(o),a,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:ax([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,o,a]);return s}function Nx(t,n){var r=(void 0===n?{}:n).relative,i=e.useContext(xx).matches,a=Tx().pathname,o=JSON.stringify(rx(i).map((function(e){return e.pathnameBase})));return e.useMemo((function(){return ix(t,JSON.parse(o),a,"path"===r)}),[t,o,a,r])}function Rx(){var t=function(){var t,n=e.useContext(_x),r=Ux(Ox.UseRouteError),i=Fx(Ox.UseRouteError);if(n)return n;return null==(t=r.errors)?void 0:t[i]}(),n=lx(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:a},r):null,null)}var Dx,Ox,Px=function(t){c(r,t);var n=d(r);function r(e){var t;return w(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return x(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?e.createElement(xx.Provider,{value:this.props.routeContext},e.createElement(_x.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(e.Component);function Lx(t){var n=t.routeContext,r=t.match,i=t.children,a=e.useContext(kx);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(xx.Provider,{value:n},i)}function Mx(t,n,r){if(void 0===n&&(n=[]),null==t){if(null==r||!r.errors)return null;t=r.matches}var i=t,a=null==r?void 0:r.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||jE(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(t,o,u){var s=o.route.id?null==a?void 0:a[o.route.id]:null,c=null;r&&(c=o.route.ErrorBoundary?e.createElement(o.route.ErrorBoundary,null):o.route.errorElement?o.route.errorElement:e.createElement(Rx,null));var l=n.concat(i.slice(0,u+1)),f=function(){var n=t;return s?n=c:o.route.Component?n=e.createElement(o.route.Component,null):o.route.element&&(n=o.route.element),e.createElement(Lx,{match:o,routeContext:{outlet:t,matches:l},children:n})};return r&&(o.route.ErrorBoundary||o.route.errorElement||0===u)?e.createElement(Px,{location:r.location,component:c,error:s,children:f(),routeContext:{outlet:null,matches:l}}):f()}),null)}function Ux(t){var n=e.useContext(Ax);return n||jE(!1),n}function Fx(t){var n=function(t){var n=e.useContext(xx);return n||jE(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||jE(!1),r.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(Dx||(Dx={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Ox||(Ox={}));var jx;function Bx(t){var n=t.to,r=t.replace,i=t.state,a=t.relative;Sx()||jE(!1);var o=e.useContext(Ax),u=Cx();return e.useEffect((function(){o&&"idle"!==o.navigation.state||u(n,{replace:r,state:i,relative:a})})),null}function Vx(e){jE(!1)}function zx(t){var n=t.basename,r=void 0===n?"/":n,i=t.children,a=void 0===i?null:i,o=t.location,u=t.navigationType,s=void 0===u?RE.Pop:u,c=t.navigator,l=t.static,f=void 0!==l&&l;Sx()&&jE(!1);var h=r.replace(/^\/*/,"/"),d=e.useMemo((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=HE(o));var p=o,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,k=p.hash,A=void 0===k?"":k,b=p.state,w=void 0===b?null:b,E=p.key,x=void 0===E?"default":E,_=e.useMemo((function(){var e=tx(m,h);return null==e?null:{location:{pathname:e,search:g,hash:A,state:w,key:x},navigationType:s}}),[h,m,g,A,w,x,s]);return null==_?null:e.createElement(wx.Provider,{value:d},e.createElement(Ex.Provider,{children:a,value:_}))}function qx(t){var n=t.children,r=t.location,i=e.useContext(kx);return function(t,n){Sx()||jE(!1);var r,i=e.useContext(wx).navigator,a=e.useContext(Ax),o=e.useContext(xx).matches,u=o[o.length-1],s=u?u.params:{},c=(u&&u.pathname,u?u.pathnameBase:"/"),l=(u&&u.route,Tx());if(n){var f,h="string"===typeof n?HE(n):n;"/"===c||(null==(f=h.pathname)?void 0:f.startsWith(c))||jE(!1),r=h}else r=l;var d=r.pathname||"/",p=KE(t,{pathname:"/"===c?d:d.slice(c.length)||"/"}),v=Mx(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},s,e.params),pathname:ax([c,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:ax([c,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,a||void 0);return n&&v?e.createElement(Ex.Provider,{value:{location:Ix({pathname:"/",search:"",hash:"",state:null,key:"default"},r),navigationType:RE.Pop}},v):v}(i&&!n?i.router.routes:Qx(n),r)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(jx||(jx={}));var Hx=new Promise((function(){}));e.Component;function Qx(t,n){void 0===n&&(n=[]);var r=[];return e.Children.forEach(t,(function(t,i){if(e.isValidElement(t)){var a=[].concat(I(n),[i]);if(t.type!==e.Fragment){t.type!==Vx&&jE(!1),t.props.index&&t.props.children&&jE(!1);var o={id:t.props.id||a.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(o.children=Qx(t.props.children,a)),r.push(o)}else r.push.apply(r,Qx(t.props.children,a))}})),r}function Kx(){return Kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kx.apply(this,arguments)}function Gx(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Wx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Xx(t){var n,r=t.basename,i=t.children,a=t.window,o=e.useRef();null==o.current&&(o.current=(void 0===(n={window:a,v5Compat:!0})&&(n={}),QE((function(e,t){var n=e.location;return zE("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:qE(t)}),null,n)));var u=o.current,s=k(e.useState({action:u.action,location:u.location}),2),c=s[0],l=s[1];return e.useLayoutEffect((function(){return u.listen(l)}),[u]),e.createElement(zx,{basename:r,children:i,location:c.location,navigationType:c.action,navigator:u})}var Jx="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Yx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zx=e.forwardRef((function(t,n){var r,i=t.onClick,a=t.relative,o=t.reloadDocument,u=t.replace,s=t.state,c=t.target,l=t.to,f=t.preventScrollReset,h=Gx(t,Wx),d=e.useContext(wx).basename,p=!1;if("string"===typeof l&&Yx.test(l)&&(r=l,Jx)){var v=new URL(window.location.href),m=l.startsWith("//")?new URL(v.protocol+l):new URL(l),y=tx(m.pathname,d);m.origin===v.origin&&null!=y?l=y+m.search+m.hash:p=!0}var g=function(t,n){var r=(void 0===n?{}:n).relative;Sx()||jE(!1);var i=e.useContext(wx),a=i.basename,o=i.navigator,u=Nx(t,{relative:r}),s=u.hash,c=u.pathname,l=u.search,f=c;return"/"!==a&&(f="/"===c?a:ax([a,c])),o.createHref({pathname:f,search:l,hash:s})}(l,{relative:a}),k=function(t,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,u=r.preventScrollReset,s=r.relative,c=Cx(),l=Tx(),f=Nx(t,{relative:s});return e.useCallback((function(e){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,i)){e.preventDefault();var n=void 0!==a?a:qE(l)===qE(f);c(t,{replace:n,state:o,preventScrollReset:u,relative:s})}}),[l,c,f,a,o,i,t,u,s])}(l,{replace:u,state:s,target:c,preventScrollReset:f,relative:a});return e.createElement("a",Kx({},h,{href:r||g,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||k(e)},ref:n,target:c}))}));var $x,e_;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})($x||($x={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(e_||(e_={}));var t_=n.p+"static/media/Chat.aa0cd716ee65457fbfdb.png",n_=function(){var t=k((0,e.useState)(!1),2),n=t[0],r=t[1],i=Cx(),a=function(){var e=b(C().mark((function e(t){var n,a;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=t.target[0].value,a=t.target[1].value,e.prev=3,e.next=6,Yr(cE,n,a);case 6:i("/"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),r(!0);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}();return(0,hE.jsx)("div",{className:"formContainer",children:(0,hE.jsxs)("div",{className:"formWrapper",children:[(0,hE.jsx)("img",{className:"ChatImg",width:150,src:t_,alt:""}),(0,hE.jsx)("span",{className:"logo",children:"Mirnin Chat"}),(0,hE.jsx)("span",{className:"title",children:"Login"}),(0,hE.jsxs)("form",{onSubmit:a,children:[(0,hE.jsx)("input",{type:"email",placeholder:"email"}),(0,hE.jsx)("input",{type:"password",placeholder:"password"}),(0,hE.jsx)("button",{children:"Sign in"}),n&&(0,hE.jsx)("span",{children:"Something went wrong"})]}),(0,hE.jsxs)("p",{children:["You don't have an account? ",(0,hE.jsx)(Zx,{to:"/register",children:"Register"})]})]})})},r_=n.p+"static/media/dodaj.png.327bbdbd02e938aea997.png",i_=function(){var t=k((0,e.useState)(!1),2),n=t[0],r=t[1],i=k((0,e.useState)(!1),2),a=i[0],o=i[1],u=Cx(),s=function(){var e=b(C().mark((function e(t){var n,i,a,s,c,l,f;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),t.preventDefault(),n=t.target[0].value,i=t.target[1].value,a=t.target[2].value,s=t.target[3].files[0],e.prev=6,e.next=9,Xr(cE,i,a);case 9:return c=e.sent,l=(new Date).getTime(),f=cl(lE,"".concat(n+l)),e.next=14,ul(f,s).then((function(){sl(f).then(function(){var e=b(C().mark((function e(t){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ei(c.user,{displayName:n,img:t});case 3:return e.next=5,tE(Yb(fE,"users",c.user.uid),{uid:c.user.uid,displayName:n,email:i,img:t});case 5:return e.next=7,tE(Yb(fE,"userChats",c.user.uid),{});case 7:u("/"),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),r(!0),o(!1);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())}));case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(6),r(!0),o(!1);case 20:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(t){return e.apply(this,arguments)}}();return(0,hE.jsx)("div",{className:"formContainer",children:(0,hE.jsxs)("div",{className:"formWrapper",children:[(0,hE.jsx)("img",{className:"ChatImg",width:90,src:t_,alt:""}),(0,hE.jsx)("span",{className:"logo",children:"Mirnin Chat"}),(0,hE.jsx)("span",{className:"title",children:"Register"}),(0,hE.jsxs)("form",{onSubmit:s,children:[(0,hE.jsx)("input",{required:!0,type:"text",placeholder:"display name"}),(0,hE.jsx)("input",{required:!0,type:"email",placeholder:"email"}),(0,hE.jsx)("input",{required:!0,type:"password",placeholder:"password"}),(0,hE.jsx)("input",{required:!0,style:{display:"none"},type:"file",id:"file"}),(0,hE.jsxs)("label",{htmlFor:"file",children:[(0,hE.jsx)("img",{src:r_,alt:""}),(0,hE.jsx)("span",{children:"Add picture"})]}),(0,hE.jsx)("button",{disabled:a,children:"Sign up"}),a&&"Uploading and compressing the image please wait...",n&&(0,hE.jsx)("span",{children:"Something went wrong"})]}),(0,hE.jsxs)("p",{children:["You do have an account? ",(0,hE.jsx)(Zx,{to:"/login",children:"Login"})]})]})})};var a_=function(){var t=(0,e.useContext)(dE).currentUser,n=function(e){var n=e.children;return t?n:(0,hE.jsx)(Bx,{to:"/login"})};return(0,hE.jsx)(Xx,{children:(0,hE.jsx)(qx,{children:(0,hE.jsxs)(Vx,{path:"/",children:[(0,hE.jsx)(Vx,{index:!0,element:(0,hE.jsx)(n,{children:(0,hE.jsx)(LE,{})})}),(0,hE.jsx)(Vx,{path:"login",element:(0,hE.jsx)(n_,{})}),(0,hE.jsx)(Vx,{path:"register",element:(0,hE.jsx)(i_,{})})]})})})};r.createRoot(document.getElementById("root")).render((0,hE.jsx)(pE,{children:(0,hE.jsx)(gE,{children:(0,hE.jsx)(e.StrictMode,{children:(0,hE.jsx)(a_,{})})})}))}()}();
//# sourceMappingURL=main.6252fb20.js.map